(this["webpackJsonpteamwork---frontend"]=this["webpackJsonpteamwork---frontend"]||[]).push([[0],{1:function(e,t){var a=function(e,t,a,n,r){return"GET"===e||"DELETE"===e?fetch(t,{method:e,mode:"cors",headers:{"Access-Control-Allow-Origin":"*",Authorization:n?"Bearer ".concat(n):""}}).then((function(e){return e.status>=400?e.json().then((function(e){throw e})):e.json()})):r?fetch(t,{method:e,mode:"cors",body:a,headers:{"Access-Control-Allow-Origin":"*",Authorization:n?"Bearer ".concat(n):""}}).then((function(e){return e.status>=400?e.json().then((function(e){throw e})):e.json()})):fetch(t,{method:e,mode:"cors",body:JSON.stringify(a),headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:n?"Bearer ".concat(n):""}}).then((function(e){return e.status>=400?e.json().then((function(e){throw e})):e.json()}))};t.apiKey="https://teamworkbycharles.herokuapp.com/api/v1",t.getData=function(e,t,n){return a("GET","".concat(e,"/").concat(t),null,n)},t.sendData=function(e,t,n,r){return a("POST",e,t,n,r)},t.modifyData=function(e,t,n,r){return a("PATCH",e,t,n,r)},t.deleteData=function(e,t,n){return a("DELETE","".concat(e,"/").concat(t),null,n)}},18:function(e,t,a){},23:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},41:function(e,t,a){e.exports=a(81)},70:function(e,t,a){},71:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),c=a.n(o),s=a(33),l=a.n(s),i=a(9),m=a(34),d=a.n(m),u=(a(70),Object(i.promiseTrackerHoc)((function(e){return e.promiseInProgress&&r.a.createElement("div",{className:"spinner"},r.a.createElement(d.a,{type:"ThreeDots",color:"#690483",height:100,width:100}))}))),p=(a(71),a(2)),f=a(3),g=a(5),h=a(4),b=a(6),v=a(7),E=a(17),y=a(35),N=a(36),O=a(37),j=a(24),k=(a(75),a(8)),x=(a(76),document.querySelector("#modal")),w=function(e){var t=e.isModalOpen;return r.a.createElement("div",{className:t?"modalRoot":""},r.a.createElement("div",{className:"modal--box ".concat(t?"active":"")},r.a.createElement("div",{className:"d-flex justify-content--s-between position-relative"},r.a.createElement("div",{className:"modal-content--btn"},e.contentBtn?e.contentBtn:null),r.a.createElement("i",{className:"fas fa-times close font-md",onClick:function(t){return e.toggleModal(t)}})),r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("h4",{className:"modal--heading"},e.contentTitle),e.contentBody)))},I=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).state={},a.modalDiv=document.createElement("div"),a.modalDiv.classList.add("modal--wrapper"),a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){x.appendChild(this.modalDiv)}},{key:"componentWillUnmount",value:function(){x.removeChild(this.modalDiv)}},{key:"render",value:function(){return Object(o.createPortal)(r.a.createElement(w,this.props),this.modalDiv)}}]),t}(n.Component),D=a(11);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var S=Object(n.createContext)(),F=S.Consumer,U=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).updateAccount=function(e){a.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(D.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e))},a.state={data:{userId:null,token:null,account_type:null,jobRole:null,department:null,gender:null},updateAccount:function(e){return a.updateAccount(e)}},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidUpdate",value:function(){var e="https://res.cloudinary.com/dx5lp5drd/image/upload/v1574682959/businessman-310819_640_guvqva.png",t="https://res.cloudinary.com/dx5lp5drd/image/upload/v1574682959/user-310807_640_wgamok.png",a=JSON.parse(JSON.stringify(this.state.data)),n=a.photoDetails,r=a.gender;null===n&&(a.photoDetails="male"===r?[e,null]:[t,null],this.setState({data:a}))}},{key:"render",value:function(){return console.log(this.state),r.a.createElement(S.Provider,{value:this.state},this.props.children)}}]),t}(r.a.Component),M=a(1),T=(a(18),Object(n.createContext)(),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,r=t.password,o=a.props.history,c={email:n,password:r};Object(i.trackPromise)(Object(M.sendData)("".concat(M.apiKey,"/auth/signin"),c).then((function(e){var t={isLoggedIn:!0,data:e.data};a.props.updateAccount(t),"admin"===e.data.accountType?o.push("/admin/dashboard"):o.push("/user")})).catch((function(e){var t=e.error;console.log(t),console.log(e),a.setState({error:t.split(",")[0]})})))},a.onChange=function(e){e.preventDefault();var t=e.target;a.setState(Object(D.a)({},t.name,t.value))},a.state={email:"",password:"",error:""},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state),r.a.createElement("form",{className:"form",method:"POST",ref:"LoginForm"},r.a.createElement("label",null," Email",r.a.createElement("input",{type:"email",name:"email",placeholder:"Enter your email",className:"form-control",value:this.state.email,onChange:function(t){return e.onChange(t)}})),r.a.createElement("label",null," Password",r.a.createElement("input",{type:"password",name:"password",placeholder:"Enter Password",className:"form-control",value:this.state.password,onChange:function(t){return e.onChange(t)}})),r.a.createElement("span",{className:"d-block italic danger-text font-sm padding-bottom-sm font-weight-bold"},this.state.error),r.a.createElement("input",{onClick:function(t){return e.handleSubmit(t)},type:"submit",value:"Sign in",className:"submit--btn"}))}}]),t}(n.Component)),P=Object(E.g)(T),A=(a(79),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).toggleModal=function(e){e.preventDefault();var t=e.target;console.log(t);var n=Object(k.a)(t.classList);console.log(n),n.includes("close")?a.setState({isModalOpen:!1}):a.setState({isModalOpen:!0}),console.log(a.state.isModalOpen)},a.state={isModalOpen:!1},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.state.isModalOpen;return console.log(t),r.a.createElement("header",{className:"landingPage-header page-padding"},r.a.createElement("nav",{className:"padding-top-sm d-flex align-items--center justify-content--s-between"},r.a.createElement(v.b,{to:"/"},r.a.createElement("div",{className:"favicon color-white"},r.a.createElement("span",{className:"italic font-lg"},"T"),r.a.createElement("span",{className:"font-sm"},"eam"),r.a.createElement("span",{className:"italic font-lg"},"W"),r.a.createElement("span",{className:"font-sm"},"ork"))),r.a.createElement("div",{className:"d-inline-block btn",onClick:function(t){return e.toggleModal(t)}},"Sign in")),r.a.createElement("div",{className:"d-flex align-items--center justify-content--s-between margin-top-lg"},r.a.createElement("div",{className:"desc color-white"},r.a.createElement("div",{className:"padding-bottom-md"},r.a.createElement("h1",{className:"font-xlg padding-bottom-md"},"Build a stronger team spirit with your co-workers."),r.a.createElement("p",{className:"font-md text-content"},"Teamwork is an internal social network specifically designed for companies to aid the communication strength among employees and the administrator.")),r.a.createElement("div",{className:"d-inline-block btn",onClick:function(t){return e.toggleModal(t)}},"Sign in")),r.a.createElement("div",{className:"desc d-flex align-items--center"},r.a.createElement("img",{src:"https://res.cloudinary.com/dx5lp5drd/image/upload/v1574682959/avatar-2191932_1280-removebg-preview_wqs7ev.png",alt:"",style:{width:"100%",height:"auto"}}),r.a.createElement("div",{className:"bckgr-white border-r-10 padding-md",style:{width:"100%",height:"auto"}},r.a.createElement("p",{className:"font-md text-content color2 font-weight-600",style:{fontStyle:"italic"}},"Learn, share ideas... Collaborate with your team and build a stronger connectivity that will surely reveal the hidden success. Teamwork!!!")))),r.a.createElement(F,null,(function(a){var n=a.updateAccount;return r.a.createElement(I,{toggleModal:e.toggleModal,isModalOpen:t,contentTitle:" Sign in",contentBody:r.a.createElement(P,{updateAccount:n})})})))}}]),t}(n.Component)),L=(a(23),function(e){var t=e.target,a=document.querySelector(".aside.left");t.classList.contains("close")?a.classList.remove("show"):a.classList.add("show"),console.log(a.classList),console.log(t)}),_=function(e){var t=e.target,a=document.querySelector(".aside.right");t.classList.contains("close")?a.classList.remove("show"):a.classList.add("show"),console.log(a.classList),console.log(t)},G=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).handleLogout=function(){var e=a.props;(0,e.updateAccount)({isLoggedIn:!1,userData:e.userData})},a.state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props.userData,a=t.photoDetails,n=t.interests,o=t.accountType;return console.log(this.props.userAccount),r.a.createElement("aside",{className:"aside left padding-top-sm"},r.a.createElement("div",{className:"position-relative"},r.a.createElement("i",{className:"fas fa-times close color-white font-sm cursor-pointer",onClick:function(e){return L(e)}})),r.a.createElement("div",{className:"padding-top-md"},r.a.createElement("div",{className:"about-user border-line--h d-flex justify-content--center column align-items--center padding-bottom-sm"},r.a.createElement(v.b,{to:"/user/profile",className:"user_avatar avatar--lg"},r.a.createElement("img",{src:a[0],alt:"user avatar"})),r.a.createElement("div",{className:"interests margin-top-md d-flex padding-md"},null!==n?n.map((function(e,t){return r.a.createElement("span",{key:t,className:"margin-right-sm margin-bottom-sm btn font-sm padding-sm"},e)})):null)),r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("ul",{className:"margin-bottom-md"},"admin"===o?r.a.createElement(v.b,{to:"/admin/dashboard"},r.a.createElement("li",{className:"sidebar-link padding-bottom-md margin-bottom-sm cursor-pointer"},r.a.createElement("i",{className:"fas fa-cogs color-white padding-right-sm font-sm"}),r.a.createElement("span",{className:"sidebar--link-text font-sm"},"Admin Panel"))):null,r.a.createElement("li",{className:"sidebar-link padding-bottom-md margin-bottom-sm cursor-pointer"},r.a.createElement("i",{className:"fas fa-newspaper color-white padding-right-sm font-md"}),r.a.createElement("span",{className:"sidebar--link-text font-md"},"Dashboard")),r.a.createElement("li",{className:"sidebar-link padding-bottom-md margin-bottom-sm cursor-pointer cursor-pointer",onClick:function(){return e.handleLogout()}},r.a.createElement("i",{className:"fas fa-sign-out-alt color-white padding-right-sm font-sm"}),r.a.createElement("span",{className:"sidebar--link-text font-md"},"Log out"))))))}}]),t}(n.Component),R=Object(n.createContext)(),B=(R.Consumer,function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e)))._isMounted=!1,a.addUser=function(e){a.setState({users:Object(k.a)(e)})},a.state={users:[],addUser:function(e){return a.addUser(e)}},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return console.log(this.state),r.a.createElement(R.Provider,{value:this.state},this.props.children)}}]),t}(r.a.Component)),K=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.context.users;console.log(e),e=e.map((function(e){return{photoDetails:e.photoDetails,firstName:e.firstName,lastName:e.lastName,employeeId:e.employeeId}}));var t=this.props.userId;return console.log(e),r.a.createElement("aside",{className:"aside right bckgr-white padding-top-md"},r.a.createElement("div",{className:"position-relative"},r.a.createElement("i",{className:"fas fa-times close font-sm cursor-pointer",onClick:function(e){return _(e)}}),r.a.createElement("div",{className:"accordion"},r.a.createElement("div",{className:"accordion--btn d-flex justify-content--center"},r.a.createElement("span",{className:"font-md font-weight-600"},"All Colleagues")),r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("ul",{className:"online--users"},e.map((function(e,a){var n=e.photoDetails,o=e.firstName,c=e.lastName,s=e.employeeId;return r.a.createElement(v.b,{to:"".concat(t===s?"/user/profile":"/user/".concat(o,"_").concat(c)),key:a},r.a.createElement("li",{className:"user d-flex align-items--center margin-bottom-md nowrap action",key:a},r.a.createElement("div",{className:"position-relative"},r.a.createElement("img",{className:"avatar--sm icon",src:n[0],alt:"poster avatar"}),r.a.createElement("span",{className:"online"})),r.a.createElement("span",{className:"font-sm username"},"".concat(o," ").concat(c," ").concat(t===s?"(You)":""))))})))))))}}]),t}(n.Component);K.contextType=R;var W=K,J=Object(n.createContext)(),q=J.Consumer,H=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).updateFeed=function(e){a.setState({feed:Object(k.a)(e)})},a.state={feed:[],updateFeed:function(e){return a.updateFeed(e)}},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return console.log(this.state),r.a.createElement(J.Provider,{value:this.state},this.props.children)}}]),t}(r.a.Component),V=a(40),z=function(e){var t=e.component,a=e.auth,o=e.path,c=Object(V.a)(e,["component","auth","path"]),s=Object(n.useContext)(R),l=s.users,i=s.addUser,m=a();return r.a.createElement(E.b,Object.assign({path:o},c,{render:function(e){return m?r.a.createElement(t,Object.assign({users:l,addUser:i},e)):r.a.createElement(E.a,{to:{pathName:"/",state:{prevLocation:o,error:"UnAuthorized Access!"}}})}}))},Y=function(){var e=Object(n.useContext)(S),t=e.isLoggedIn,a=e.data;return{isLoggedIn:t,userId:a.userId,token:a.token,accountType:a.accountType}},$=function(){var e=Y(),t=e.isLoggedIn,a=e.userId,n=e.token;return!!(t&&a&&n)},Q=function(){var e=Y(),t=e.accountType,a=e.isLoggedIn,n=e.userId,r=e.token;return!!(a&&n&&r&&"admin"===t)},X=(a(31),function(e){var t=new Date(e),a=new Date,n=t.getDay(),r=a.getDay(),o=(a.getTime()-t.getTime())/864e5;switch(o){case 1===o&&r-n===1:return"yesterday at ".concat(te(t));case 0===o&&r===n:return"today at ".concat(te(t));case o>1:return"".concat(ee(t));default:return"".concat(Z(t)," ").concat(t.getDate()," at ").concat(te(t))}}),Z=function(e){return["Jan","Feb","Mar","April","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]},ee=function(e){return["Sun","Mon","Tues","Wed","Thur","Fri","Sat"][e.getDay()]},te=function(e){var t=e.getHours(),a=e.getMinutes(),n=t>=12?"pm":"am";return t=t%12?t%12:12,a=a<10?"0".concat(a):a,"".concat(t,":").concat(a," ").concat(n)},ae=function(e,t,a){var n=t.map((function(e){return e.createdon=X(e.createdon),e}));return e.map((function(e){var t=n.filter((function(t){return t.contentid===parseInt(e.id,10)}));console.log(t);var r=a.filter((function(t){return t.contentid===e.id})),o=e.createdon;return e.comments=t,e.createdon=X(o),e.flagStat=r,e}))},ne=function(e,t,a){var n=t.map((function(e){return e.createdon=X(e.createdon),e}));return e.comments=n,e.flagStats=a,e.createdon=X(e.createdon),e},re=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).fetchFlagStats=function(){var e=a.props,t=e.feedId,n=e.feedType,r=e.userData,o=e.comment.id,c=r.userId,s=r.token,l="article"===n?"articles":"gifs";Object(M.getData)("".concat(M.apiKey,"/").concat(l,"/").concat(t,"/comment/").concat(parseInt(o,10),"/flagStats"),c,s).then((function(e){var t=e.data.flagStats;a.setState({flagStats:t}),console.log(a.state),console.log(t)})).catch((function(e){console.log(e)}))},a.flag=function(e){e.preventDefault();var t=a.props,n=t.feedId,r=t.feedType,o=t.userData,c=o.userId,s=o.token,l=t.comment.id,i={isFlagged:!e.target.classList.contains("danger-text"),userId:c};Object(M.modifyData)("".concat(M.apiKey,"/").concat(r,"s/").concat(n,"/comment/").concat(parseInt(l,10),"/flag"),i,s).then((function(e){a.fetchFlagStats()})).catch((function(e){console.log(e)}))},a.checkIfUserFlagged=function(e,t){return e.find((function(e){return parseInt(e.userid,10)===t}))},a.state={flagStats:[]},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.fetchFlagStats()}},{key:"render",value:function(){var e=this,t=this.props,a=t.comment,n=t.users,o=t.userData.userId,c=this.state.flagStats,s=n.find((function(e){return e.employeeId===a.userid})),l=s.photoDetails,i=s.firstName,m=s.lastName,d=s.employeeId;return r.a.createElement("div",{className:"margin-bottom-sm border-line--h"},r.a.createElement("div",{className:"margin-bottom-sm"},r.a.createElement("div",{className:"d-flex justify-content--s-between align-items--center margin-bottom-sm"},r.a.createElement("div",{className:"poster--details"},r.a.createElement(v.b,{to:d===parseInt(o,10)?"/user/profile":"/user/".concat(i,"_").concat(m),style:{color:"#000"}},r.a.createElement("div",{className:"d-flex nowrap"},r.a.createElement("img",{className:"avatar--sm icon",src:l[0],alt:"poster avatar"}),r.a.createElement("div",{className:"d-flex column"},r.a.createElement("span",{className:"poster--username text-content font-weight-bold margin-bottom-xsm"},"".concat(i," ").concat(m)),r.a.createElement("div",{className:"margin-bottom-sm"},r.a.createElement("span",{className:"d-block font-sm gray-color"},a.createdon)))))),r.a.createElement("div",{className:"flag-stats "},r.a.createElement("i",{className:"fas fa-flag margin-right-sm cursor-pointer ".concat(this.checkIfUserFlagged(c,o)?"danger-text":""),onClick:function(t){return e.flag(t)}}),r.a.createElement("span",{className:"flag font-weight-bold font-sm padding-sm border-r-circle"},0===c.length?"":c.length)))),r.a.createElement("div",{className:"comment-content margin-bottom-sm"},r.a.createElement("div",{className:"text-content padding-bottom-sm"},r.a.createElement("p",null,a.comment))))}}]),t}(n.Component),oe=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).handleUserInput=function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value;a.setState(Object(D.a)({},n,r),(function(){console.log(a.state)}))},a.handleSubmit=function(e){e.preventDefault();var t=a.context.data,n=t.userId,r=t.token,o=a.props,c=o.feedId,s="article"===o.feedType?"articles":"gifs",l={comment:a.state.comment,userId:parseInt(n,10)};Object(M.sendData)("".concat(M.apiKey,"/").concat(s,"/").concat(c,"/comment"),l,r).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},a.state={comment:""},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.context.data,a=t.userId,n=t.token,o=this.props,c=o.feedId,s=o.comments,l=o.users,i=o.feedType;return console.log(s),r.a.createElement("div",{className:"comment--section"},s.map((function(e,t){return r.a.createElement(re,{key:t,comment:e,feedId:c,feedType:i,users:l,userData:{userId:a,token:n}})})),r.a.createElement("form",{className:"form d-flex position-relative",style:{width:"100%"}},r.a.createElement("textarea",{className:"textarea padding-md padding-bottom-lg padding-right-lg font-md margin-bottom-sm",onChange:function(t){return e.handleUserInput(t)},name:"comment",value:this.state.comment,placeholder:"Post Comment"}),r.a.createElement("i",{className:"fas fa-paper-plane color2 font-lg",style:{position:"absolute",bottom:"20px",right:"25px"},onClick:function(t){return e.handleSubmit(t)}})))}}]),t}(n.Component);oe.contextType=S;var ce=oe,se=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).handleUserInput=function(e){e.preventDefault();var t=e.target;console.log(t);var n=t.name,r=t.value;if("category"===n){var o=r.split(",");return a.setState(Object(D.a)({},n,Object(k.a)(o))),void console.log(a.state)}a.setState(Object(D.a)({},n,r)),console.log(a.state)},a.handleSubmit=function(e){e.preventDefault();var t=a.context,n=t.feed,r=t.updateFeed,o=a.props.userData,c=o.userId,s=o.token,l=a.state,m=l.title,d=l.articleBody,u=l.category,p=l.articleId,f={title:m,article:d,userId:parseInt(c,10),category:0===u.length?null:u};Object(i.trackPromise)(Object(M.modifyData)("".concat(M.apiKey,"/articles/").concat(p),f,s,!1).then((function(e){console.log(e.data);var t=e.data,o=t.title,c=t.article,s=t.category,l=n.map((function(e){return e.id===p&&(e.title=o,e.category=s,e.content=c),e}));r(l),a.props.closeModal()})).catch((function(e){console.log(e);var t=e.error;console.log(t)})))},a.state={title:a.props.title,articleBody:a.props.article,category:a.props.category,articleId:a.props.articleId,formIsValid:!0,error:{title:"title should not be empty",articleBody:"Content should not be empty",category:[]}},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.state.formIsValid;return r.a.createElement("form",{style:{width:"400px"},className:"form",method:"POST",ref:"createGif"},r.a.createElement("label",null," Title",r.a.createElement("input",{type:"text",name:"title",placeholder:"Enter title",className:"form-control",value:this.state.title,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement("span",{className:"error-msg italic padding-sm"}),r.a.createElement("label",null," Category",r.a.createElement("input",{type:"text",name:"category",placeholder:"(Optional) separate every category with ','",className:"form-control",value:this.state.category,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement("span",{className:"error-msg italic padding-sm"}),r.a.createElement("label",null,"Content",r.a.createElement("textarea",{type:"text",name:"articleBody",placeholder:"What's happening?",className:"form-control textarea",value:this.state.articleBody,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement("span",{className:"error-msg italic padding-sm"}),r.a.createElement("button",{disabled:!t,className:"submit--btn ".concat(t?"":"isInvalid"),onClick:function(t){return e.handleSubmit(t)}},"Update"))}}]),t}(n.Component);se.contextType=J;var le=se,ie=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).handleUserInput=function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value;"file"!==n?a.setState(Object(D.a)({},n,r),(function(){console.log(a.state)})):a.setState({fileURL:URL.createObjectURL(e.target.files[0]),file:e.target.files[0]})},a.assignArray=function(e){return(e=e.split(",")).length<=0?null:e},a.handleSubmit=function(e){e.preventDefault();var t=a.context,n=t.feed,r=t.updateFeed,o=a.props.userData,c=o.token,s=o.userId,l=a.state,m=l.title,d=l.category,u=l.file,p=l.gifId;d=a.assignArray(d);var f=new FormData;f.append("files",u),f.append("title",m),f.append("category",d),f.append("userId",s),e.target.value="Publishing...",Object(i.trackPromise)(Object(M.sendData)("".concat(M.apiKey,"/gifs/").concat(p),f,c).then((function(t){e.target.value="Publish";var a=t.data;n=[a].concat(Object(k.a)(n)),r(n),console.log(t)})).catch((function(e){console.log(e)})))},a.state={title:a.props.title,category:a.props.category,gifId:a.props.feedId,file:null,fileURL:a.props.publicUrl},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"form",method:"POST",ref:"ModifyGIF"},r.a.createElement("label",null," GIF title",r.a.createElement("input",{type:"text",name:"title",placeholder:"Enter title",className:"form-control",value:this.state.title,onChange:function(t){return e.handleUserInput(t)}}),r.a.createElement("span",{className:"error-msg italic padding-sm"})),r.a.createElement("label",null," Category",r.a.createElement("input",{type:"text",name:"category",placeholder:"(Optional) separate every category with ','",className:"form-control",value:this.state.category,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement("span",{className:"error-msg italic padding-sm"}),r.a.createElement("div",{className:"file_display",style:{width:"150px",height:"150px",display:"".concat(null===this.state.fileURL?"none":"inline-block")}},r.a.createElement("img",{src:this.state.fileURL,alt:""})),r.a.createElement("div",{className:"padding-bottom-md"},r.a.createElement("label",{className:"btn--file d-inline-block"},r.a.createElement("div",{className:"upload--icon"},r.a.createElement("i",{className:"far fa-image font-md d-inline-block"}),r.a.createElement("span",{className:"padding-left-sm font-sm"},"Upload GIF...")),r.a.createElement("input",{type:"file",name:"file",multiple:!1,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement("span",{className:"error-msg italic padding-sm"})),r.a.createElement("input",{onClick:function(t){return e.handleSubmit(t)},type:"submit",value:"Publish",className:"submit--btn"}))}}]),t}(n.Component);ie.contextType=J;var me=ie,de=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).fetchFlagStats=function(){var e=a.props,t=e.feed.id,n=e.userData,r=n.userId,o=n.token;Object(M.getData)("".concat(M.apiKey,"/feed/").concat(t,"/flagStats"),r,o).then((function(e){var t=e.data.flagStats;a.setState({flagStats:t})})).catch((function(e){console.log(e)}))},a.flag=function(e){e.preventDefault();var t=a.props,n=t.feed.id,r=t.userData,o=r.userId,c=r.token,s={isFlagged:!e.target.classList.contains("danger-text"),userId:o};Object(M.modifyData)("".concat(M.apiKey,"/feed/").concat(n,"/flag"),s,c).then((function(e){a.fetchFlagStats()})).catch((function(e){console.log(e)}))},a.checkIfUserFlagged=function(e,t){return e.find((function(e){return parseInt(e.userid,10)===t}))},a.toggleModal=function(e){e.preventDefault();var t=e.target;Object(k.a)(t.classList).includes("close")?a.setState({isModalOpen:!1}):a.setState({isModalOpen:!0})},a.modifyArticle=function(e){e.preventDefault();var t=e.target;Object(k.a)(t.classList).includes("close")?a.setState({renderArticleForm:!1}):a.setState({renderArticleForm:!0})},a.modifyGIF=function(e){e.preventDefault();var t=e.target,n=Object(k.a)(t.classList);console.log(n),n.includes("close")?a.setState({renderGIF:!1}):a.setState({renderGIF:!0})},a.handleDelete=function(e){e.preventDefault();var t=a.props,n=t.feed,r=n.type,o=n.id,c=n.content,s=t.allFeed,l=t.updateFeed,m=t.userData,d=m.token,u=m.userId,p="article"===r?"articles/".concat(o):"gifs/".concat(o,"/").concat(c[1]);Object(i.trackPromise)(Object(M.deleteData)("".concat(M.apiKey,"/").concat(p),u,d).then((function(){var e=s.filter((function(e){return e.id!==o}));l(e)})).catch((function(e){return console.log(e)})))},a.contentType=function(e,t,a,n){switch(e){case"article":return r.a.createElement("div",{className:"text-content padding-bottom-sm"},r.a.createElement("p",{className:"font-weight-bold font-md padding-bottom-sm"},n),r.a.createElement("p",{className:"font-sm",style:{overflowY:"hidden",maxHeight:"150px"}},a[0]),r.a.createElement(v.b,{to:"/user/dashboard/articles/".concat(t)},r.a.createElement("span",{className:"padding-sm paint-text font-weight-bold"},"...Read More")));case"gif":return r.a.createElement("div",{className:"padding-bottom-sm"},r.a.createElement("p",{className:"font-weight-bold font-sm padding-bottom-md"},n),r.a.createElement("div",{className:"d-flex justify-content--center align-items--center padding-bottom-md"},r.a.createElement("div",{className:"",style:{width:"70%",height:"150px",overflow:"hidden"}},r.a.createElement("img",{className:"",style:{width:"100%",height:"auto"},src:a[0],publicid:a[1],alt:"poster avatar"}))),r.a.createElement(v.b,{to:"/user/dashboard/gifs/".concat(t)},r.a.createElement("span",{className:"padding-md paint-text font-weight-bold"},"...View full size")))}},a.state={flagStats:a.props.feed.flagStat,isModalOpen:!1,renderArticleForm:!1,renderGIF:!1},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.context.users;t=t.map((function(e){return{employeeId:e.employeeId,photoDetails:e.photoDetails,firstName:e.firstName,lastName:e.lastName}}));var a=this.props.feed,n=a.id,o=a.title,c=a.category,s=a.content,l=a.userid,i=a.type,m=a.comments,d=this.state.flagStats,u=t.find((function(e){return e.employeeId===l})),p=u.photoDetails,f=u.firstName,g=u.lastName,h=u.employeeId,b=this.props.feed.createdon,E=this.props.userData,y=E.userId,N=E.token;return r.a.createElement("article",{className:"story margin-bottom-md"},h===parseInt(y,10)?r.a.createElement("div",{className:"d-flex",style:{justifyContent:"flex-end"}},r.a.createElement("div",{className:"padding-bottom-sm trigger-more-action cursor-pointer position-relative"},r.a.createElement("i",{className:"fas fa-ellipsis-h font-md font-weight-bold color-dark tooltip"}),r.a.createElement("div",{className:"more-option padding-md border-r-10"},r.a.createElement("div",{className:"d-flex align-items-end font-weight-bold margin-bottom-sm padding-sm padding-bottom-xsm",onClick:function(t){return e.handleDelete(t)}},r.a.createElement("i",{className:"fas fa-trash font-sm margin-right-sm"}),r.a.createElement("span",{className:"font-sm"},"Delete ","article"===i?"article":"GIF")),r.a.createElement("div",{className:"d-flex align-items-end font-weight-bold padding-sm padding-bottom-xsm",onClick:function(t){return"article"===i?e.modifyArticle(t):e.modifyGIF(t)}},r.a.createElement("i",{className:"fas fa-pen font-sm margin-right-sm"}),r.a.createElement("span",{className:"font-sm"},"Edit ","article"===i?"article":"GIF"))))):null,r.a.createElement("div",{className:"margin-bottom-sm"},r.a.createElement("div",{className:"d-flex justify-content--s-between margin-bottom-sm"},r.a.createElement("div",{className:"poster--details"},r.a.createElement(v.b,{to:h===parseInt(y,10)?"/user/profile":"/user/".concat(f,"_").concat(g),style:{color:"#000"}},r.a.createElement("div",{className:"d-flex nowrap"},r.a.createElement("img",{className:"avatar--sm icon",src:p[0],alt:"poster avatar"}),r.a.createElement("div",{className:"d-flex column"},r.a.createElement("span",{className:"poster--username text-content font-weight-bold margin-bottom-xsm"},"".concat(f," ").concat(g)),r.a.createElement("div",{className:"margin-bottom-sm"},r.a.createElement("span",{className:"d-block font-sm gray-color"},b)))))),r.a.createElement("div",{className:"flag-stats justify-self-end"},r.a.createElement("i",{className:"fas fa-flag margin-right-sm cursor-pointer ".concat(this.checkIfUserFlagged(d,y)?"danger-text":""),onClick:function(t){return e.flag(t)}}),r.a.createElement("span",{className:"flag font-weight-bold font-sm padding-sm border-r-circle"},0===d.length?"":d.length)))),r.a.createElement("div",{className:"post-content margin-bottom-sm"},this.contentType(i,n,s,o)),r.a.createElement("div",{className:"category"},c.map((function(e,t){return r.a.createElement("span",{key:t,className:"border-r-10 text-content italic font-sm bckgr-color2 color-white padding-sm margin-right-sm margin-bottom-sm"},e)}))),r.a.createElement("div",{className:"comment--flag--section padding-top-sm"},r.a.createElement("div",{className:"stats d-flex justify-content--s-between align-items--center margin-bottom-sm\r padding-bottom-sm"},r.a.createElement("div",{className:"comment-stats font-weight-bold cursor-pointer"},r.a.createElement("i",{className:"fas fa-comments margin-right-sm paint-text"}),r.a.createElement("span",{className:"value comment font-sm icon"},m.length)),r.a.createElement("div",{className:"action padding-sm",id:"add--comment",style:{border:"1px solid #a0a0a0",borderRadius:"10px",justifySelf:"flex-end"},onClick:function(t){return e.toggleModal(t)}},r.a.createElement("i",{className:"fas fa-comment icon color2"}),r.a.createElement("span",{className:"font-weight-bold"},"Comment")))),r.a.createElement(I,{toggleModal:this.toggleModal,isModalOpen:this.state.isModalOpen,contentTitle:"View Comments",contentBody:r.a.createElement(ce,{comments:m,feedId:n,users:t,feedType:i})}),r.a.createElement(I,{toggleModal:this.modifyArticle,isModalOpen:this.state.renderArticleForm,contentTitle:"Modify Article",contentBody:r.a.createElement(le,{title:o,article:s[0],category:c,articleId:n,userData:{userId:y,token:N},closeModal:this.closeModal})}),r.a.createElement(I,{toggleModal:this.modifyGIF,isModalOpen:this.state.renderGIF,contentTitle:"Modify GIF",contentBody:r.a.createElement(me,{title:o,publicUrl:s[0],category:c,gifId:n,userData:{userId:y,token:N},closeModal:this.closeModal})}))}}]),t}(n.Component);de.contextType=R;var ue=de,pe=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).handleUserInput=function(e){e.preventDefault();var t=e.target;console.log(t);var n=t.name,r=t.value;if("category"!==n)a.setState(Object(D.a)({},n,r)),console.log(a.state);else{var o=r.split(",");a.setState(Object(D.a)({},n,o))}},a.handleSubmit=function(e){e.preventDefault();var t=a.context,n=t.feed,r=t.updateFeed,o=a.props.userData,c=o.userId,s=o.token,l=a.state,m=l.title,d=l.articleBody,u=l.category,p={title:m,article:d,userId:parseInt(c,10),category:0===u.length?null:u};console.log(p),Object(i.trackPromise)(Object(M.sendData)("".concat(M.apiKey,"/articles"),p,s).then((function(e){console.log(e.data);e.status;var t=e.data;r.apply(void 0,[t].concat(Object(k.a)(n)))})).catch((function(e){e.error;console.log(e)})))},a.state={title:"",articleBody:"",category:"",formIsValid:!0,error:{title:"title should not be empty",articleBody:"Content should not be empty",category:[]}},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.state.formIsValid;return r.a.createElement("form",{style:{width:"400px"},className:"form",method:"POST",ref:"createGif"},r.a.createElement("label",null," Title",r.a.createElement("input",{type:"text",name:"title",placeholder:"Enter title",className:"form-control",value:this.state.title,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement("span",{className:"error-msg italic padding-sm"}),r.a.createElement("label",null," Category",r.a.createElement("input",{type:"text",name:"category",placeholder:"(Optional) separate every category with ','",className:"form-control",value:this.state.category,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement("span",{className:"error-msg italic padding-sm"}),r.a.createElement("label",null,"Content",r.a.createElement("textarea",{type:"text",name:"articleBody",placeholder:"What's happening?",className:"form-control textarea",value:this.state.articleBody,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement("span",{className:"error-msg italic padding-sm"}),r.a.createElement("button",{disabled:!t,className:"submit--btn ".concat(t?"":"isInvalid"),onClick:function(t){return e.handleSubmit(t)}},"Publish"))}}]),t}(n.Component);pe.contextType=J;var fe=pe,ge=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).handleUserInput=function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value;"file"!==n?a.setState(Object(D.a)({},n,r),(function(){console.log(a.state)})):a.setState({fileURL:URL.createObjectURL(e.target.files[0]),file:e.target.files[0]})},a.assignArray=function(e){return 0===(e=e.split(",")).length?null:e},a.handleSubmit=function(e){e.preventDefault();var t=a.context,n=t.feed,r=t.updateFeed,o=a.props.userData,c=o.token,s=o.userId,l=a.state,m=l.title,d=l.category,u=l.file;d=a.assignArray(d);var p=new FormData;p.append("files",u),p.append("title",m),p.append("category[]",d),p.append("userId",s),console.log(p),e.target.value="Publishing...",Object(i.trackPromise)(Object(M.sendData)("".concat(M.apiKey,"/gifs"),p,c,!0).then((function(e){var t=e.data;n=[t].concat(Object(k.a)(n)),r(n),console.log(e)})).catch((function(e){console.log(e)})))},a.state={title:"",category:"",file:null,fileURL:null},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"form",method:"POST",ref:"createGif"},r.a.createElement("label",null," GIF title",r.a.createElement("input",{type:"text",name:"title",placeholder:"Enter title",className:"form-control",value:this.state.title,onChange:function(t){return e.handleUserInput(t)}}),r.a.createElement("span",{className:"error-msg italic padding-sm"})),r.a.createElement("label",null," Category",r.a.createElement("input",{type:"text",name:"category",placeholder:"(Optional) separate every category with ','",className:"form-control",value:this.state.category,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement("span",{className:"error-msg italic padding-sm"}),r.a.createElement("div",{className:"file_display padding-bottom-sm",style:{width:"150px",height:"auto",display:"".concat(null===this.state.fileURL?"none":"inline-block")}},r.a.createElement("img",{src:this.state.fileURL,alt:"",style:{width:"100%",height:"auto"}})),r.a.createElement("div",{className:"padding-bottom-md"},r.a.createElement("label",{className:"btn--file d-inline-block"},r.a.createElement("div",{className:"upload--icon"},r.a.createElement("i",{className:"far fa-image font-md d-inline-block"}),r.a.createElement("span",{className:"padding-left-sm font-sm"},"Upload GIF...")),r.a.createElement("input",{type:"file",name:"file",multiple:!1,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement("span",{className:"error-msg italic padding-sm"})),r.a.createElement("input",{onClick:function(t){return e.handleSubmit(t)},type:"submit",value:"Publish",className:"submit--btn"}))}}]),t}(n.Component);ge.contextType=J;var he=ge,be=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).setArticleForm=function(){a.setState({activeComp:"article"})},a.setGIF=function(){a.setState({activeComp:"gif"})},a.state={activeComp:"article"},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.state.activeComp;return console.log(t),r.a.createElement(F,null,(function(a){var n=a.data,o=n.token,c=n.userId;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:"control--btns position-relative margin-bottom-md"},r.a.createElement("span",{type:"article",onClick:function(){return e.setArticleForm()},className:"accordion--btn font-weight-600 ".concat("article"===t?"active":""," margin-right-sm")},"Article"),r.a.createElement("span",{type:"gif",onClick:function(){return e.setGIF()},className:"accordion--btn font-weight-600 ".concat("gif"===t?"active":""," margin-right-sm ")},"GIF")),r.a.createElement("h3",{className:"modal--heading"},"article"===t?"Write an article":"Share GIF")),r.a.createElement("div",null,"gif"===t?r.a.createElement(he,{userData:{token:o,userId:c}}):r.a.createElement(fe,{userData:{token:o,userId:c}})))}))}}]),t}(n.Component),ve=function(e){return r.a.createElement("div",{className:"d-flex justify-content--center align-items--center"},r.a.createElement("span",{className:"font-lg gray-color font-weight-600"},e))},Ee=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).toggleModal=function(e){e.preventDefault();var t=e.target;Object(k.a)(t.classList).includes("close")?a.setState({isModalOpen:!1}):a.setState({isModalOpen:!0})},a.assignProperties=function(e,t,a){return e.map((function(e){var n=t.filter((function(t){return t.contentid===parseInt(e.id,10)})),r=a.filter((function(t){return t.contentid===e.id}));return e.comments=n,e.flagStat=r,e}))},a.renderFeed=function(e){var t=a.context.data,n=t.userId,o=t.firstName,c=t.lastName,s=t.token,l=a.props,i=l.updateFeed,m=l.feed;return 0!==e.length?e.map((function(e,t){return r.a.createElement(ue,{key:t,feed:e,allFeed:m,updateFeed:i,userData:{userId:n,firstName:o,lastName:c,token:s}})})):ve("No post to show!!! Why not be the first to own a content? Click the plus button above")},a.state={isModalOpen:!1},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.context.data,t=e.token,a=e.userId,n=this.props,r=n.updateFeed,o=n.feed;0===o.length&&Object(i.trackPromise)(Object(M.getData)("".concat(M.apiKey,"/feed"),a,t).then((function(e){var t=e.data,a=t.content,n=t.comments,c=t.flags;o=[].concat(Object(k.a)(ae(a,n,c)),Object(k.a)(o)),r(o)})).catch((function(e){console.log(e)})))}},{key:"render",value:function(){var e=this,t=this.props.feed;return r.a.createElement("div",null,r.a.createElement("div",{className:"create--post margin-bottom-md"},r.a.createElement("i",{className:"fas fa-plus-circle font-xlg action",onClick:function(t){return e.toggleModal(t)}})),r.a.createElement("section",null,this.renderFeed(t)),r.a.createElement(I,{toggleModal:this.toggleModal,isModalOpen:this.state.isModalOpen,contentTitle:"",contentBody:r.a.createElement(be,null)}))}}]),t}(n.Component);Ee.contextType=S;var ye=Ee,Ne=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).fetchSingleContent=function(){var e=a.props.userData,t=e.token,n=e.userId,r=a.props.props.match,o=r.params,c=r.path;console.log(a.props);var s=c.includes("articles")?"articles":"gifs",l=o.gifId||o.articleId;Object(i.trackPromise)(Object(M.getData)("".concat(M.apiKey,"/").concat(s,"/").concat(l),n,t).then((function(e){console.log(e),console.log(a.state);var t=e.data,n=t.content,r=t.comments,o=t.flags,c=ne(n,r,o),s=c.flagStats;a.setState({isFetching:!1,singleFeed:c,flagStats:s}),console.log(a.state)})).catch((function(e){console.log(e)})))},a.flag=function(e){e.preventDefault();var t=a.props.props.match.params,n=t.gifId||t.articleId,r=a.props.userData,o=r.userId,c=r.token,s={isFlagged:!e.target.classList.contains("danger-text"),userId:o};Object(M.modifyData)("".concat(M.apiKey,"/feed/").concat(n,"/flag"),s,c).then((function(){a.fetchFlagStats()})).catch((function(e){console.log(e)}))},a.handleDelete=function(e){e.preventDefault();var t=a.props,n=t.allFeed,r=t.updateFeed,o=t.userData,c=o.token,s=o.userId,l=a.state.singleFeed,m=l.type,d=l.id,u=l.content,p="article"===m?"articles/".concat(d):"gifs/".concat(d,"/").concat(u[1]);Object(i.trackPromise)(Object(M.deleteData)("".concat(M.apiKey,"/").concat(p),s,c).then((function(){var e=n.filter((function(e){return e.id!==d}));r(e)})).catch((function(e){return console.log(e)})))},a.fetchFlagStats=function(){var e=a.props.props.match.params,t=e.gifId||e.articleId,n=a.props.userData,r=n.userId,o=n.token;Object(M.getData)("".concat(M.apiKey,"/feed/").concat(t,"/flagStats"),r,o).then((function(e){var t=e.data.flagStats;a.setState({flagStats:t})})).catch((function(e){console.log(e)}))},a.toggleModal=function(e){e.preventDefault();var t=e.target;console.log(t);var n=Object(k.a)(t.classList);console.log(n),n.includes("close")?a.setState({isModalOpen:!1}):a.setState({isModalOpen:!0}),console.log(a.state.isModalOpen)},a.checkIfUserFlagged=function(e,t){return e.find((function(e){return parseInt(e.userid,10)===t}))},a.modifyArticle=function(e){e.preventDefault();var t=e.target,n=Object(k.a)(t.classList);console.log(n),n.includes("close")?a.setState({renderArticleForm:!1}):a.setState({renderArticleForm:!0})},a.modifyGIF=function(e){e.preventDefault();var t=e.target,n=Object(k.a)(t.classList);console.log(n),n.includes("close")?a.setState({renderGIF:!1}):a.setState({renderGIF:!0})},a.contentType=function(e,t,a){switch(e){case"article":return r.a.createElement("div",{className:"text-content padding-bottom-sm"},r.a.createElement("p",{className:"font-weight-bold font-md padding-bottom-sm"},a),r.a.createElement("p",{className:"font-sm"},t[0]));case"gif":return r.a.createElement("div",{className:"padding-bottom-sm"},r.a.createElement("p",{className:"font-weight-bold font-sm padding-bottom-md"},a),r.a.createElement("div",{className:"d-flex justify-content--center align-items--center padding-bottom-md"},r.a.createElement("div",{className:""},r.a.createElement("img",{className:"",style:{width:"100%",height:"auto"},src:t[0],publicid:t[1],alt:"poster avatar"}))))}},a.feed={},a.state={isFetching:!0,singleFeed:{},flagStats:[],isModalOpen:!1,renderArticleForm:!1,renderGIF:!1},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.fetchSingleContent()}},{key:"componentWillUnmount",value:function(){this.setState({isFetching:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.singleFeed,n=t.isFetching,o=t.flagStats;if(n)return r.a.createElement(u,null);var c=this.context.users;console.log(c),c=c.map((function(e){return{employeeId:e.employeeId,photoDetails:e.photoDetails,firstName:e.firstName,lastName:e.lastName}}));var s=a.id,l=a.title,i=a.category,m=a.content,d=a.userid,p=a.type,f=a.comments;console.log(p);var g=c.find((function(e){return e.employeeId===d}));console.log(g);var h=g.photoDetails,b=g.firstName,E=g.lastName,y=g.employeeId,N=a.createdon,O=this.props.userData,j=O.userId,k=O.token;return console.log(j),r.a.createElement("article",{className:"story margin-bottom-md"},y===parseInt(j,10)?r.a.createElement("div",{className:"d-flex",style:{justifyContent:"flex-end"}},r.a.createElement("div",{className:"padding-bottom-sm trigger-more-action cursor-pointer position-relative"},r.a.createElement("i",{className:"fas fa-ellipsis-h font-md font-weight-bold color-dark tooltip"}),r.a.createElement("div",{className:"more-option padding-md border-r-10"},r.a.createElement("div",{className:"d-flex align-items-end font-weight-bold margin-bottom-sm padding-sm padding-bottom-xsm",onClick:function(t){return e.handleDelete(t)}},r.a.createElement("i",{className:"fas fa-trash font-sm margin-right-sm"}),r.a.createElement("span",{className:"font-sm"},"Delete ","article"===p?"article":"GIF")),r.a.createElement("div",{className:"d-flex align-items-end font-weight-bold padding-sm padding-bottom-xsm",onClick:function(t){return"article"===p?e.modifyArticle(t):e.modifyGIF(t)}},r.a.createElement("i",{className:"fas fa-pen font-sm margin-right-sm"}),r.a.createElement("span",{className:"font-sm"},"Edit ","article"===p?"article":"GIF"))))):null,r.a.createElement("div",{className:"margin-bottom-sm"},r.a.createElement("div",{className:"d-flex justify-content--s-between margin-bottom-sm"},r.a.createElement("div",{className:"poster--details"},r.a.createElement(v.b,{to:y===parseInt(j,10)?"/user/profile":"/user/".concat(b,"_").concat(E),style:{color:"#000"}},r.a.createElement("div",{className:"d-flex nowrap"},r.a.createElement("img",{className:"avatar--sm icon",src:h[0],alt:"poster avatar"}),r.a.createElement("div",{className:"d-flex column"},r.a.createElement("span",{className:"poster--username text-content font-weight-bold margin-bottom-xsm"},"".concat(b," ").concat(E)),r.a.createElement("div",{className:"margin-bottom-sm"},r.a.createElement("span",{className:"d-block font-sm gray-color"},N)))))),r.a.createElement("div",{className:"flag-stats justify-self-end"},r.a.createElement("i",{className:"fas fa-flag margin-right-sm cursor-pointer ".concat(this.checkIfUserFlagged(o,j)?"danger-text":""),onClick:function(t){return e.flag(t)}}),r.a.createElement("span",{className:"flag font-weight-bold font-sm padding-sm border-r-circle"},0===o.length?"":o.length)))),r.a.createElement("div",{className:"post-content margin-bottom-sm"},this.contentType(p,m,l)),r.a.createElement("div",{className:"category"},i.map((function(e,t){return r.a.createElement("span",{key:t,className:"border-r-10 text-content italic font-sm bckgr-color2 color-white padding-sm margin-right-sm margin-bottom-sm"},e)}))),r.a.createElement("div",{className:"comment--flag--section padding-top-sm"},r.a.createElement("div",{className:"stats d-flex justify-content--s-between align-items--center margin-bottom-sm\r padding-bottom-sm"},r.a.createElement("div",{className:"comment-stats font-weight-bold cursor-pointer"},r.a.createElement("i",{className:"fas fa-comments margin-right-sm paint-text"}),r.a.createElement("span",{className:"value comment font-sm icon"},f.length)),r.a.createElement("div",{className:"action padding-sm",id:"add--comment",style:{border:"1px solid #a0a0a0",borderRadius:"10px",justifySelf:"flex-end"},onClick:function(t){return e.toggleModal(t)}},r.a.createElement("i",{className:"fas fa-comment icon color2"}),r.a.createElement("span",{className:"font-weight-bold"},"Comment")))),r.a.createElement(I,{toggleModal:this.toggleModal,isModalOpen:this.state.isModalOpen,contentTitle:"View Comments",contentBody:r.a.createElement(ce,{comments:f,feedId:s,users:c,feedType:p})}),r.a.createElement(I,{toggleModal:this.modifyArticle,isModalOpen:this.state.renderArticleForm,contentTitle:"Modify Article",contentBody:r.a.createElement(le,{title:l,article:m[0],category:i,articleId:s,userData:{userId:j,token:k},closeModal:this.closeModal})}),r.a.createElement(I,{toggleModal:this.modifyGIF,isModalOpen:this.state.renderGIF,contentTitle:"Modify GIF",contentBody:r.a.createElement(me,{title:l,publicUrl:m[0],category:i,gifId:s,userData:{userId:j,token:k},closeModal:this.closeModal})}))}}]),t}(n.Component);Ne.contextType=R;var Oe=Ne;function je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?je(a,!0).forEach((function(t){Object(D.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):je(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var xe=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.context.data,a=t.userId,n=t.token,o=this.props.match.path;return console.log(o),r.a.createElement("main",{className:"main"},r.a.createElement("div",{className:"content-wrapper"},r.a.createElement(v.a,null,r.a.createElement(H,null,r.a.createElement(q,null,(function(t){var c=t.updateFeed,s=t.feed;return r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"".concat(e.props.match.path),render:function(e){return r.a.createElement(ye,{updateFeed:c,feed:s,props:ke({},e)})}}),r.a.createElement(E.b,{path:"".concat(o,"/articles/:articleId"),render:function(e){return r.a.createElement(Oe,{userData:{userId:a,token:n},updateFeed:c,allFeed:s,props:ke({},e)})}}),r.a.createElement(E.b,{path:"".concat(o,"/gifs/:gifId"),render:function(e){return r.a.createElement(Oe,{userData:{userId:a,token:n},updateFeed:c,allFeed:s,props:ke({},e)})}}))}))))))}}]),t}(n.Component);xe.contextType=S;var we=xe,Ie=function(e){var t="https://res.cloudinary.com/dx5lp5drd/image/upload/v1574682959/businessman-310819_640_guvqva.png",a="https://res.cloudinary.com/dx5lp5drd/image/upload/v1574682959/user-310807_640_wgamok.png";return e=JSON.parse(JSON.stringify(e)).map((function(e){console.log(e);var n=e.photoDetails,r=e.gender;return null===n&&(e.photoDetails="male"===r?[t,null]:[a,null]),e}))},De=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e)))._isMounted=!1,a.state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){this._isMounted=!0;var e=this.context,t=e.users,a=e.addUser;if(t.length<=0){var n=this.props.userData.data,r=n.userId,o=n.token;Object(M.getData)("".concat(M.apiKey,"/auth/users"),r,o).then((function(e){var t=e.data;t=Ie(t),a(t)})).catch((function(e){console.log(e)}))}}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props,t=e.updateAccount,a=e.userData.data,n=a.photoDetails,o=a.interests,c=a.userId;return r.a.createElement(v.a,null,r.a.createElement("section",{className:"page-section d-flex"},r.a.createElement(G,{path:this.props.match.path,userData:{photoDetails:n,interests:o},updateAccount:t}),r.a.createElement(E.b,{path:this.props.match.path,component:we}),r.a.createElement(W,{userId:c})))}}]),t}(n.Component);De.contextType=R;var Ce=De,Se=(a(80),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).renderNavLink=function(e,t){return"admin"===e?"/admin"===t?r.a.createElement(v.b,{to:{pathname:"/user/dashboard"}},r.a.createElement("li",{className:"cursor-pointer margin-right-md"},r.a.createElement("i",{className:"fas fa-newspaper font-lg"}))):r.a.createElement(v.b,{to:{pathname:"/admin/dashboard"}},r.a.createElement("li",{className:"cursor-pointer margin-right-md"},r.a.createElement("i",{className:"fas fa-user-shield font-lg"}))):null},a.checkPath=function(e){switch(console.log(e),e){case"/admin":case"/user/profile":case"/user/:username":return!1;default:return!0}},a.state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=document.querySelector(".top--navbar");window.addEventListener("scroll",(function(){window.scrollY>0?e.classList.add("sticky_nav"):e.classList.remove("sticky_nav")}))}},{key:"componentWillUnmount",value:function(){var e=document.querySelector(".top--navbar");window.removeEventListener("scroll",(function(){window.scrollY>0?e.classList.add("sticky_nav"):e.classList.remove("sticky_nav")}))}},{key:"render",value:function(){console.log(this.props);var e=this.context.data,t=e.accountType,a=e.photoDetails,n=this.props.match.path;return r.a.createElement("header",null,r.a.createElement(v.b,{to:"/",className:"cursor-pointer"},r.a.createElement("div",{className:"bckgr-white padding-left-sm color2 favicon"},r.a.createElement("div",{className:"d-inline-block"},r.a.createElement("span",{className:"paint-text italic font-sm"},"T"),r.a.createElement("span",{className:"font-xsm"},"eam"),r.a.createElement("span",{className:"paint-text italic font-sm"},"W"),r.a.createElement("span",{className:"font-xsm"},"ork")))),r.a.createElement("nav",{className:"top--navbar d-flex nowrap align-items--center justify-content--s-between position-relative"},this.checkPath(n)?r.a.createElement("i",{className:"fas fa-bars color2 mobile font-md",onClick:function(e){return L(e)}}):null,"/admin"===n?null:r.a.createElement("div",{className:"search-box d-flex align-items--center nowrap"},r.a.createElement("input",{type:"search",placeholder:"Search by category",className:"font-sm text-align-center font-weight-bold search"}),r.a.createElement("div",{className:"search-btn d-flex nowrap align-items--center justify-content--center cursor-pointer"},r.a.createElement("i",{className:"fas fa-search font-md"}))),r.a.createElement("ul",{className:"d-flex nowrap align-items--center"},this.renderNavLink(t,n),r.a.createElement("li",{className:"cursor-pointer margin-right-md"},r.a.createElement(v.b,{to:"/user/profile"},r.a.createElement("div",{className:"avatar--sm"},r.a.createElement("img",{className:"",src:a[0],alt:"your avatar"})))),"/admin"!==n?r.a.createElement("i",{className:"fas fa-users color2 mobile font-md",onClick:function(e){return _(e)}}):null)))}}]),t}(n.Component));Se.contextType=S;var Fe=Se,Ue=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).renderFeed=function(e){var t=a.context.data,n=t.userId,o=t.firstName,c=t.lastName;return 0!==e.length?e.map((function(e,t){return r.a.createElement(ue,{key:t,feed:e,userData:{userId:n,firstName:o,lastName:c}})})):ve("No Content")},a.state={feed:[]},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.context.data,a=t.userId,n=t.token;Object(i.trackPromise)(Object(M.getData)("".concat(M.apiKey,"/feed/").concat(a),a,n).then((function(t){var a=t.data,n=a.content,r=a.comments,o=a.flags,c=Object(k.a)(ae(n,r,o));e.setState({feed:Object(k.a)(c)})})).catch((function(e){return console.log(e)})))}},{key:"render",value:function(){var e=this.context.data,t=e.firstName,a=e.lastName,o=e.photoDetails,c=e.department,s=e.jobRole,l=e.gender,i=(e.interests,e.address),m=(e.userId,this.props.match),d=m.path,u=m.url;console.log(this.state.feed);var p=this.state.feed;return r.a.createElement(n.Fragment,null,r.a.createElement(E.b,{path:d,component:Fe}),r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"profileDetails main margin-right-md"},r.a.createElement("div",{className:"profileHeader bckgr-white padding-left-lg padding-right-lg padding-md margin-right-sm margin-left-sm position-relative"},r.a.createElement(v.b,{to:"".concat(u,"/edit#profile-pictire_username"),className:"position-relative",style:{position:"absolute",top:"25px",right:"30px"}},r.a.createElement("i",{className:"fas fa-pen font-lg color2 tooltip margin-bottom-sm cursor-pointer"}),r.a.createElement("div",{className:"view tooltip-text color-white bckgr-color2"},"Update avatar / username")),r.a.createElement("div",{className:"padding-md d-flex justify-content--s-between align-items--center"},r.a.createElement("div",{className:"avatar--lg cursor-pointer margin-bottom-sm"},r.a.createElement("img",{src:o[0],alt:"user avatar"})),r.a.createElement("div",{className:"align-self-end"},r.a.createElement("div",{className:"font-lg font-weight-bold",style:{lineHeight:"30px"}},"".concat(t," ").concat(a)),r.a.createElement("span",{className:"gray-color"},"@",s)))),r.a.createElement("div",{className:"padding-md d-flex justify-content--s-between details"},r.a.createElement("div",{className:"about-section bckgr-white margin-bottom-sm padding-md padding-left-md"},r.a.createElement("ul",{className:"user_info"},r.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},r.a.createElement("i",{className:"far fa-building font-md color2 margin-right-sm"}),r.a.createElement("span",{className:"font-sm font-weight-600 "}," ",c)),r.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},r.a.createElement("i",{className:"fas fa-briefcase font-md color2 margin-right-sm"}),r.a.createElement("span",{className:"font-sm font-weight-600 "}," ",s)),r.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},r.a.createElement("i",{className:"fas fa-user color2 font-md padding-right-sm"}),r.a.createElement("span",{className:"font-sm font-weight-600 "}," ",l)),r.a.createElement("li",{className:"margin-bottom-md d-flex nowrap align-items-end"},r.a.createElement("i",{className:"fas fa-map-marker-alt color2 font-md padding-right-sm"}),r.a.createElement("div",{className:"d-flex column"},r.a.createElement("span",{className:"font-sm font-weight-600 text-content"}," ",i)))),r.a.createElement(v.b,{to:"".concat(u,"/edit#about-info"),eventname:"Edit About info",className:"bckgr-color2 d-inline-block padding-sm color-white font-sm border-r-10 cursor-pointer"},r.a.createElement("i",{className:"fas fa-pen font-sm margin-right-sm"}),"Edit About Info")),r.a.createElement("div",{className:"user-posts"},this.renderFeed(p)))),r.a.createElement(W,null)))}}]),t}(n.Component);Ue.contextType=S;var Me=Ue,Te=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).handleUserInput=function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value;"file"!==n?a.setState(Object(D.a)({},n,r),(function(){console.log(a.state)})):a.setState({fileURL:URL.createObjectURL(e.target.files[0]),file:e.target.files[0]})},a.updateAvatar=function(e){e.preventDefault();var t=a.props,n=t.users,r=t.addUser,o=t.updateAccount,c=t.userData,s=t.userData,l=s.userId,m=s.token,d=t.history.push,u=a.state.file,p=new FormData;p.append("files",u),p.append("userId",l),e.target.value="Publishing...",Object(i.trackPromise)(Object(M.modifyData)("".concat(M.apiKey,"/auth/users/").concat(l),p,m,!0).then((function(e){var t=e.data.photoDetails;console.log(e),c.photoDetails=t,o(c),n=n.map((function(e){return e.employeeId===l&&(e.photoDetails=t),e})),r(n),d("/user/profile")})).catch((function(e){console.log(e)})))},a.userData=a.props.userData,a.state={email:a.userData.email,address:a.userData.address,gender:a.userData.gender,file:null,fileURL:a.userData.photoDetails[0]},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"linear-grad-bckgr d-flex justify-content--center align-items--center"},r.a.createElement("main",{className:"padding-lg"},r.a.createElement("div",{className:"wrapper d-flex"},r.a.createElement("aside",{className:"bckgr-white padding-lg margin-right-md margin-bottom-md"},r.a.createElement("section",{className:"",id:"profile-pictire_username"},r.a.createElement("h2",{className:"font-lg margin-bottom-md"},"Change Profile Picture"),r.a.createElement("form",{className:"form",encType:"multipart/form-data"},r.a.createElement("div",{className:"file_display padding-bottom-sm",style:{width:"200px",height:"auto",display:"".concat(null===this.state.fileURL?"none":"inline-block")}},r.a.createElement("img",{src:this.state.fileURL,alt:"",style:{width:"100%",height:"auto"}})),r.a.createElement("div",{className:"padding-bottom-md"},r.a.createElement("label",{className:"btn--file d-inline-block"},r.a.createElement("div",{className:"upload--icon"},r.a.createElement("i",{className:"far fa-image font-md d-inline-block"}),r.a.createElement("span",{className:"padding-left-sm font-sm"},"Upload")),r.a.createElement("input",{type:"file",name:"file",multiple:!1,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement("span",{className:"error-msg italic padding-sm"})),r.a.createElement("input",{onClick:function(t){return e.updateAvatar(t)},type:"submit",value:"Update",className:"submit--btn"})))),r.a.createElement("div",{className:"bckgr-white",id:"about-info"},r.a.createElement("section",{className:"padding-lg"},r.a.createElement("h2",{className:"font-lg margin-bottom-md"},"Update your info"),r.a.createElement("form",{className:"form",method:"POST",style:{width:"450px"}},r.a.createElement("label",null," Email",r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"email",name:"email",placeholder:"enter new email",className:"form-control",value:this.state.email})),r.a.createElement("div",{className:"padding-bottom-sm padding-top-sm"},r.a.createElement("h4",{className:"heading md padding-bottom-sm"},"Gender"),r.a.createElement("label",{className:"check radio position-relative padding-left-md margin-bottom-sm cursor-pointer font-md padding-bottom-xsm "}," ",r.a.createElement("span",null,"male"),r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"radio",value:"male",name:"gender",className:"form-control",id:"web_dev"}),r.a.createElement("span",{className:"checkmark border-r-circle"})),r.a.createElement("label",{className:"check radio position-relative padding-left-md margin-bottom-sm cursor-pointer font-md "},"female",r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"radio",value:"female",name:"gender",className:"form-control",id:"female"}),r.a.createElement("span",{className:"checkmark border-r-circle"}))),r.a.createElement("label",null," Address",r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"text",name:"address",placeholder:"Enter Address",className:"form-control",value:this.state.address})),r.a.createElement("input",{onClick:function(t){return e.handleSubmit(t)},type:"submit",value:"Create User",className:"submit--btn"})))))))}}]),t}(n.Component),Pe=Object(E.g)(Te),Ae=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).fetchFeed=function(){var e=a.findUser(a.username).employeeId;console.log(e);var t=a.props,n=t.userId,r=t.authToken.token;Object(i.trackPromise)(Object(M.getData)("".concat(M.apiKey,"/feed/").concat(e),n,r).then((function(e){var t=e.data,n=t.content,r=t.comments,o=t.flags,c=Object(k.a)(ae(n,r,o));console.log(c),a.setState({feed:Object(k.a)(c)})})).catch((function(e){return console.log(e)})))},a.findUser=function(e){var t=e.split("_"),n=t[0],r=t[1],o=a.context.users.find((function(e){return e.firstName===n&&e.lastName===r})),c=o.photoDetails,s=o.department,l=o.jobRole,i=o.gender,m=o.interests,d=o.address,u=o.employeeId;return{firstName:n,lastName:r,photoDetails:c,department:s,jobRole:l,gender:i,interests:m,address:d,employeeId:u}},a.renderFeed=function(e){var t=a.props,n=t.userId,o=t.authToken.token;return 0!==e.length?e.map((function(e,t){return r.a.createElement(ue,{key:t,feed:e,userData:{userId:n,token:o}})})):ve("No Content")},a.username=a.props.match.params.username,a._isMounted=!1,a.state={feed:[]},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.fetchFeed()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props,t=e.match.params.username,a=e.path,o=this.findUser(t),c=o.firstName,s=o.lastName,l=o.photoDetails,i=o.department,m=o.jobRole,d=o.gender,u=(o.interests,o.address),p=this.state.feed;return console.log(p),r.a.createElement(n.Fragment,null,r.a.createElement(E.b,{path:a,component:Fe}),r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"profileDetails main"},r.a.createElement("div",{className:"profileHeader bckgr-white padding-left-lg padding-right-lg padding-md margin-right-sm position-relative"},r.a.createElement("div",{className:"padding-md d-flex justify-content--s-between align-items--center"},r.a.createElement("div",{className:"avatar--lg cursor-pointer"},r.a.createElement("img",{src:l[0],alt:"user avatar"})),r.a.createElement("div",{className:"align-self-end"},r.a.createElement("div",{className:"font-lg font-weight-bold",style:{lineHeight:"30px"}},"".concat(c," ").concat(s)),r.a.createElement("span",{className:"gray-color"},"@",m)))),r.a.createElement("div",{className:"padding-md d-flex justify-content--s-between details"},r.a.createElement("div",{className:"about-section bckgr-white margin-bottom-sm padding-md padding-left-md"},r.a.createElement("ul",{className:"user_info"},r.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},r.a.createElement("i",{className:"far fa-building font-md color2 margin-right-sm"}),r.a.createElement("span",{className:"font-sm font-weight-600 "}," ",i)),r.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},r.a.createElement("i",{className:"fas fa-briefcase font-md color2 margin-right-sm"}),r.a.createElement("span",{className:"font-sm font-weight-600 "}," ",m)),r.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},r.a.createElement("i",{className:"fas fa-user color2 font-md padding-right-sm"}),r.a.createElement("span",{className:"font-sm font-weight-600 "}," ",d)),r.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},r.a.createElement("i",{className:"fas fa-map-marker-alt color2 font-md padding-right-sm"}),r.a.createElement("span",{className:"font-sm font-weight-600 "}," ",u)))),r.a.createElement("div",{className:"user-posts"},this.renderFeed(p)))),r.a.createElement(W,null)))}}]),t}(n.Component);Ae.contextType=R;var Le=Ae,_e=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){this._isMounted=!0;var e=this.props,t=e.users,a=e.addUser,n=e.history.push,r=e.match.path;if(console.log(this.props),0===t.length){var o=this.context.data,c=o.userId,s=o.token;Object(M.getData)("".concat(M.apiKey,"/auth/users"),c,s).then((function(e){var t=e.data;t=Ie(t),a(t),n("".concat(r,"/dashboard"))})).catch((function(e){console.log(e)}))}}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.context,t=e.updateAccount,a=e.data,n=e.data,o=n.userId,c=n.token,s=this.props,l=s.match,i=s.users,m=s.addUser;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null,r.a.createElement(E.b,{path:"".concat(l.path,"/dashboard"),component:Fe}),r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"".concat(l.path,"/profile/edit"),render:function(e){return r.a.createElement(Pe,Object.assign({updateAccount:t,userData:a,users:i,addUser:m},e))}}),r.a.createElement(E.b,{exact:!0,path:"".concat(l.path,"/profile"),render:function(e){return r.a.createElement(Me,Object.assign({updateAccount:t,userData:a},e))}}),r.a.createElement(E.b,{path:"".concat(l.path,"/dashboard"),render:function(e){return r.a.createElement(Ce,Object.assign({userData:{data:a},updateAccount:t},e))}}),r.a.createElement(E.b,{exact:!0,path:"".concat(l.path,"/:username"),render:function(e){return r.a.createElement(Le,Object.assign({key:e.match.params.username,authToken:{token:c},userId:o},e))}}))))}}]),t}(n.Component);_e.contextType=S;var Ge=Object(E.g)(_e);function Re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Be=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).handleUserInput=function(e){e.preventDefault();var t=e.target;a.setState(Object(D.a)({},t.name,t.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.context.data,n=t.token,r=t.userId,o=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Re(a,!0).forEach((function(t){Object(D.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Re(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a.state,{userId:parseInt(r,10)});console.log(o),Object(i.trackPromise)(Object(M.sendData)("".concat(M.apiKey,"/auth/create-user"),o,n).then((function(e){console.log(e)})).catch((function(e){console.log(e)})))},a.state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state),r.a.createElement("form",{className:"form",method:"POST"},r.a.createElement("label",null," First Name",r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"text",name:"firstName",placeholder:"Enter Firstname",className:"form-control"})),r.a.createElement("label",null," Last Name",r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"text",name:"lastName",placeholder:"Enter Lastname",className:"form-control"})),r.a.createElement("label",null," Email",r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"email",name:"email",placeholder:"Enter employee's email",className:"form-control"})),r.a.createElement("label",null," Password",r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"password",name:"password",placeholder:"Create employee's password",className:"form-control"})),r.a.createElement("div",{className:"padding-bottom-sm padding-top-sm"},r.a.createElement("h4",{className:"heading md padding-bottom-sm"},"Gender"),r.a.createElement("label",{className:"check radio position-relative padding-left-md margin-bottom-sm cursor-pointer font-md padding-bottom-xsm "}," ",r.a.createElement("span",null,"male"),r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"radio",value:"male",name:"gender",className:"form-control",id:"web_dev"}),r.a.createElement("span",{className:"checkmark border-r-circle"})),r.a.createElement("label",{className:"check radio position-relative padding-left-md margin-bottom-sm cursor-pointer font-md "},"female",r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"radio",value:"female",name:"gender",className:"form-control",id:"female"}),r.a.createElement("span",{className:"checkmark border-r-circle"}))),r.a.createElement("label",null," Job Role",r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"text",name:"jobRole",placeholder:"Job Role (e.x Frontend Web Developer)",className:"form-control"})),r.a.createElement("label",null," Department",r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"text",name:"department",placeholder:"Employee's department",className:"form-control"})),r.a.createElement("label",null," Address",r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"text",name:"address",placeholder:"Enter Address",className:"form-control"})),r.a.createElement("div",{className:"padding-bottom-sm padding-top-sm"},r.a.createElement("h4",{className:"heading md padding-bottom-xsm"},"Account type"),r.a.createElement("label",{className:"check radio position-relative padding-left-md margin-bottom-sm cursor-pointer font-md padding-bottom-xsm"},r.a.createElement("span",null,"Admin"),r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"radio",value:"admin",name:"accountType",className:"form-control"}),r.a.createElement("span",{className:"checkmark border-r-circle"})),r.a.createElement("label",{className:"check radio position-relative padding-left-md margin-bottom-sm cursor-pointer font-md"},"Regular",r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"radio",value:"regular",name:"accountType",className:"form-control"}),r.a.createElement("span",{className:"checkmark border-r-circle"}))),r.a.createElement("input",{onClick:function(t){return e.handleSubmit(t)},type:"submit",value:"Create User",className:"submit--btn"}))}}]),t}(n.Component);Be.contextType=S;var Ke=Be,We=(a(32),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).toggleModal=function(e){e.preventDefault();var t=e.target;console.log(t);var n=Object(k.a)(t.classList);console.log(n),n.includes("close")?a.setState({isModalOpen:!1}):a.setState({isModalOpen:!0}),console.log(a.state.isModalOpen)},a.addUser=a.props.addUser,a.users=a.props.users,a.state={isModalOpen:!1},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;this.props.match;return console.log(this.props.match),r.a.createElement("section",{className:"add-bckgr--img d-flex justify-content--center align-items--center",style:{width:"100%",height:"88vh",overflow:"hidden"}},r.a.createElement("div",{className:"d-flex justify-content--center align-items--center"},r.a.createElement("div",{className:"link-wrap--box",onClick:function(t){return e.toggleModal(t)}},r.a.createElement("div",{className:"box cursor-pointer overflow--h border-r-10 padding-md bckgr-white d-flex justify-content--center align-items--center"},r.a.createElement("div",{className:"text-align-center color-dark"},r.a.createElement("i",{className:"fas fa-user-plus icon margin-bottom-sm font-lg color2"}),r.a.createElement("div",{className:"font-sm font-weight-bold"},"Create User Account")))),r.a.createElement(v.b,{to:"/admin/employees",className:"link-wrap--box"},r.a.createElement("div",{className:"box cursor-pointer overflow--h border-r-10 padding-md bckgr-white d-flex justify-content--center align-items--center"},r.a.createElement("div",{className:"text-align-center color-dark"},r.a.createElement("i",{className:"fas fa-users icon margin-bottom-sm font-lg color2"}),r.a.createElement("div",{className:"font-sm font-weight-bold"},"All Employees"))))),r.a.createElement(I,{toggleModal:this.toggleModal,isModalOpen:this.state.isModalOpen,contentTitle:"Create Employee Account",contentBody:r.a.createElement(Ke,null)}))}}]),t}(n.Component)),Je=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e)))._isMounted=!1,a.state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e,t=this.context,a=t.users,n=t.addUser;return console.log(this.props.match),r.a.createElement("section",{className:"d-flex justify-content--center align-items--center",style:{width:"100%",height:"80vh"}},r.a.createElement("div",{className:"d-flex justify-content--center align-items--center ".concat((e="991.98px",window.matchMedia("(max-width:".concat(e,")")).matches?"padding-md":"padding-lg"))},a.map((function(e,t){return r.a.createElement(qe,{key:t,user:e,addUser:n})}))))}}]),t}(n.Component);Je.contextType=R;var qe=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.user,t=e.photoDetails,a=(e.employeeId,e.firstName),n=e.lastName;return r.a.createElement("div",{className:"link-wrap--box"},r.a.createElement("div",{className:"employee--box cursor-pointer border-r-10 overflow--h"},r.a.createElement("div",{className:"user-avatar position-relative"},r.a.createElement("img",{src:t[0],alt:"user avatar"}),r.a.createElement("div",{class:"action-btns d-flex nowrap"},r.a.createElement("i",{class:"fas fa-trash margin-right-sm font-md border-r-circle danger-text"}),r.a.createElement(v.b,{to:"/user/".concat(a,"_").concat(n)},r.a.createElement("i",{class:"fas fa-eye margin-right-sm font-md border-r-circle color-white"})))),r.a.createElement("div",{className:"padding-sm color-dark bckgr-white"},r.a.createElement("div",{className:"font-sm padding-sm font-weight-bold color-dark"},"".concat(a," ").concat(n)))))}}]),t}(n.Component),He=(n.Component,Je),Ve=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){this._isMounted=!0;var e=this.props,t=e.users,a=e.addUser,n=e.history.push,r=e.match.path;if(console.log(this.props),0===t.length){var o=this.context.data,c=o.userId,s=o.token;Object(M.getData)("".concat(M.apiKey,"/auth/users"),c,s).then((function(e){var t=e.data;t=Ie(t),a(t),n("".concat(r,"/dashboard"))})).catch((function(e){console.log(e)}))}}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.context.data,t=e.token,a=e.userId,n=this.props,o=n.match,c=n.users,s=n.addUser;return r.a.createElement(v.a,null,r.a.createElement(E.b,{path:"".concat(o.path),component:Fe}),r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"".concat(o.path,"/dashboard"),component:We}),r.a.createElement(E.b,{exact:!0,path:"".concat(o.path,"/employees"),render:function(e){return r.a.createElement(He,Object.assign({users:c,addUser:s,userData:{token:t,userId:a}},e))}})))}}]),t}(n.Component);Ve.contextType=S;var ze=Object(E.g)(Ve);y.a.add(O.a,N.a,j.a,j.b);var Ye=function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement(v.a,null,r.a.createElement(U,null,r.a.createElement(B,null,r.a.createElement(E.b,{path:"/",exact:!0,component:A}),r.a.createElement(E.d,null,r.a.createElement(z,{path:"/user",auth:$,component:Ge}),r.a.createElement(z,{path:"/admin",auth:Q,component:ze})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.load({google:{families:["Pacifico","Ubuntu:400,700","Roboto"]}}),c.a.render(r.a.createElement("div",null,r.a.createElement(Ye,null),r.a.createElement(u,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.c30bef1c.chunk.js.map