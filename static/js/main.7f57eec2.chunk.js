(this["webpackJsonpteamwork---frontend"]=this["webpackJsonpteamwork---frontend"]||[]).push([[0],{1:function(e,t){var a=function(e,t,a,n,c){return"GET"===e||"DELETE"===e?fetch(t,{method:e,mode:"cors",headers:{"Access-Control-Allow-Origin":"*",Authorization:n?"Bearer ".concat(n):""}}).then((function(e){return e.status>=400?e.json().then((function(e){throw e})):e.json()})):c?fetch(t,{method:e,mode:"cors",body:a,headers:{"Access-Control-Allow-Origin":"*",Authorization:n?"Bearer ".concat(n):""}}).then((function(e){return e.status>=400?e.json().then((function(e){throw e})):e.json()})):fetch(t,{method:e,mode:"cors",body:JSON.stringify(a),headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:n?"Bearer ".concat(n):""}}).then((function(e){return e.status>=400?e.json().then((function(e){throw e})):e.json()}))};t.apiKey="https://teamworkbycharles.herokuapp.com/api/v1",t.getData=function(e,t,n){return a("GET","".concat(e,"/").concat(t),null,n)},t.sendData=function(e,t,n,c){return a("POST",e,t,n,c)},t.modifyData=function(e,t,n,c){return a("PATCH",e,t,n,c)},t.deleteData=function(e,t,n){return a("DELETE","".concat(e,"/").concat(t),null,n)}},18:function(e,t,a){},25:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},43:function(e,t,a){e.exports=a(84)},72:function(e,t,a){},73:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(20),s=a.n(r),o=a(34),l=a.n(o),i=a(3),m=a(35),d=a.n(m),u=(a(72),Object(i.promiseTrackerHoc)((function(e){return e.promiseInProgress&&c.a.createElement("div",{className:"spinner"},c.a.createElement("div",null,c.a.createElement(d.a,{type:"ThreeDots",color:"#690483",height:100,width:100})))}))),p=(a(73),a(4)),f=a(5),g=a(7),h=a(6),b=a(8),E=a(2),v=a(17),N=a(36),y=a(37),j=a(38),O=a(39),x=(a(77),a(11)),k=a(1),w=a(16),C=Object(n.createContext)(),I=(C.Consumer,function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).updateAccount=function(e){a.setState(Object(w.a)({},e))},a.state={data:{userId:null,token:null,account_type:null,jobRole:null,department:null,gender:null},updateAccount:function(e){return a.updateAccount(e)}},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidUpdate",value:function(){var e="https://res.cloudinary.com/dx5lp5drd/image/upload/v1574682959/businessman-310819_640_guvqva.png",t="https://res.cloudinary.com/dx5lp5drd/image/upload/v1574682959/user-310807_640_wgamok.png",a=JSON.parse(JSON.stringify(this.state.data)),n=a.photoDetails,c=a.gender;null===n&&(a.photoDetails="male"===c?[e,null]:[t,null],this.setState({data:a}))}},{key:"render",value:function(){return console.log(this.state),c.a.createElement(C.Provider,{value:this.state},this.props.children)}}]),t}(c.a.Component)),D=function(e){var t=Object(n.useState)(e||""),a=Object(x.a)(t,2),c=a[0],r=a[1];return{state:c,onChange:function(e){var t=e.target.value;r(t)},handleFile:function(e){r(e)},resetValue:function(){return r("")}}},S=(a(78),document.querySelector("#modal")),F=function(e){var t=Object(n.useState)(!1),a=Object(x.a)(t,2),r=a[0],s=a[1];Object(n.useEffect)((function(){return s(!0)}),[]);var o=e.status;return c.a.createElement("div",{className:"d-flex justify-content--center httpStatus\n      ".concat(r?"active":""," padding-lg border-r-10 bckgr-white\n      ").concat("success"===o?"success-text":"danger-text")},c.a.createElement("div",{className:"d-flex align-self-end ".concat("success"===o?"success-text":"danger-text")},c.a.createElement("i",{className:"fas fa-check font-lg margin-right-md ".concat("success"===o?"success-text":"danger-text")}),c.a.createElement("span",{className:"font-lg ".concat("success"===o?"success-text":"danger-text")},e.message)))},M=function(e){Object(n.useEffect)((function(){S.appendChild(t);var e=setTimeout((function(){S.removeChild(t)}),3e3);return function(){return clearTimeout(e)}}));var t=document.createElement("div");return t.classList.add("modal--wrapper"),Object(r.createPortal)(c.a.createElement(F,e),t)},U=function(){var e=Object(n.useState)({show:!1,message:"",status:""}),t=Object(x.a)(e,2),a=t[0],r=t[1];return{ajaxStatus:a,updateAjaxStatus:function(e){var t=e.show,a=e.message,n=e.status;r({show:t,message:a,status:n});var c=setTimeout((function(){r({show:!1,message:"",status:""})}),3500);return function(){return clearTimeout(c)}},HttpStatusComponent:a.show&&c.a.createElement(M,{status:a.status,message:a.message})}},A=(a(18),Object(v.g)((function(e){var t=e.history,a=e.closeModal,r=D(),s=r.state,o=r.onChange,l=D(),m=l.state,d=l.onChange,u=U(),p=u.updateAjaxStatus,f=u.HttpStatusComponent,g=Object(n.useContext)(C).updateAccount,h=Object(n.useState)(""),b=Object(x.a)(h,2),E=b[0],v=b[1];return c.a.createElement(n.Fragment,null,c.a.createElement("form",{className:"form",method:"POST"},c.a.createElement("label",null," Email",c.a.createElement("input",{type:"email",name:"email",placeholder:"Enter your email",className:"form-control",value:s,onChange:function(e){return o(e)}})),c.a.createElement("label",null," Password",c.a.createElement("input",{type:"password",name:"password",placeholder:"Enter Password",className:"form-control",value:m,onChange:function(e){return d(e)}})),c.a.createElement("span",{className:"d-block italic danger-text font-sm padding-bottom-sm font-weight-bold"},E),c.a.createElement("input",{onClick:function(e){return function(e){e.preventDefault();var n={email:s,password:m};Object(i.trackPromise)(Object(k.sendData)("".concat(k.apiKey,"/auth/signin"),n).then((function(e){var n=e.data;g({isLoggedIn:!0,data:n}),a(),"admin"===e.data.accountType?t.push("/admin/dashboard"):t.push("/user")})).catch((function(e){if(e.status)v("Incorrect email or password");else{p({show:!0,message:"Cannot connect to the database, check your internet connection",status:"failure"})}})))}(e)},type:"submit",value:"Sign in",className:"submit--btn"})),f)}))),T=(a(81),a(82),document.querySelector("#modal")),L=function(e){var t=e.isModalOpen,a=e.closeModal;return c.a.createElement("div",{className:t?"modalRoot":""},c.a.createElement("div",{className:"modal--box ".concat(t?"active":"")},c.a.createElement("div",{className:"d-flex justify-content--s-between position-relative"},c.a.createElement("div",{className:"modal-content--btn"},e.contentBtn?e.contentBtn:null),c.a.createElement("i",{className:"fas fa-times close font-md",onClick:a})),c.a.createElement("div",{className:"content-wrapper"},c.a.createElement("h4",{className:"modal--heading"},e.contentTitle),e.contentBody)))},P=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).state={},a.modalDiv=document.createElement("div"),a.modalDiv.classList.add("modal--wrapper"),a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){T.appendChild(this.modalDiv)}},{key:"componentWillUnmount",value:function(){T.removeChild(this.modalDiv)}},{key:"render",value:function(){return Object(r.createPortal)(c.a.createElement(L,this.props),this.modalDiv)}}]),t}(n.Component),_=function(e,t,a,n,r){return console.log(r),c.a.createElement(P,{closeModal:t,isModalOpen:e,contentTitle:a,contentBody:c.a.createElement(n,Object.assign({closeModal:t},r))})},K=function(e,t,a){var c=Object(n.useState)(!1),r=Object(x.a)(c,2),s=r[0],o=r[1],l=function(){return o(!1)};return{closeModal:l,openModal:function(){return o(!0)},isModalOpen:s,ModalChild:_(s,l,e,t,a)}},R=function(){var e=K("Sign in",A),t=e.openModal,a=e.ModalChild;return c.a.createElement("header",{className:"landingPage-header page-padding"},c.a.createElement("nav",{className:"padding-top-sm d-flex align-items--center justify-content--s-between"},c.a.createElement(E.b,{to:"/"},c.a.createElement("div",{className:"favicon color-white"},c.a.createElement("span",{className:"italic font-lg"},"T"),c.a.createElement("span",{className:"font-sm"},"eam"),c.a.createElement("span",{className:"italic font-lg"},"W"),c.a.createElement("span",{className:"font-sm"},"ork"))),c.a.createElement("div",{className:"d-inline-block btn",onClick:t},"Sign in")),c.a.createElement("div",{className:"d-flex align-items--center justify-content--s-between margin-top-lg"},c.a.createElement("div",{className:"desc color-white"},c.a.createElement("div",{className:"padding-bottom-md"},c.a.createElement("h1",{className:"font-xlg padding-bottom-md"},"Build a stronger team spirit with your co-workers."),c.a.createElement("p",{className:"font-md text-content"},"Teamwork is an internal social network specifically designed for companies to aid the communication strength among employees and the administrator.")),c.a.createElement("div",{className:"d-inline-block btn",onClick:t},"Sign in")),c.a.createElement("div",{className:"desc d-flex align-items--center"},c.a.createElement("img",{src:"https://res.cloudinary.com/dx5lp5drd/image/upload/v1574682959/avatar-2191932_1280-removebg-preview_wqs7ev.png",alt:"",style:{width:"100%",height:"auto"}}),c.a.createElement("div",{className:"bckgr-white border-r-10 padding-md",style:{width:"100%",height:"auto"}},c.a.createElement("p",{className:"font-md text-content color2 font-weight-600",style:{fontStyle:"italic"}},"Learn, share ideas... Collaborate with your team and build a stronger connectivity that will surely reveal the hidden success. Teamwork!!!")))),a)},G=(a(25),function(e){var t=e.target,a=document.querySelector(".aside.left");t.classList.contains("close")?a.classList.remove("show"):a.classList.add("show"),console.log(a.classList),console.log(t)}),W=function(e){var t=e.target,a=document.querySelector(".aside.right");t.classList.contains("close")?a.classList.remove("show"):a.classList.add("show"),console.log(a.classList),console.log(t)},B=function(e){var t=e.updateAccount,a=e.userData,n=e.userData,r=n.photoDetails,s=n.interests,o=n.accountType;return c.a.createElement("aside",{className:"aside left padding-top-sm"},c.a.createElement("div",{className:"position-relative"},c.a.createElement("i",{className:"fas fa-times close color-white font-sm cursor-pointer",onClick:function(e){return G(e)}})),c.a.createElement("div",{className:"padding-top-md"},c.a.createElement("div",{className:"about-user border-line--h d-flex justify-content--center column align-items--center padding-bottom-sm"},c.a.createElement(E.b,{to:"/user/profile",className:"user_avatar avatar--lg"},c.a.createElement("img",{src:r[0],alt:"user avatar"})),c.a.createElement("div",{className:"interests margin-top-md d-flex padding-md"},null!==s?s.map((function(e,t){return c.a.createElement("span",{key:t,className:"margin-right-sm margin-bottom-sm btn font-sm padding-sm"},e)})):null)),c.a.createElement("div",{className:"content-wrapper"},c.a.createElement("ul",{className:"margin-bottom-md"},"admin"===o?c.a.createElement(E.b,{to:"/admin/dashboard"},c.a.createElement("li",{className:"sidebar-link padding-bottom-md margin-bottom-sm cursor-pointer"},c.a.createElement("i",{className:"fas fa-cogs color-white padding-right-sm font-sm"}),c.a.createElement("span",{className:"sidebar--link-text font-sm"},"Admin Panel"))):null,c.a.createElement("li",{className:"sidebar-link padding-bottom-md margin-bottom-sm cursor-pointer"},c.a.createElement("i",{className:"fas fa-newspaper color-white padding-right-sm font-md"}),c.a.createElement("span",{className:"sidebar--link-text font-md"},"Dashboard")),c.a.createElement("li",{className:"sidebar-link padding-bottom-md margin-bottom-sm cursor-pointer cursor-pointer",onClick:function(){t({isLoggedIn:!1,userData:a})}},c.a.createElement("i",{className:"fas fa-sign-out-alt color-white padding-right-sm font-sm"}),c.a.createElement("span",{className:"sidebar--link-text font-md"},"Log out"))))))},H=a(9),J=Object(n.createContext)(),q=(J.Consumer,function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e)))._isMounted=!1,a.addUser=function(e){a.setState({users:Object(H.a)(e)})},a.state={users:[],addUser:function(e){return a.addUser(e)}},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return console.log(this.state),c.a.createElement(J.Provider,{value:this.state},this.props.children)}}]),t}(c.a.Component)),V=function(e){var t=e.userId,a=Object(n.useContext)(J).users;return a=a.map((function(e){return{photoDetails:e.photoDetails,firstName:e.firstName,lastName:e.lastName,employeeId:e.employeeId}})),c.a.createElement("aside",{className:"aside right bckgr-white padding-top-md"},c.a.createElement("div",{className:"position-relative"},c.a.createElement("i",{className:"fas fa-times close font-sm cursor-pointer",onClick:function(e){return W(e)}}),c.a.createElement("div",{className:"accordion"},c.a.createElement("div",{className:"accordion--btn d-flex justify-content--center"},c.a.createElement("span",{className:"font-md font-weight-600"},"All Colleagues")),c.a.createElement("div",{className:"content-wrapper"},c.a.createElement("ul",{className:"online--users"},a.map((function(e,a){var n=e.photoDetails,r=e.firstName,s=e.lastName,o=e.employeeId;return c.a.createElement(E.b,{to:"".concat(t===o?"/user/profile":"/user/".concat(r,"_").concat(s)),key:a},c.a.createElement("li",{className:"user d-flex align-items--center margin-bottom-md nowrap action",key:a},c.a.createElement("div",{className:"position-relative"},c.a.createElement("img",{className:"avatar--sm icon",src:n[0],alt:"poster avatar"}),c.a.createElement("span",{className:"online"})),c.a.createElement("span",{className:"font-sm username"},"".concat(r," ").concat(s," ").concat(t===o?"(You)":""))))})))))))},z=Object(n.createContext)(),Y=z.Consumer,$=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).updateFeed=function(e){a.setState({feed:Object(H.a)(e)})},a.state={feed:[],updateFeed:function(e){return a.updateFeed(e)}},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return console.log(this.state),c.a.createElement(z.Provider,{value:this.state},this.props.children)}}]),t}(c.a.Component),Q=(a(32),function(e){var t=new Date(e),a=new Date,n=t.getDay(),c=a.getDay(),r=(a.getTime()-t.getTime())/864e5;switch(r){case 1===r&&c-n===1:return"yesterday at ".concat(ee(t));case 0===r&&c===n:return"today at ".concat(ee(t));case r>1:return"".concat(Z(t));default:return"".concat(X(t)," ").concat(t.getDate()," at ").concat(ee(t))}}),X=function(e){return["Jan","Feb","Mar","April","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]},Z=function(e){return["Sun","Mon","Tues","Wed","Thur","Fri","Sat"][e.getDay()]},ee=function(e){var t=e.getHours(),a=e.getMinutes(),n=t>=12?"pm":"am";return t=t%12?t%12:12,a=a<10?"0".concat(a):a,"".concat(t,":").concat(a," ").concat(n)},te=function(e){var t=e.handleInput,a=e.value;return c.a.createElement("form",{className:"form d-flex position-relative",style:{width:"100%"}},c.a.createElement("textarea",{className:"textarea padding-md padding-bottom-lg padding-right-lg font-md margin-bottom-sm",onChange:function(e){return t(e)},name:"comment",value:a,placeholder:"Write Comment"}),e.button&&e.action?c.a.createElement("i",{className:"fas fa-paper-plane color2 font-lg",style:{position:"absolute",bottom:"20px",right:"25px"},onClick:function(t){return e.action(t)}}):null)};te.defaultProps={button:!0};var ae=te,ne=function(e){var t=Object(n.useState)("comment"),a=Object(x.a)(t,2),r=a[0],s=a[1],o=U(),l=o.updateAjaxStatus,m=o.HttpStatusComponent,d=e.feedId,u=e.feedType,p=e.users,f=e.userData,g=f.userId,h=f.token,b=e.comment,v=b.id,N=b.comment,y=b.userid,j=b.createdon,O=p.find((function(e){return e.employeeId===y})),w=O.photoDetails,C=O.firstName,I=O.lastName,S=O.employeeId,F=D(N),M=F.state,A=F.onChange,T=F.resetValue,L=Object(n.useState)([]),P=Object(x.a)(L,2),_=P[0],K=P[1],R=me("delete").deleteComment,G=me("edit").modifyComment,W=Object(n.useCallback)((function(){var e="article"===u?"articles":"gifs";Object(k.getData)("".concat(k.apiKey,"/").concat(e,"/").concat(d,"/comment/").concat(parseInt(v,10),"/flagStats"),g,h).then((function(e){var t=e.data.flagStats;K(t),console.log(t)})).catch((function(e){console.log(e)}))}),[d,u,v,h,g]);Object(n.useEffect)((function(){W()}),[W]);return c.a.createElement(n.Fragment,null,"comment"===r?c.a.createElement("article",{className:"margin-bottom-sm border-line--h"},S===parseInt(g,10)?c.a.createElement("div",{className:"d-flex",style:{justifyContent:"flex-end"}},c.a.createElement("div",{className:"padding-bottom-sm trigger-more-action cursor-pointer position-relative"},c.a.createElement("i",{className:"fas fa-ellipsis-h font-md font-weight-bold color-dark tooltip"}),c.a.createElement("div",{className:"more-option sm padding-md border-r-10"},c.a.createElement("div",{className:"d-flex align-items-end font-weight-bold margin-bottom-sm padding-sm padding-bottom-xsm",onClick:function(e){return function(e){e.preventDefault(),console.log(v),Object(i.trackPromise)(Object(k.deleteData)("".concat(k.apiKey,"/").concat(u,"s/").concat(d,"/comment/").concat(parseInt(v,10)),g,h).then((function(e){var t=e.status,a=e.message;l({show:!0,message:a,status:t}),R(d,v)})).catch((function(e){var t=e.status,a=e.error;l({show:!0,message:a.split(",")[0],status:t})})))}(e)}},c.a.createElement("i",{className:"fas fa-trash font-sm margin-right-sm"}),c.a.createElement("span",{className:"font-sm"},"Delete")),c.a.createElement("div",{className:"d-flex align-items-end font-weight-bold padding-sm padding-bottom-xsm",onClick:function(){return s("commentForm")}},c.a.createElement("i",{className:"fas fa-pen font-sm margin-right-sm"}),c.a.createElement("span",{className:"font-sm"},"Edit"))))):null,c.a.createElement("div",{className:"margin-bottom-sm"},c.a.createElement("div",{className:"d-flex justify-content--s-between align-items--center margin-bottom-sm"},c.a.createElement("div",{className:"poster--details"},c.a.createElement(E.b,{to:S===parseInt(g,10)?"/user/profile":"/user/".concat(C,"_").concat(I),style:{color:"#000"}},c.a.createElement("div",{className:"d-flex nowrap"},c.a.createElement("img",{className:"avatar--sm icon",src:w[0],alt:"poster avatar"}),c.a.createElement("div",{className:"d-flex column"},c.a.createElement("span",{className:"poster--username text-content font-weight-bold margin-bottom-xsm"},"".concat(C," ").concat(I)),c.a.createElement("div",{className:"margin-bottom-sm"},c.a.createElement("span",{className:"d-block font-sm gray-color"},j)))))),c.a.createElement("div",{className:"flag-stats "},c.a.createElement("i",{className:"fas fa-flag margin-right-sm cursor-pointer ".concat(ue(_,g)?"danger-text":""),onClick:function(e){return function(e){e.preventDefault();var t={isFlagged:!e.target.classList.contains("danger-text"),userId:g};Object(k.modifyData)("".concat(k.apiKey,"/").concat(u,"s/").concat(d,"/comment/").concat(parseInt(v,10),"/flag"),t,h).then((function(e){W()})).catch((function(e){console.log(e)}))}(e)}}),c.a.createElement("span",{className:"flag font-weight-bold font-sm padding-sm border-r-circle"},0===_.length?"":_.length)))),c.a.createElement("div",{className:"comment-content margin-bottom-sm"},c.a.createElement("div",{className:"text-content padding-bottom-sm"},c.a.createElement("p",null,N)))):c.a.createElement("div",{className:"d-flex column"},c.a.createElement(ae,{value:M,handleInput:A,button:!1}),c.a.createElement("div",{className:"d-flex align-self-end margin-top-sm"},c.a.createElement("button",{className:"border-r-5 padding-sm cursor-pointer font-sm margin-right-sm",onClick:function(){return s("comment")}},"Cancel"),c.a.createElement("button",{className:"border-r-5 padding-sm cursor-pointer font-sm bckgr-color2 color-white",onClick:function(e){return function(e){e.preventDefault(),console.log(v);var t={userId:g,comment:M};console.log(t),Object(i.trackPromise)(Object(k.modifyData)("".concat(k.apiKey,"/").concat(u,"s/").concat(d,"/comment/").concat(parseInt(v,10)),t,h).then((function(e){var t=e.status,a=e.data,n=a.message,c=a.commentDetails;console.log(c),G(d,v,c),T(),s("comment"),l({show:!0,message:n,status:t})})).catch((function(e){console.log(e);var t=e.status,a=e.error;l({show:!0,message:a.split(",")[0],status:t})})))}(e)}},"Update"))),m)},ce=function(e){var t=e.feedId,a=e.feedType,r=e.comments,s=e.users,o=D(),l=o.state,i=o.onChange,m=o.resetValue,d=U(),u=d.updateAjaxStatus,p=d.HttpStatusComponent,f=Object(n.useContext)(C).data,g=f.userId,h=f.token,b=me("add").addComment;return c.a.createElement("div",{className:"comment--section"},r.map((function(e,n){return c.a.createElement(ne,{key:n,comment:e,feedId:t,feedType:a,users:s,userData:{userId:g,token:h}})})),c.a.createElement(ae,{handleInput:i,value:l,action:function(e){e.preventDefault();var n="article"===a?"articles":"gifs",c={comment:l,userId:parseInt(g,10)};Object(k.sendData)("".concat(k.apiKey,"/").concat(n,"/").concat(t,"/comment"),c,h).then((function(e){var a=e.status,n=e.data,c=n.commentDetails,r=n.message;b(t,c),m(),u({show:!0,message:r,status:a})})).catch((function(e){var t=e.error,a=e.status;console.log(e),u({show:!0,message:t.split(",")[0],status:a})}))}}),p)},re=function(e){var t=e.articleId,a=e.userData,r=a.userId,s=a.token,o=e.closeModal,l=Object(n.useContext)(z),m=l.feed,d=l.updateFeed,u=Object(n.useState)(e.category),p=u.category,f=u.setCategory,g=Object(n.useState)(!0),h=Object(x.a)(g,2),b=h[0],E=(h[1],D(e.title)),v=E.state,N=E.onChange,y=D(e.article),j=y.state,O=y.onChange,w=U(),C=w.updateAjaxStatus,I=w.HttpStatusComponent;return c.a.createElement(n.Fragment,null,c.a.createElement("form",{style:{width:"400px"},className:"form",method:"POST"},c.a.createElement("label",null," Title",c.a.createElement("input",{type:"text",name:"title",placeholder:"Enter title",className:"form-control",value:v,onChange:function(e){return N(e)}})),c.a.createElement("span",{className:"error-msg italic padding-sm"}),c.a.createElement("label",null," Category",c.a.createElement("input",{type:"text",name:"category",placeholder:"(Optional) separate every category with ','",className:"form-control",value:p,onChange:function(e){return function(e){var t=e.target.value;f(t.split(""))}(e)}})),c.a.createElement("span",{className:"error-msg italic padding-sm"}),c.a.createElement("label",null,"Content",c.a.createElement("textarea",{type:"text",name:"articleBody",placeholder:"What's happening?",className:"form-control textarea",value:j,onChange:function(e){return O(e)}})),c.a.createElement("span",{className:"error-msg italic padding-sm"}),c.a.createElement("button",{disabled:!b,className:"submit--btn ".concat(b?"":"isInvalid"),onClick:function(e){return function(e){e.preventDefault();var a={title:v,article:j,userId:parseInt(r,10),category:0===p.length?null:p};Object(i.trackPromise)(Object(k.modifyData)("".concat(k.apiKey,"/articles/").concat(t),a,s,!1).then((function(e){console.log(e.data);var a=e.status,n=e.data,c=n.message,r=n.title,s=n.article,l=n.category,i=m.map((function(e){return e.id===t&&(e.title=r,e.category=l,e.content=s),e}));d(i),C({show:!0,message:c,status:a}),o()})).catch((function(e){var t=e.status,a=e.error;C({show:!0,message:a.split(",")[0],status:t})})))}(e)}},"Update")),I)},se=function(e){var t=Object(n.useState)(e.feed.flagStat),a=Object(x.a)(t,2),r=a[0],s=a[1],o=Object(n.useContext)(J).users,l=e.feed,m=l.id,d=l.type,u=l.content,p=l.title,f=l.category,g=l.userid,h=l.comments,b=l.createdon,v=e.allFeed,N=e.updateFeed,y=e.userData,j=y.userId,O=y.token,w=(o=o.map((function(e){return{employeeId:e.employeeId,photoDetails:e.photoDetails,firstName:e.firstName,lastName:e.lastName}}))).find((function(e){return e.employeeId===g})),C=w.photoDetails,I=w.firstName,D=w.lastName,S=w.employeeId,F={comments:h,feedId:m,users:o,feedType:d},M={title:p,article:u[0],category:f,articleId:m,userData:{userId:j,token:O}},U=K("Modify Article",re,M),A=U.openModal,T=U.ModalChild,L=K("View Comments",ce,F),P=L.openModal,_=L.ModalChild,R=function(e){e.preventDefault();var t={isFlagged:!e.target.classList.contains("danger-text"),userId:j};Object(k.modifyData)("".concat(k.apiKey,"/feed/").concat(m,"/flag"),t,O).then((function(){Object(k.getData)("".concat(k.apiKey,"/feed/").concat(m,"/flagStats"),j,O).then((function(e){var t=e.data.flagStats;s(t)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))};return c.a.createElement("article",{className:"story margin-bottom-md"},S===parseInt(j,10)?c.a.createElement("div",{className:"d-flex",style:{justifyContent:"flex-end"}},c.a.createElement("div",{className:"padding-bottom-sm trigger-more-action cursor-pointer position-relative"},c.a.createElement("i",{className:"fas fa-ellipsis-h font-md font-weight-bold color-dark tooltip"}),c.a.createElement("div",{className:"more-option padding-md border-r-10"},c.a.createElement("div",{className:"d-flex align-items-end font-weight-bold margin-bottom-sm padding-sm padding-bottom-xsm",onClick:function(e){return function(e){e.preventDefault();var t="article"===d?"articles/".concat(m):"gifs/".concat(m,"/").concat(u[1]);Object(i.trackPromise)(Object(k.deleteData)("".concat(k.apiKey,"/").concat(t),j,O).then((function(){var e=v.filter((function(e){return e.id!==m}));N(e)})).catch((function(e){return console.log(e)})))}(e)}},c.a.createElement("i",{className:"fas fa-trash font-sm margin-right-sm"}),c.a.createElement("span",{className:"font-sm"},"Delete ","article"===d?"article":"GIF")),"article"===d?c.a.createElement("div",{className:"d-flex align-items-end font-weight-bold padding-sm padding-bottom-xsm",onClick:A},c.a.createElement("i",{className:"fas fa-pen font-sm margin-right-sm"}),c.a.createElement("span",{className:"font-sm"},"Edit article")):null))):null,c.a.createElement("div",{className:"margin-bottom-sm"},c.a.createElement("div",{className:"d-flex justify-content--s-between margin-bottom-sm"},c.a.createElement("div",{className:"poster--details"},c.a.createElement(E.b,{to:S===parseInt(j,10)?"/user/profile":"/user/".concat(I,"_").concat(D),style:{color:"#000"}},c.a.createElement("div",{className:"d-flex nowrap"},c.a.createElement("img",{className:"avatar--sm icon",src:C[0],alt:"poster avatar"}),c.a.createElement("div",{className:"d-flex column"},c.a.createElement("span",{className:"poster--username text-content font-weight-bold margin-bottom-xsm"},"".concat(I," ").concat(D)),c.a.createElement("div",{className:"margin-bottom-sm"},c.a.createElement("span",{className:"d-block font-sm gray-color"},b)))))),c.a.createElement("div",{className:"flag-stats justify-self-end"},c.a.createElement("i",{className:"fas fa-flag margin-right-sm cursor-pointer ".concat(ue(r,j)?"danger-text":""),onClick:function(e){return R(e)}}),c.a.createElement("span",{className:"flag font-weight-bold font-sm padding-sm border-r-circle"},0===r.length?"":r.length)))),c.a.createElement("div",{className:"post-content margin-bottom-sm"},function(e,t,a,n){switch(e){case"article":return c.a.createElement("div",{className:"text-content padding-bottom-sm"},c.a.createElement("p",{className:"font-weight-bold font-md padding-bottom-sm"},n),c.a.createElement("p",{className:"font-sm",style:{overflowY:"hidden",maxHeight:"150px"}},a[0]),c.a.createElement(E.b,{to:"/user/dashboard/articles/".concat(t)},c.a.createElement("span",{className:"padding-sm paint-text font-weight-bold"},"...Read More")));case"gif":return c.a.createElement("div",{className:"padding-bottom-sm"},c.a.createElement("p",{className:"font-weight-bold font-sm padding-bottom-md"},n),c.a.createElement("div",{className:"d-flex justify-content--center align-items--center padding-bottom-md"},c.a.createElement("div",{className:"",style:{width:"70%",height:"150px",overflow:"hidden"}},c.a.createElement("img",{className:"",style:{width:"100%",height:"auto"},src:a[0],publicid:a[1],alt:"poster avatar"}))),c.a.createElement(E.b,{to:"/user/dashboard/gifs/".concat(t)},c.a.createElement("span",{className:"padding-md paint-text font-weight-bold"},"...View full size")))}}(d,m,u,p)),c.a.createElement("div",{className:"category"},f.map((function(e,t){return c.a.createElement("span",{key:t,className:"border-r-10 text-content italic font-sm bckgr-color2 color-white padding-sm margin-right-sm margin-bottom-sm"},e)}))),c.a.createElement("div",{className:"comment--flag--section padding-top-sm"},c.a.createElement("div",{className:"stats d-flex justify-content--s-between align-items--center margin-bottom-sm\r padding-bottom-sm"},c.a.createElement("div",{className:"comment-stats font-weight-bold cursor-pointer"},c.a.createElement("i",{className:"fas fa-comments margin-right-sm paint-text"}),c.a.createElement("span",{className:"value comment font-sm icon"},h.length)),c.a.createElement("div",{className:"action padding-sm",id:"add--comment",style:{border:"1px solid #a0a0a0",borderRadius:"10px",justifySelf:"flex-end"},onClick:P},c.a.createElement("i",{className:"fas fa-comment icon color2"}),c.a.createElement("span",{className:"font-weight-bold"},"Comment")))),T,_)},oe=function(e){return c.a.createElement("div",{className:"d-flex justify-content--center align-items--center"},c.a.createElement("span",{className:"font-lg gray-color font-weight-600"},e))},le=function(e,t,a){var n=t.map((function(e){return e.createdon=Q(e.createdon),e.id=parseInt(e.id,10),e}));return e.map((function(e){var t=n.filter((function(t){return t.contentid===parseInt(e.id,10)}));console.log(t);var c=a.filter((function(t){return t.contentid===e.id})),r=e.createdon;return e.comments=t,e.createdon=Q(r),e.id=parseInt(e.id,10),e.flagStat=c,e}))},ie=function(e){return e.createdon=Q(e.createdon),e.id=parseInt(e.id,10),e.comments=[],e.flagStats=[],e},me=function(e){var t=Object(n.useContext)(z),a=t.feed,c=t.updateFeed;switch(console.log(a),e){case"add":return{addComment:function(e,t){console.log(t),t.createdon=Q(t.createdon);var n=a.map((function(a){return a.id===e&&(a.comments=[].concat(Object(H.a)(a.comments),[t])),a}));c(n)}};case"delete":return{deleteComment:function(e,t){var n=a.map((function(a){return a.id===e&&(a.comments=a.comments.filter((function(e){return e.id!==t}))),a}));c(n)}};case"edit":return{modifyComment:function(e,t,n){console.log(n),t=parseInt(t,10);var r=a.map((function(a){return a.id===e&&(a.comments=a.comments.map((function(e){return e.id===t&&(n.createdon=Q(n.createdon),n.id=parseInt(n.id,10),e=n),e}))),a}));c(r)}}}},de=function(e,t){var a=t.userId,n=t.token;return 0!==e.length?e.map((function(e,t){return c.a.createElement(se,{key:t,feed:e,userData:{userId:a,token:n}})})):oe("No Content")},ue=function(e,t){return e.find((function(e){return parseInt(e.userid,10)===t}))},pe=function(e){var t=e.userData,a=t.userId,r=t.token,s=e.closeModal,o=Object(n.useContext)(z),l=o.feed,m=o.updateFeed,d=D(),u=d.state,p=d.onChange,f=D(),g=f.state,h=f.onChange,b=f.resetValue,E=D(),v=E.state,N=E.onChange,y=U(),j=y.updateAjaxStatus,O=y.HttpStatusComponent,x=function(e){return 0===(e=e.split(",")).length?null:e};return c.a.createElement(n.Fragment,null,c.a.createElement("form",{style:{width:"400px"},className:"form",method:"POST"},c.a.createElement("label",null," Title",c.a.createElement("input",{type:"text",name:"title",placeholder:"Enter title",className:"form-control",value:u,onChange:function(e){return p(e)}})),c.a.createElement("span",{className:"error-msg italic padding-sm"}),c.a.createElement("label",null," Category",c.a.createElement("input",{type:"text",name:"category",placeholder:"(Optional) separate every category with ','",className:"form-control",value:v,onChange:function(e){return N(e)}})),c.a.createElement("span",{className:"error-msg italic padding-sm"}),c.a.createElement("label",null,"Content",c.a.createElement("textarea",{type:"text",name:"articleBody",placeholder:"What's happening?",className:"form-control textarea",value:g,onChange:function(e){return h(e)}})),c.a.createElement("span",{className:"error-msg italic padding-sm"}),c.a.createElement("button",{disabled:!1,className:"submit--btn ".concat(""),onClick:function(e){return function(e){e.preventDefault();var t={title:u,article:g,userId:parseInt(a,10),category:x(v)};Object(i.trackPromise)(Object(k.sendData)("".concat(k.apiKey,"/articles"),t,r).then((function(e){console.log(e.data);var t=e.status,a=e.data,n=e.data.message;console.log(a),m([ie(a.feed)].concat(Object(H.a)(l))),j({show:!0,message:n,status:t}),b(),s()})).catch((function(e){var t=e.error,a=e.status;j({show:!0,message:t.split(",")[0],status:a})})))}(e)}},"Publish")),O)},fe=function(e){var t=e.userData,a=t.token,r=t.userId,s=Object(n.useContext)(z),o=s.feed,l=s.updateFeed,m=D(),d=m.state,u=m.onChange,p=D(),f=p.state,g=p.onChange,h=D(),b=h.state,E=h.handleFile,v=D(),N=v.state,y=v.handleFile,j=U(),O=j.updateAjaxStatus,x=j.HttpStatusComponent;return c.a.createElement(n.Fragment,null,c.a.createElement("form",{className:"form",method:"POST"},c.a.createElement("label",null," GIF title",c.a.createElement("input",{type:"text",name:"title",placeholder:"Enter title",className:"form-control",value:d,onChange:function(e){return u(e)}}),c.a.createElement("span",{className:"error-msg italic padding-sm"})),c.a.createElement("label",null," Category",c.a.createElement("input",{type:"text",name:"category",placeholder:"(Optional) separate every category with ','",className:"form-control",value:f,onChange:function(e){return g(e)}})),c.a.createElement("span",{className:"error-msg italic padding-sm"}),c.a.createElement("div",{className:"file_display padding-bottom-sm",style:{width:"150px",height:"auto",display:"".concat(null===N?"none":"inline-block")}},c.a.createElement("img",{src:N,alt:"",style:{width:"100%",height:"auto"}})),c.a.createElement("div",{className:"padding-bottom-md"},c.a.createElement("label",{className:"btn--file d-inline-block"},c.a.createElement("div",{className:"upload--icon"},c.a.createElement("i",{className:"far fa-image font-md d-inline-block"}),c.a.createElement("span",{className:"padding-left-sm font-sm"},"Upload GIF...")),c.a.createElement("input",{type:"file",name:"file",multiple:!1,onChange:function(e){return function(e){e.preventDefault();var t=e.target.files;y(URL.createObjectURL(t[0])),E(t[0])}(e)}})),c.a.createElement("span",{className:"error-msg italic padding-sm"})),c.a.createElement("input",{onClick:function(e){return function(e){var t=new FormData;t.append("files",b),t.append("title",d),t.append("category[]",function(e){return 0===(e=e.split(",")).length?null:e}(f)),t.append("userId",r),console.log(t),e.target.value="Publishing...",Object(i.trackPromise)(Object(k.sendData)("".concat(k.apiKey,"/gifs"),t,a,!0).then((function(e){var t=e.status,a=e.data,n=e.data.message;l([ie(a.feed)].concat(Object(H.a)(o))),O({show:!0,message:n,status:t}),console.log(e)})).catch((function(e){var t=e.status,a=e.error;O({show:!0,message:a.split(",")[0],status:t}),console.log(e)})))}(e)},type:"submit",value:"Publish",className:"submit--btn"})),x)},ge=function(e){var t=e.closeModal,a=Object(n.useState)("article"),r=Object(x.a)(a,2),s=r[0],o=r[1],l=Object(n.useContext)(C).data,i=l.token,m=l.userId,d=function(e){return o(e)};return console.log(s),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("div",{className:"control--btns position-relative margin-bottom-md"},c.a.createElement("span",{onClick:function(){return d("article")},className:"accordion--btn font-weight-600 ".concat("article"===s?"active":""," margin-right-sm")},"Article"),c.a.createElement("span",{onClick:function(){return d("gif")},className:"accordion--btn font-weight-600 ".concat("gif"===s?"active":""," margin-right-sm ")},"GIF")),c.a.createElement("h3",{className:"modal--heading"},"article"===s?"Write an article":"Share GIF")),c.a.createElement("div",null,"gif"===s?c.a.createElement(fe,{userData:{token:i,userId:m},closeModal:t}):c.a.createElement(pe,{userData:{token:i,userId:m},closeModal:t})))},he=function(e){var t=e.updateFeed,a=e.feed,r=Object(n.useContext)(C).data,s=K("",ge),o=s.openModal,l=s.ModalChild;return console.log(o,l),Object(n.useEffect)((function(){var a=r.token,n=r.userId,c=e.feed;0===c.length&&Object(i.trackPromise)(Object(k.getData)("".concat(k.apiKey,"/feed"),n,a).then((function(e){var a=e.data,n=a.content,r=a.comments,s=a.flags;c=[].concat(Object(H.a)(le(n,r,s)),Object(H.a)(c)),t(c)})).catch((function(e){console.log(e)})))})),c.a.createElement("div",null,c.a.createElement("div",{className:"create--post margin-bottom-md"},c.a.createElement("i",{className:"fas fa-plus-circle font-xlg action",onClick:o})),c.a.createElement("section",null,function(e,t,a){var n=a.userId,r=a.firstName,s=a.lastName,o=a.token,l=t.feed,i=t.updateFeed;return 0!==e.length?e.map((function(e,t){return c.a.createElement(se,{key:t,feed:e,allFeed:l,updateFeed:i,userData:{userId:n,firstName:r,lastName:s,token:o}})})):oe("No post to show!!! Why not be the first to own a content? Click the plus button above")}(a,e,r)),l)},be=function(e){var t=e.feedId,a=e.userData,r=a.token,s=a.userId,o=Object(n.useContext)(z),l=o.feed,m=o.updateFeed,d=D(e.title),u=d.state,p=d.onChange,f=D(e.category),g=f.state,h=f.onChange,b=D(),E=b.state,v=b.handleFile,N=D(e.publicUrl),y=N.state,j=N.handleFile,O=U(),x=O.updateAjaxStatus,w=O.HttpStatusComponent;return c.a.createElement(n.Fragment,null,c.a.createElement("form",{className:"form",method:"POST"},c.a.createElement("label",null," GIF title",c.a.createElement("input",{type:"text",name:"title",placeholder:"Enter title",className:"form-control",value:u,onChange:function(e){return p(e)}}),c.a.createElement("span",{className:"error-msg italic padding-sm"})),c.a.createElement("label",null," Category",c.a.createElement("input",{type:"text",name:"category",placeholder:"(Optional) separate every category with ','",className:"form-control",value:g,onChange:function(e){return h(e)}})),c.a.createElement("span",{className:"error-msg italic padding-sm"}),c.a.createElement("div",{className:"file_display",style:{width:"150px",height:"150px",display:"".concat(null===y?"none":"inline-block")}},c.a.createElement("img",{src:y,alt:""})),c.a.createElement("div",{className:"padding-bottom-md"},c.a.createElement("label",{className:"btn--file d-inline-block"},c.a.createElement("div",{className:"upload--icon"},c.a.createElement("i",{className:"far fa-image font-md d-inline-block"}),c.a.createElement("span",{className:"padding-left-sm font-sm"},"Upload GIF...")),c.a.createElement("input",{type:"file",name:"file",multiple:!1,onChange:function(e){return function(e){e.preventDefault();var t=e.target.files;j(URL.createObjectURL(t[0])),v(t[0])}(e)}})),c.a.createElement("span",{className:"error-msg italic padding-sm"})),c.a.createElement("input",{onClick:function(e){return function(e){e.preventDefault();var a=new FormData;a.append("files",E),a.append("title",u),a.append("category",function(e){return(e=e.split(",")).length<=0?null:e}(g)),a.append("userId",s),e.target.value="Publishing...",Object(i.trackPromise)(Object(k.sendData)("".concat(k.apiKey,"/gifs/").concat(t),a,r).then((function(t){e.target.value="Publish";t.status;var a=t.data;m([a].concat(Object(H.a)(l)))})).catch((function(e){var t=e.status,a=e.error;x({show:!0,message:a.split(",")[0],status:t}),console.log(e)})))}(e)},type:"submit",value:"Publish",className:"submit--btn"})),w)},Ee=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).fetchSingleContent=function(){var e=a.props.userData,t=e.token,n=e.userId,c=a.props.props.match,r=c.params,s=c.path;console.log(a.props);var o=s.includes("articles")?"articles":"gifs",l=r.gifId||r.articleId;Object(i.trackPromise)(Object(k.getData)("".concat(k.apiKey,"/").concat(o,"/").concat(l),n,t).then((function(e){console.log(e),console.log(a.state);var t=e.data,n=function(e,t,a){var n=t.map((function(e){return e.createdon=Q(e.createdon),e.id=parseInt(e.id,10),e}));return e.comments=n,e.flagStats=a,e.createdon=Q(e.createdon),e.id=parseInt(e.id,10),e}(t.content,t.comments,t.flags),c=n.flagStats;a.setState({isFetching:!1,singleFeed:n,flagStats:c}),console.log(a.state)})).catch((function(e){console.log(e)})))},a.flag=function(e){e.preventDefault();var t=a.props.props.match.params,n=t.gifId||t.articleId,c=a.props.userData,r=c.userId,s=c.token,o={isFlagged:!e.target.classList.contains("danger-text"),userId:r};Object(k.modifyData)("".concat(k.apiKey,"/feed/").concat(n,"/flag"),o,s).then((function(){a.fetchFlagStats()})).catch((function(e){console.log(e)}))},a.handleDelete=function(e){e.preventDefault();var t=a.props,n=t.allFeed,c=t.updateFeed,r=t.userData,s=r.token,o=r.userId,l=a.state.singleFeed,m=l.type,d=l.id,u=l.content,p="article"===m?"articles/".concat(d):"gifs/".concat(d,"/").concat(u[1]);Object(i.trackPromise)(Object(k.deleteData)("".concat(k.apiKey,"/").concat(p),o,s).then((function(){var e=n.filter((function(e){return e.id!==d}));c(e)})).catch((function(e){return console.log(e)})))},a.fetchFlagStats=function(){var e=a.props.props.match.params,t=e.gifId||e.articleId,n=a.props.userData,c=n.userId,r=n.token;Object(k.getData)("".concat(k.apiKey,"/feed/").concat(t,"/flagStats"),c,r).then((function(e){var t=e.data.flagStats;a.setState({flagStats:t})})).catch((function(e){console.log(e)}))},a.toggleModal=function(e){e.preventDefault();var t=e.target;console.log(t);var n=Object(H.a)(t.classList);console.log(n),n.includes("close")?a.setState({isModalOpen:!1}):a.setState({isModalOpen:!0}),console.log(a.state.isModalOpen)},a.checkIfUserFlagged=function(e,t){return e.find((function(e){return parseInt(e.userid,10)===t}))},a.modifyArticle=function(e){e.preventDefault();var t=e.target,n=Object(H.a)(t.classList);console.log(n),n.includes("close")?a.setState({renderArticleForm:!1}):a.setState({renderArticleForm:!0})},a.modifyGIF=function(e){e.preventDefault();var t=e.target,n=Object(H.a)(t.classList);console.log(n),n.includes("close")?a.setState({renderGIF:!1}):a.setState({renderGIF:!0})},a.contentType=function(e,t,a){switch(e){case"article":return c.a.createElement("div",{className:"text-content padding-bottom-sm"},c.a.createElement("p",{className:"font-weight-bold font-md padding-bottom-sm"},a),c.a.createElement("p",{className:"font-sm"},t[0]));case"gif":return c.a.createElement("div",{className:"padding-bottom-sm"},c.a.createElement("p",{className:"font-weight-bold font-sm padding-bottom-md"},a),c.a.createElement("div",{className:"d-flex justify-content--center align-items--center padding-bottom-md"},c.a.createElement("div",{className:""},c.a.createElement("img",{className:"",style:{width:"100%",height:"auto"},src:t[0],publicid:t[1],alt:"poster avatar"}))))}},a.feed={},a.state={isFetching:!0,singleFeed:{},flagStats:[],isModalOpen:!1,renderArticleForm:!1,renderGIF:!1},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.fetchSingleContent()}},{key:"componentWillUnmount",value:function(){this.setState({isFetching:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.singleFeed,n=t.isFetching,r=t.flagStats;if(n)return c.a.createElement(u,null);var s=this.context.users;console.log(s),s=s.map((function(e){return{employeeId:e.employeeId,photoDetails:e.photoDetails,firstName:e.firstName,lastName:e.lastName}}));var o=a.id,l=a.title,i=a.category,m=a.content,d=a.userid,p=a.type,f=a.comments;console.log(p);var g=s.find((function(e){return e.employeeId===d}));console.log(g);var h=g.photoDetails,b=g.firstName,v=g.lastName,N=g.employeeId,y=a.createdon,j=this.props.userData,O=j.userId,x=j.token;return console.log(O),c.a.createElement("article",{className:"story margin-bottom-md"},N===parseInt(O,10)?c.a.createElement("div",{className:"d-flex",style:{justifyContent:"flex-end"}},c.a.createElement("div",{className:"padding-bottom-sm trigger-more-action cursor-pointer position-relative"},c.a.createElement("i",{className:"fas fa-ellipsis-h font-md font-weight-bold color-dark tooltip"}),c.a.createElement("div",{className:"more-option padding-md border-r-10"},c.a.createElement("div",{className:"d-flex align-items-end font-weight-bold margin-bottom-sm padding-sm padding-bottom-xsm",onClick:function(t){return e.handleDelete(t)}},c.a.createElement("i",{className:"fas fa-trash font-sm margin-right-sm"}),c.a.createElement("span",{className:"font-sm"},"Delete ","article"===p?"article":"GIF")),c.a.createElement("div",{className:"d-flex align-items-end font-weight-bold padding-sm padding-bottom-xsm",onClick:function(t){return"article"===p?e.modifyArticle(t):e.modifyGIF(t)}},c.a.createElement("i",{className:"fas fa-pen font-sm margin-right-sm"}),c.a.createElement("span",{className:"font-sm"},"Edit ","article"===p?"article":"GIF"))))):null,c.a.createElement("div",{className:"margin-bottom-sm"},c.a.createElement("div",{className:"d-flex justify-content--s-between margin-bottom-sm"},c.a.createElement("div",{className:"poster--details"},c.a.createElement(E.b,{to:N===parseInt(O,10)?"/user/profile":"/user/".concat(b,"_").concat(v),style:{color:"#000"}},c.a.createElement("div",{className:"d-flex nowrap"},c.a.createElement("img",{className:"avatar--sm icon",src:h[0],alt:"poster avatar"}),c.a.createElement("div",{className:"d-flex column"},c.a.createElement("span",{className:"poster--username text-content font-weight-bold margin-bottom-xsm"},"".concat(b," ").concat(v)),c.a.createElement("div",{className:"margin-bottom-sm"},c.a.createElement("span",{className:"d-block font-sm gray-color"},y)))))),c.a.createElement("div",{className:"flag-stats justify-self-end"},c.a.createElement("i",{className:"fas fa-flag margin-right-sm cursor-pointer ".concat(this.checkIfUserFlagged(r,O)?"danger-text":""),onClick:function(t){return e.flag(t)}}),c.a.createElement("span",{className:"flag font-weight-bold font-sm padding-sm border-r-circle"},0===r.length?"":r.length)))),c.a.createElement("div",{className:"post-content margin-bottom-sm"},this.contentType(p,m,l)),c.a.createElement("div",{className:"category"},i.map((function(e,t){return c.a.createElement("span",{key:t,className:"border-r-10 text-content italic font-sm bckgr-color2 color-white padding-sm margin-right-sm margin-bottom-sm"},e)}))),c.a.createElement("div",{className:"comment--flag--section padding-top-sm"},c.a.createElement("div",{className:"stats d-flex justify-content--s-between align-items--center margin-bottom-sm\r padding-bottom-sm"},c.a.createElement("div",{className:"comment-stats font-weight-bold cursor-pointer"},c.a.createElement("i",{className:"fas fa-comments margin-right-sm paint-text"}),c.a.createElement("span",{className:"value comment font-sm icon"},f.length)),c.a.createElement("div",{className:"action padding-sm",id:"add--comment",style:{border:"1px solid #a0a0a0",borderRadius:"10px",justifySelf:"flex-end"},onClick:function(t){return e.toggleModal(t)}},c.a.createElement("i",{className:"fas fa-comment icon color2"}),c.a.createElement("span",{className:"font-weight-bold"},"Comment")))),c.a.createElement(P,{toggleModal:this.toggleModal,isModalOpen:this.state.isModalOpen,contentTitle:"View Comments",contentBody:c.a.createElement(ce,{comments:f,feedId:o,users:s,feedType:p})}),c.a.createElement(P,{toggleModal:this.modifyArticle,isModalOpen:this.state.renderArticleForm,contentTitle:"Modify Article",contentBody:c.a.createElement(re,{title:l,article:m[0],category:i,articleId:o,userData:{userId:O,token:x},closeModal:this.closeModal})}),c.a.createElement(P,{toggleModal:this.modifyGIF,isModalOpen:this.state.renderGIF,contentTitle:"Modify GIF",contentBody:c.a.createElement(be,{title:l,publicUrl:m[0],category:i,gifId:o,userData:{userId:O,token:x},closeModal:this.closeModal})}))}}]),t}(n.Component);Ee.contextType=J;var ve=Ee,Ne=function(e){var t=Object(n.useContext)(C).data,a=t.userId,r=t.token,s=e.match.path;return c.a.createElement("main",{className:"main"},c.a.createElement("div",{className:"content-wrapper"},c.a.createElement(E.a,null,c.a.createElement(Y,null,(function(e){var t=e.updateFeed,n=e.feed;return c.a.createElement(v.d,null,c.a.createElement(v.b,{exact:!0,path:"".concat(s),render:function(e){return c.a.createElement(he,{updateFeed:t,feed:n,props:Object(w.a)({},e)})}}),c.a.createElement(v.b,{path:"".concat(s,"/articles/:articleId"),render:function(e){return c.a.createElement(ve,{userData:{userId:a,token:r},updateFeed:t,allFeed:n,props:Object(w.a)({},e)})}}),c.a.createElement(v.b,{path:"".concat(s,"/gifs/:gifId"),render:function(e){return c.a.createElement(ve,{userData:{userId:a,token:r},updateFeed:t,allFeed:n,props:Object(w.a)({},e)})}}))})))))},ye=function(e){var t="https://res.cloudinary.com/dx5lp5drd/image/upload/v1574682959/businessman-310819_640_guvqva.png",a="https://res.cloudinary.com/dx5lp5drd/image/upload/v1574682959/user-310807_640_wgamok.png";return e=JSON.parse(JSON.stringify(e)).map((function(e){console.log(e);var n=e.photoDetails,c=e.gender;return null===n&&(e.photoDetails="male"===c?[t,null]:[a,null]),e}))},je=function(e){var t=Object(n.useContext)(J),a=t.users,r=t.addUser,s=e.match.path,o=e.updateAccount,l=e.userData.data,i=l.userId,m=l.token,d=l.photoDetails,u=l.interests;return Object(n.useEffect)((function(){a.length<=0&&Object(k.getData)("".concat(k.apiKey,"/auth/users"),i,m).then((function(e){var t=e.data;t=ye(t),r(t)})).catch((function(e){console.log(e)}))})),c.a.createElement(E.a,null,c.a.createElement("section",{className:"page-section d-flex"},c.a.createElement(B,{path:s,userData:{photoDetails:d,interests:u},updateAccount:o}),c.a.createElement(v.b,{path:s,component:Ne}),c.a.createElement(V,{userId:i})))},Oe=(a(83),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).renderNavLink=function(e,t){return"admin"===e?"/admin"===t?c.a.createElement(E.b,{to:{pathname:"/user/dashboard"}},c.a.createElement("li",{className:"cursor-pointer margin-right-md"},c.a.createElement("i",{className:"fas fa-newspaper font-lg"}))):c.a.createElement(E.b,{to:{pathname:"/admin/dashboard"}},c.a.createElement("li",{className:"cursor-pointer margin-right-md"},c.a.createElement("i",{className:"fas fa-user-shield font-lg"}))):null},a.checkPath=function(e){switch(console.log(e),e){case"/admin":case"/user/profile":case"/user/:username":return!1;default:return!0}},a.state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=document.querySelector(".top--navbar");window.addEventListener("scroll",(function(){window.scrollY>0?e.classList.add("sticky_nav"):e.classList.remove("sticky_nav")}))}},{key:"componentWillUnmount",value:function(){var e=document.querySelector(".top--navbar");window.removeEventListener("scroll",(function(){window.scrollY>0?e.classList.add("sticky_nav"):e.classList.remove("sticky_nav")}))}},{key:"render",value:function(){console.log(this.props);var e=this.context.data,t=e.accountType,a=e.photoDetails,n=this.props.match.path;return c.a.createElement("header",null,c.a.createElement(E.b,{to:"/",className:"cursor-pointer"},c.a.createElement("div",{className:"bckgr-white padding-left-sm color2 favicon"},c.a.createElement("div",{className:"d-inline-block"},c.a.createElement("span",{className:"paint-text italic font-sm"},"T"),c.a.createElement("span",{className:"font-xsm"},"eam"),c.a.createElement("span",{className:"paint-text italic font-sm"},"W"),c.a.createElement("span",{className:"font-xsm"},"ork")))),c.a.createElement("nav",{className:"top--navbar d-flex nowrap align-items--center justify-content--s-between position-relative"},this.checkPath(n)?c.a.createElement("i",{className:"fas fa-bars color2 mobile font-md",onClick:function(e){return G(e)}}):null,"/admin"===n?null:c.a.createElement("div",{className:"search-box d-flex align-items--center nowrap"},c.a.createElement("input",{type:"search",placeholder:"Search by category",className:"font-sm text-align-center font-weight-bold search"}),c.a.createElement("div",{className:"search-btn d-flex nowrap align-items--center justify-content--center cursor-pointer"},c.a.createElement("i",{className:"fas fa-search font-md"}))),c.a.createElement("ul",{className:"d-flex nowrap align-items--center"},this.renderNavLink(t,n),c.a.createElement("li",{className:"cursor-pointer margin-right-md"},c.a.createElement(E.b,{to:"/user/profile"},c.a.createElement("div",{className:"avatar--sm"},c.a.createElement("img",{className:"",src:a[0],alt:"your avatar"})))),"/admin"!==n?c.a.createElement("i",{className:"fas fa-users color2 mobile font-md",onClick:function(e){return W(e)}}):null)))}}]),t}(n.Component));Oe.contextType=C;var xe=Oe,ke=function(e){var t=Object(n.useState)([]),a=Object(x.a)(t,2),r=a[0],s=a[1],o=e.match,l=o.path,m=o.url,d=Object(n.useContext)(C).data,u=d.firstName,p=d.lastName,f=d.photoDetails,g=d.department,h=d.jobRole,b=d.gender,N=d.address,y=d.userId,j=d.token,O={userId:y,token:j};return Object(n.useEffect)((function(){Object(i.trackPromise)(Object(k.getData)("".concat(k.apiKey,"/feed/").concat(y),y,j).then((function(e){var t=e.data,a=t.content,n=t.comments,c=t.flags,r=Object(H.a)(le(a,n,c));s(Object(H.a)(r))})).catch((function(e){return console.log(e)})))}),[j,y]),c.a.createElement(n.Fragment,null,c.a.createElement(v.b,{path:l,component:xe}),c.a.createElement("div",{className:"d-flex"},c.a.createElement("div",{className:"profileDetails main margin-right-md"},c.a.createElement("div",{className:"profileHeader bckgr-white padding-left-lg padding-right-lg padding-md margin-right-sm margin-left-sm position-relative"},c.a.createElement(E.b,{to:"".concat(m,"/edit#profile-pictire_username"),className:"position-relative",style:{position:"absolute",top:"25px",right:"30px"}},c.a.createElement("i",{className:"fas fa-pen font-lg color2 tooltip margin-bottom-sm cursor-pointer"}),c.a.createElement("div",{className:"view tooltip-text color-white bckgr-color2"},"Update avatar / username")),c.a.createElement("div",{className:"padding-md d-flex justify-content--s-between align-items--center"},c.a.createElement("div",{className:"avatar--lg cursor-pointer margin-bottom-sm"},c.a.createElement("img",{src:f[0],alt:"user avatar"})),c.a.createElement("div",{className:"align-self-end"},c.a.createElement("div",{className:"font-lg font-weight-bold",style:{lineHeight:"30px"}},"".concat(u," ").concat(p)),c.a.createElement("span",{className:"gray-color"},"@",h)))),c.a.createElement("div",{className:"padding-md d-flex justify-content--s-between details"},c.a.createElement("div",{className:"about-section bckgr-white margin-bottom-sm padding-md padding-left-md"},c.a.createElement("ul",{className:"user_info"},c.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},c.a.createElement("i",{className:"far fa-building font-md color2 margin-right-sm"}),c.a.createElement("span",{className:"font-sm font-weight-600 "}," ",g)),c.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},c.a.createElement("i",{className:"fas fa-briefcase font-md color2 margin-right-sm"}),c.a.createElement("span",{className:"font-sm font-weight-600 "}," ",h)),c.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},c.a.createElement("i",{className:"fas fa-user color2 font-md padding-right-sm"}),c.a.createElement("span",{className:"font-sm font-weight-600 "}," ",b)),c.a.createElement("li",{className:"margin-bottom-md d-flex nowrap align-items-end"},c.a.createElement("i",{className:"fas fa-map-marker-alt color2 font-md padding-right-sm"}),c.a.createElement("div",{className:"d-flex column"},c.a.createElement("span",{className:"font-sm font-weight-600 text-content"}," ",N)))),c.a.createElement(E.b,{to:"".concat(m,"/edit#about-info"),eventname:"Edit About info",className:"bckgr-color2 d-inline-block padding-sm color-white font-sm border-r-10 cursor-pointer"},c.a.createElement("i",{className:"fas fa-pen font-sm margin-right-sm"}),"Edit About Info")),c.a.createElement("div",{className:"user-posts"},de(r,O)))),c.a.createElement(V,null)))},we=a(21),Ce=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).handleUserInput=function(e){e.preventDefault();var t=e.target,n=t.name,c=t.value;"file"!==n?a.setState(Object(we.a)({},n,c),(function(){console.log(a.state)})):a.setState({fileURL:URL.createObjectURL(e.target.files[0]),file:e.target.files[0]})},a.updateAvatar=function(e){e.preventDefault();var t=a.props,n=t.users,c=t.addUser,r=t.updateAccount,s=t.userData,o=t.userData,l=o.userId,m=o.token,d=t.history.push,u=a.state.file,p=new FormData;p.append("files",u),p.append("userId",l),e.target.value="Publishing...",Object(i.trackPromise)(Object(k.modifyData)("".concat(k.apiKey,"/auth/users/").concat(l),p,m,!0).then((function(e){var t=e.data.photoDetails;console.log(e),s.photoDetails=t,r(s),n=n.map((function(e){return e.employeeId===l&&(e.photoDetails=t),e})),c(n),d("/user/profile")})).catch((function(e){console.log(e)})))},a.userData=a.props.userData,a.state={email:a.userData.email,address:a.userData.address,gender:a.userData.gender,file:null,fileURL:a.userData.photoDetails[0]},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"linear-grad-bckgr d-flex justify-content--center align-items--center"},c.a.createElement("main",{className:"padding-lg"},c.a.createElement("div",{className:"wrapper d-flex"},c.a.createElement("aside",{className:"bckgr-white padding-lg margin-right-md margin-bottom-md"},c.a.createElement("section",{className:"",id:"profile-pictire_username"},c.a.createElement("h2",{className:"font-lg margin-bottom-md"},"Change Profile Picture"),c.a.createElement("form",{className:"form",encType:"multipart/form-data"},c.a.createElement("div",{className:"file_display padding-bottom-sm",style:{width:"200px",height:"auto",display:"".concat(null===this.state.fileURL?"none":"inline-block")}},c.a.createElement("img",{src:this.state.fileURL,alt:"",style:{width:"100%",height:"auto"}})),c.a.createElement("div",{className:"padding-bottom-md"},c.a.createElement("label",{className:"btn--file d-inline-block"},c.a.createElement("div",{className:"upload--icon"},c.a.createElement("i",{className:"far fa-image font-md d-inline-block"}),c.a.createElement("span",{className:"padding-left-sm font-sm"},"Upload")),c.a.createElement("input",{type:"file",name:"file",multiple:!1,onChange:function(t){return e.handleUserInput(t)}})),c.a.createElement("span",{className:"error-msg italic padding-sm"})),c.a.createElement("input",{onClick:function(t){return e.updateAvatar(t)},type:"submit",value:"Update",className:"submit--btn"})))),c.a.createElement("div",{className:"bckgr-white",id:"about-info"},c.a.createElement("section",{className:"padding-lg"},c.a.createElement("h2",{className:"font-lg margin-bottom-md"},"Update your info"),c.a.createElement("form",{className:"form",method:"POST",style:{width:"450px"}},c.a.createElement("label",null," Email",c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"email",name:"email",placeholder:"enter new email",className:"form-control",value:this.state.email})),c.a.createElement("div",{className:"padding-bottom-sm padding-top-sm"},c.a.createElement("h4",{className:"heading md padding-bottom-sm"},"Gender"),c.a.createElement("label",{className:"check radio position-relative padding-left-md margin-bottom-sm cursor-pointer font-md padding-bottom-xsm "}," ",c.a.createElement("span",null,"male"),c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"radio",value:"male",name:"gender",className:"form-control",id:"web_dev"}),c.a.createElement("span",{className:"checkmark border-r-circle"})),c.a.createElement("label",{className:"check radio position-relative padding-left-md margin-bottom-sm cursor-pointer font-md "},"female",c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"radio",value:"female",name:"gender",className:"form-control",id:"female"}),c.a.createElement("span",{className:"checkmark border-r-circle"}))),c.a.createElement("label",null," Address",c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"text",name:"address",placeholder:"Enter Address",className:"form-control",value:this.state.address})),c.a.createElement("input",{onClick:function(t){return e.handleSubmit(t)},type:"submit",value:"Create User",className:"submit--btn"})))))))}}]),t}(n.Component),Ie=Object(v.g)(Ce),De=function(e){var t=e.match,a=t.params.username,r=t.path,s=e.userData,o=s.userId,l=s.token,m=Object(n.useState)([]),d=Object(x.a)(m,2),u=d[0],p=d[1],f=function(e){var t=Object(n.useContext)(J).users,a=e.split("_"),c=a[0],r=a[1],s=t.find((function(e){return e.firstName===c&&e.lastName===r})),o=s.photoDetails,l=s.department,i=s.jobRole,m=s.gender,d=s.interests,u=s.address,p=s.employeeId;return{firstName:c,lastName:r,photoDetails:o,department:l,jobRole:i,gender:m,interests:d,address:u,employeeId:p}}(a),g=f.firstName,h=f.lastName,b=f.photoDetails,E=f.department,N=f.jobRole,y=f.gender,j=f.address,O=f.employeeId,w=Object(n.useCallback)((function(){Object(i.trackPromise)(Object(k.getData)("".concat(k.apiKey,"/feed/").concat(O),o,l).then((function(e){var t=e.data,a=t.content,n=t.comments,c=t.flags,r=Object(H.a)(le(a,n,c));console.log(r),p(r)})).catch((function(e){return console.log(e)})))}),[O,l,o]);return Object(n.useEffect)((function(){w()}),[w]),c.a.createElement(n.Fragment,null,c.a.createElement(v.b,{path:r,component:xe}),c.a.createElement("div",{className:"d-flex"},c.a.createElement("div",{className:"profileDetails main"},c.a.createElement("div",{className:"profileHeader bckgr-white padding-left-lg padding-right-lg padding-md margin-right-sm position-relative"},c.a.createElement("div",{className:"padding-md d-flex justify-content--s-between align-items--center"},c.a.createElement("div",{className:"avatar--lg cursor-pointer"},c.a.createElement("img",{src:b[0],alt:"user avatar"})),c.a.createElement("div",{className:"align-self-end"},c.a.createElement("div",{className:"font-lg font-weight-bold",style:{lineHeight:"30px"}},"".concat(g," ").concat(h)),c.a.createElement("span",{className:"gray-color"},"@",N)))),c.a.createElement("div",{className:"padding-md d-flex justify-content--s-between details"},c.a.createElement("div",{className:"about-section bckgr-white margin-bottom-sm padding-md padding-left-md"},c.a.createElement("ul",{className:"user_info"},c.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},c.a.createElement("i",{className:"far fa-building font-md color2 margin-right-sm"}),c.a.createElement("span",{className:"font-sm font-weight-600 "}," ",E)),c.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},c.a.createElement("i",{className:"fas fa-briefcase font-md color2 margin-right-sm"}),c.a.createElement("span",{className:"font-sm font-weight-600 "}," ",N)),c.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},c.a.createElement("i",{className:"fas fa-user color2 font-md padding-right-sm"}),c.a.createElement("span",{className:"font-sm font-weight-600 "}," ",y)),c.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},c.a.createElement("i",{className:"fas fa-map-marker-alt color2 font-md padding-right-sm"}),c.a.createElement("span",{className:"font-sm font-weight-600 "}," ",j)))),c.a.createElement("div",{className:"user-posts"},de(u,e.userData)))),c.a.createElement(V,null)))},Se=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){this._isMounted=!0;var e=this.props,t=e.users,a=e.addUser,n=e.history.push,c=e.match.path;if(console.log(this.props),0===t.length){var r=this.context.data,s=r.userId,o=r.token;Object(k.getData)("".concat(k.apiKey,"/auth/users"),s,o).then((function(e){var t=e.data;t=ye(t),a(t),n("".concat(c,"/dashboard"))})).catch((function(e){console.log(e)}))}}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.context,t=e.updateAccount,a=e.data,n=e.data,r=n.userId,s=n.token,o=this.props,l=o.match,i=o.users,m=o.addUser;return c.a.createElement(c.a.Fragment,null,c.a.createElement($,null,c.a.createElement(E.a,null,c.a.createElement(v.b,{path:"".concat(l.path,"/dashboard"),component:xe}),c.a.createElement(v.d,null,c.a.createElement(v.b,{exact:!0,path:"".concat(l.path,"/profile/edit"),render:function(e){return c.a.createElement(Ie,Object.assign({updateAccount:t,userData:a,users:i,addUser:m},e))}}),c.a.createElement(v.b,{exact:!0,path:"".concat(l.path,"/profile"),render:function(e){return c.a.createElement(ke,Object.assign({updateAccount:t,userData:a},e))}}),c.a.createElement(v.b,{path:"".concat(l.path,"/dashboard"),render:function(e){return c.a.createElement(je,Object.assign({userData:{data:a},updateAccount:t},e))}}),c.a.createElement(v.b,{exact:!0,path:"".concat(l.path,"/:username"),render:function(e){return c.a.createElement(De,Object.assign({key:e.match.params.username,userData:{userId:r,token:s}},e))}})))))}}]),t}(n.Component);Se.contextType=C;var Fe=Object(v.g)(Se),Me=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).handleUserInput=function(e){e.preventDefault();var t=e.target;a.setState(Object(we.a)({},t.name,t.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.context.data,n=t.token,c=t.userId,r=Object(w.a)({},a.state,{userId:parseInt(c,10)});console.log(r),Object(i.trackPromise)(Object(k.sendData)("".concat(k.apiKey,"/auth/create-user"),r,n).then((function(e){console.log(e)})).catch((function(e){console.log(e)})))},a.state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state),c.a.createElement("form",{className:"form",method:"POST"},c.a.createElement("label",null," First Name",c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"text",name:"firstName",placeholder:"Enter Firstname",className:"form-control"})),c.a.createElement("label",null," Last Name",c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"text",name:"lastName",placeholder:"Enter Lastname",className:"form-control"})),c.a.createElement("label",null," Email",c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"email",name:"email",placeholder:"Enter employee's email",className:"form-control"})),c.a.createElement("label",null," Password",c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"password",name:"password",placeholder:"Create employee's password",className:"form-control"})),c.a.createElement("div",{className:"padding-bottom-sm padding-top-sm"},c.a.createElement("h4",{className:"heading md padding-bottom-sm"},"Gender"),c.a.createElement("label",{className:"check radio position-relative padding-left-md margin-bottom-sm cursor-pointer font-md padding-bottom-xsm "}," ",c.a.createElement("span",null,"male"),c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"radio",value:"male",name:"gender",className:"form-control",id:"web_dev"}),c.a.createElement("span",{className:"checkmark border-r-circle"})),c.a.createElement("label",{className:"check radio position-relative padding-left-md margin-bottom-sm cursor-pointer font-md "},"female",c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"radio",value:"female",name:"gender",className:"form-control",id:"female"}),c.a.createElement("span",{className:"checkmark border-r-circle"}))),c.a.createElement("label",null," Job Role",c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"text",name:"jobRole",placeholder:"Job Role (e.x Frontend Web Developer)",className:"form-control"})),c.a.createElement("label",null," Department",c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"text",name:"department",placeholder:"Employee's department",className:"form-control"})),c.a.createElement("label",null," Address",c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"text",name:"address",placeholder:"Enter Address",className:"form-control"})),c.a.createElement("div",{className:"padding-bottom-sm padding-top-sm"},c.a.createElement("h4",{className:"heading md padding-bottom-xsm"},"Account type"),c.a.createElement("label",{className:"check radio position-relative padding-left-md margin-bottom-sm cursor-pointer font-md padding-bottom-xsm"},c.a.createElement("span",null,"Admin"),c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"radio",value:"admin",name:"accountType",className:"form-control"}),c.a.createElement("span",{className:"checkmark border-r-circle"})),c.a.createElement("label",{className:"check radio position-relative padding-left-md margin-bottom-sm cursor-pointer font-md"},"Regular",c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"radio",value:"regular",name:"accountType",className:"form-control"}),c.a.createElement("span",{className:"checkmark border-r-circle"}))),c.a.createElement("input",{onClick:function(t){return e.handleSubmit(t)},type:"submit",value:"Create User",className:"submit--btn"}))}}]),t}(n.Component);Me.contextType=C;var Ue=Me,Ae=(a(33),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).toggleModal=function(e){e.preventDefault();var t=e.target;console.log(t);var n=Object(H.a)(t.classList);console.log(n),n.includes("close")?a.setState({isModalOpen:!1}):a.setState({isModalOpen:!0}),console.log(a.state.isModalOpen)},a.addUser=a.props.addUser,a.users=a.props.users,a.state={isModalOpen:!1},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;this.props.match;return console.log(this.props.match),c.a.createElement("section",{className:"add-bckgr--img d-flex justify-content--center align-items--center",style:{width:"100%",height:"88vh",overflow:"hidden"}},c.a.createElement("div",{className:"d-flex justify-content--center align-items--center"},c.a.createElement("div",{className:"link-wrap--box",onClick:function(t){return e.toggleModal(t)}},c.a.createElement("div",{className:"box cursor-pointer overflow--h border-r-10 padding-md bckgr-white d-flex justify-content--center align-items--center"},c.a.createElement("div",{className:"text-align-center color-dark"},c.a.createElement("i",{className:"fas fa-user-plus icon margin-bottom-sm font-lg color2"}),c.a.createElement("div",{className:"font-sm font-weight-bold"},"Create User Account")))),c.a.createElement(E.b,{to:"/admin/employees",className:"link-wrap--box"},c.a.createElement("div",{className:"box cursor-pointer overflow--h border-r-10 padding-md bckgr-white d-flex justify-content--center align-items--center"},c.a.createElement("div",{className:"text-align-center color-dark"},c.a.createElement("i",{className:"fas fa-users icon margin-bottom-sm font-lg color2"}),c.a.createElement("div",{className:"font-sm font-weight-bold"},"All Employees"))))),c.a.createElement(P,{toggleModal:this.toggleModal,isModalOpen:this.state.isModalOpen,contentTitle:"Create Employee Account",contentBody:c.a.createElement(Ue,null)}))}}]),t}(n.Component)),Te=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e)))._isMounted=!1,a.state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e,t=this.context,a=t.users,n=t.addUser;return console.log(this.props.match),c.a.createElement("section",{className:"d-flex justify-content--center align-items--center",style:{width:"100%",height:"80vh"}},c.a.createElement("div",{className:"d-flex justify-content--center align-items--center ".concat((e="991.98px",window.matchMedia("(max-width:".concat(e,")")).matches?"padding-md":"padding-lg"))},a.map((function(e,t){return c.a.createElement(Le,{key:t,user:e,addUser:n})}))))}}]),t}(n.Component);Te.contextType=J;var Le=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.user,t=e.photoDetails,a=(e.employeeId,e.firstName),n=e.lastName;return c.a.createElement("div",{className:"link-wrap--box"},c.a.createElement("div",{className:"employee--box cursor-pointer border-r-10 overflow--h"},c.a.createElement("div",{className:"user-avatar position-relative"},c.a.createElement("img",{src:t[0],alt:"user avatar"}),c.a.createElement("div",{class:"action-btns d-flex nowrap"},c.a.createElement("i",{class:"fas fa-trash margin-right-sm font-md border-r-circle danger-text"}),c.a.createElement(E.b,{to:"/user/".concat(a,"_").concat(n)},c.a.createElement("i",{class:"fas fa-eye margin-right-sm font-md border-r-circle color-white"})))),c.a.createElement("div",{className:"padding-sm color-dark bckgr-white"},c.a.createElement("div",{className:"font-sm padding-sm font-weight-bold color-dark"},"".concat(a," ").concat(n)))))}}]),t}(n.Component),Pe=(n.Component,Te),_e=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){this._isMounted=!0;var e=this.props,t=e.users,a=e.addUser,n=e.history.push,c=e.match.path;if(console.log(this.props),0===t.length){var r=this.context.data,s=r.userId,o=r.token;Object(k.getData)("".concat(k.apiKey,"/auth/users"),s,o).then((function(e){var t=e.data;t=ye(t),a(t),n("".concat(c,"/dashboard"))})).catch((function(e){console.log(e)}))}}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.context.data,t=e.token,a=e.userId,n=this.props,r=n.match,s=n.users,o=n.addUser;return c.a.createElement(E.a,null,c.a.createElement(v.b,{path:"".concat(r.path),component:xe}),c.a.createElement(v.d,null,c.a.createElement(v.b,{exact:!0,path:"".concat(r.path,"/dashboard"),component:Ae}),c.a.createElement(v.b,{exact:!0,path:"".concat(r.path,"/employees"),render:function(e){return c.a.createElement(Pe,Object.assign({users:s,addUser:o,userData:{token:t,userId:a}},e))}})))}}]),t}(n.Component);_e.contextType=C;var Ke=Object(v.g)(_e),Re=a(42),Ge=function(e){var t=e.component,a=e.auth,r=e.path,s=Object(Re.a)(e,["component","auth","path"]),o=Object(n.useContext)(J),l=o.users,i=o.addUser,m=a();return c.a.createElement(v.b,Object.assign({path:r},s,{render:function(e){return m?c.a.createElement(t,Object.assign({users:l,addUser:i},e)):c.a.createElement(v.a,{to:{pathName:"/",state:{prevLocation:r,error:"UnAuthorized Access!"}}})}}))},We=function(){var e=Object(n.useContext)(C),t=e.isLoggedIn,a=e.data;return{isLoggedIn:t,userId:a.userId,token:a.token,accountType:a.accountType}},Be=function(){var e=We(),t=e.isLoggedIn,a=e.userId,n=e.token;return!!(t&&a&&n)},He=function(){var e=We(),t=e.accountType,a=e.isLoggedIn,n=e.userId,c=e.token;return!!(a&&n&&c&&"admin"===t)};N.a.add(j.a,y.a,O.a);var Je=function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return c.a.createElement(E.a,null,c.a.createElement(I,null,c.a.createElement(q,null,c.a.createElement(v.b,{path:"/",exact:!0,component:R}),c.a.createElement(v.d,null,c.a.createElement(Ge,{path:"/user",auth:Be,component:Fe}),c.a.createElement(Ge,{path:"/admin",auth:He,component:Ke})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.load({google:{families:["Pacifico","Ubuntu:400,700","Roboto"]}}),s.a.render(c.a.createElement("div",null,c.a.createElement(Je,null),c.a.createElement(u,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[43,1,2]]]);
//# sourceMappingURL=main.7f57eec2.chunk.js.map