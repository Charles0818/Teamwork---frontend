(this["webpackJsonpteamwork---frontend"]=this["webpackJsonpteamwork---frontend"]||[]).push([[0],{1:function(e,t){var a=function(e,t,a,n,c){return"GET"===e||"DELETE"===e?fetch(t,{method:e,mode:"cors",headers:{"Access-Control-Allow-Origin":"*",Authorization:n?"Bearer ".concat(n):""}}).then((function(e){return e.status>=400?e.json().then((function(e){throw e})):e.json()})):c?fetch(t,{method:e,mode:"cors",body:a,headers:{"Access-Control-Allow-Origin":"*",Authorization:n?"Bearer ".concat(n):""}}).then((function(e){return e.status>=400?e.json().then((function(e){throw e})):e.json()})):fetch(t,{method:e,mode:"cors",body:JSON.stringify(a),headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:n?"Bearer ".concat(n):""}}).then((function(e){return e.status>=400?e.json().then((function(e){throw e})):e.json()}))};t.apiKey="https://teamworkbycharles.herokuapp.com/api/v1",t.getData=function(e,t,n){return a("GET","".concat(e,"/").concat(t),null,n)},t.sendData=function(e,t,n,c){return a("POST",e,t,n,c)},t.modifyData=function(e,t,n,c){return a("PATCH",e,t,n,c)},t.deleteData=function(e,t,n){return a("DELETE","".concat(e,"/").concat(t),null,n)}},19:function(e,t,a){},25:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},44:function(e,t,a){e.exports=a(88)},73:function(e,t,a){},74:function(e,t,a){},78:function(e,t,a){},81:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(20),o=a.n(r),s=a(34),l=a.n(s),i=a(3),m=a(35),d=a.n(m),u=(a(73),Object(i.promiseTrackerHoc)((function(e){return e.promiseInProgress&&c.a.createElement("div",{className:"spinner"},c.a.createElement("div",{className:"loader"},c.a.createElement(d.a,{type:"ThreeDots",color:"#690483",height:100,width:100})))}))),f=(a(74),a(6)),p=a(7),g=a(9),h=a(8),b=a(10),E=a(2),v=a(17),N=a(36),y=a(41),j=a(40),x=a(42),k=(a(78),a(4)),w=a(37),O=a.n(w),C=a(16),I=Object(n.createContext)(),D=(I.Consumer,function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).updateAccount=function(e){a.setState(Object(C.a)({},e))},a.state={data:{userId:null,token:null,account_type:null,jobRole:null,department:null,gender:null},updateAccount:function(e){return a.updateAccount(e)}},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return console.log(this.state),c.a.createElement(I.Provider,{value:this.state},this.props.children)}}]),t}(c.a.Component)),S=function(){var e=Object(n.useContext)(I).updateAccount;return{logout:function(){localStorage.removeItem("jwtToken");e({isLoggedIn:!1})}}},U=function(){var e=Object(n.useContext)(I),t=e.isLoggedIn,a=e.data;return{isLoggedIn:t,userId:a.userId,token:a.token,accountType:a.accountType}},M=function(){var e=U(),t=e.isLoggedIn,a=e.userId,n=e.token;return!!(t&&a&&n)},A=function(){var e=U(),t=e.accountType,a=e.isLoggedIn,n=e.userId,c=e.token;return!!(a&&n&&c&&"admin"===t)},T=function(e){return e<Date.now()/1e3?"expired":"isValid"},F=a(1),P=function(e){var t=Object(n.useState)(e||""),a=Object(k.a)(t,2),c=a[0],r=a[1];return{state:c,onChange:function(e){var t=e.target.value;r(t)},handleFile:function(e){r(e)},resetValue:function(){return r("")}}},L=(a(81),document.querySelector("#modal")),_=function(e){var t=Object(n.useState)(!1),a=Object(k.a)(t,2),r=a[0],o=a[1];Object(n.useEffect)((function(){return o(!0)}),[]);var s=e.status;return c.a.createElement("div",{className:"d-flex justify-content--center httpStatus\n      ".concat(r?"active":""," padding-lg border-r-10 bckgr-white\n      ").concat("success"===s?"success-text":"danger-text")},c.a.createElement("div",{className:"d-flex align-self-end ".concat("success"===s?"success-text":"danger-text")},c.a.createElement("i",{className:"fas fa-check font-lg margin-right-md ".concat("success"===s?"success-text":"danger-text")}),c.a.createElement("span",{className:"font-lg ".concat("success"===s?"success-text":"danger-text")},e.message)))},K=function(e){Object(n.useEffect)((function(){L.appendChild(t);var e=setTimeout((function(){L.removeChild(t)}),3e3);return function(){return clearTimeout(e)}}));var t=document.createElement("div");return t.classList.add("modal--wrapper"),Object(r.createPortal)(c.a.createElement(_,e),t)},R=function(){var e=Object(n.useState)({show:!1,message:"",status:""}),t=Object(k.a)(e,2),a=t[0],r=t[1];return{ajaxStatus:a,updateAjaxStatus:function(e){var t=e.show,a=e.message,n=e.status;r({show:t,message:a,status:n});var c=setTimeout((function(){r({show:!1,message:"",status:""})}),3500);return function(){return clearTimeout(c)}},HttpStatusComponent:a.show&&c.a.createElement(K,{status:a.status,message:a.message})}},H=(a(19),Object(v.g)((function(e){var t=e.history,a=e.closeModal,r=P(),o=r.state,s=r.onChange,l=P(),m=l.state,d=l.onChange,u=R(),f=u.updateAjaxStatus,p=u.HttpStatusComponent,g=Object(n.useContext)(I).updateAccount,h=Object(n.useState)(""),b=Object(k.a)(h,2),E=b[0],v=b[1];return c.a.createElement(n.Fragment,null,c.a.createElement("form",{className:"form",method:"POST"},c.a.createElement("label",null," Email",c.a.createElement("input",{type:"email",name:"email",placeholder:"Enter your email",className:"form-control",value:o,onChange:function(e){return s(e)}})),c.a.createElement("label",null," Password",c.a.createElement("input",{type:"password",name:"password",placeholder:"Enter Password",className:"form-control",value:m,onChange:function(e){return d(e)}})),c.a.createElement("span",{className:"d-block italic danger-text font-sm padding-bottom-sm font-weight-bold"},E),c.a.createElement("input",{onClick:function(e){return function(e){e.preventDefault();var n={email:o,password:m};Object(i.trackPromise)(Object(F.sendData)("".concat(F.apiKey,"/auth/signin"),n).then((function(e){var n=e.data,c={isLoggedIn:!0,data:n};localStorage.setItem("jwtToken",n.token),console.log(n),g(c),a(),"admin"===n.accountType?t.push("/admin"):t.push("/user")})).catch((function(e){if(e.status)v("Incorrect email or password");else{f({show:!0,message:"Unable to connect to database, check your internet connection",status:"failure"})}})))}(e)},type:"submit",value:"Sign in",className:"submit--btn"})),p)}))),W=(a(84),a(85),document.querySelector("#modal")),B=function(e){var t=e.isModalOpen,a=e.closeModal;return c.a.createElement("div",{className:t?"modalRoot":""},c.a.createElement("div",{className:"modal--box ".concat(t?"active":"")},c.a.createElement("div",{className:"d-flex justify-content--s-between position-relative"},c.a.createElement("div",{className:"modal-content--btn"},e.contentBtn?e.contentBtn:null),c.a.createElement("i",{className:"fas fa-times close font-md",onClick:a})),c.a.createElement("div",{className:"content-wrapper"},c.a.createElement("h4",{className:"modal--heading"},e.contentTitle),e.contentBody)))},G=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).state={},a.modalDiv=document.createElement("div"),a.modalDiv.classList.add("modal--wrapper"),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){W.appendChild(this.modalDiv)}},{key:"componentWillUnmount",value:function(){W.removeChild(this.modalDiv)}},{key:"render",value:function(){return Object(r.createPortal)(c.a.createElement(B,this.props),this.modalDiv)}}]),t}(n.Component),V=function(e,t,a,n,r){return c.a.createElement(G,{closeModal:t,isModalOpen:e,contentTitle:a,contentBody:c.a.createElement(n,Object.assign({closeModal:t},r))})},q=function(e,t,a){var c=Object(n.useState)(!1),r=Object(k.a)(c,2),o=r[0],s=r[1],l=function(){return s(!1)};return{closeModal:l,openModal:function(){return s(!0)},isModalOpen:o,ModalChild:V(o,l,e,t,a)}},J=function(e){var t="https://res.cloudinary.com/dx5lp5drd/image/upload/v1574682959/businessman-310819_640_guvqva.png",a="https://res.cloudinary.com/dx5lp5drd/image/upload/v1574682959/user-310807_640_wgamok.png",n=e.photoDetails,c=e.gender;return console.log(n,c),console.log(e),null===n&&(e.photoDetails="male"===c?[t,null]:[a,null]),e},z=Object(v.g)((function(e){var t=e.history.push,a=Object(n.useState)(!1),r=Object(k.a)(a,2),o=r[0],s=r[1],l=Object(n.useContext)(I).updateAccount,m=S().logout,d=q("Sign in",H),u=d.openModal,f=d.ModalChild;return Object(n.useEffect)((function(){var e=function(){if(!localStorage.jwtToken)return{state:"not found"};var e=localStorage.getItem("jwtToken"),t=O()(e),a=t.userId,n=t.exp;return console.log(t),{state:T(n),token:e,userId:a}}(),a=e.state,n=e.userId,c=e.token;console.log(a),function(e){var t=e.state,a=e.userId,n=e.token,c=e.push,r=e.openModal,o=e.setIsLoading,s=e.updateAccount,l=e.logout;switch(t){case"expired":l(),o(!1),r();break;case"not found":o(!1),r();break;case"isValid":o(!0),Object(i.trackPromise)(Object(F.getData)("".concat(F.apiKey,"/auth/users/user"),a,n).then((function(e){var t=e.data;t.token=n;var a={isLoggedIn:!0,data:t=J(t)};console.log(t),s(a),"admin"===t.accountType?c("/admin"):c("/user")})).catch((function(e){e.status;var t=e.error;console.log(t)})))}}({state:a,userId:n,token:c,push:t,openModal:u,setIsLoading:s,updateAccount:l,logout:m})}),[s]),o?null:c.a.createElement("header",{className:"landingPage-header page-padding"},c.a.createElement("nav",{className:"padding-top-sm d-flex align-items--center justify-content--s-between"},c.a.createElement(E.b,{to:"/"},c.a.createElement("div",{className:"favicon color-white"},c.a.createElement("span",{className:"italic font-lg"},"T"),c.a.createElement("span",{className:"font-sm"},"eam"),c.a.createElement("span",{className:"italic font-lg"},"W"),c.a.createElement("span",{className:"font-sm"},"ork"))),c.a.createElement("div",{className:"d-inline-block btn",onClick:u},"Sign in")),c.a.createElement("div",{className:"d-flex align-items--center justify-content--s-between margin-top-lg"},c.a.createElement("div",{className:"desc color-white"},c.a.createElement("div",{className:"padding-bottom-md"},c.a.createElement("h1",{className:"font-xlg padding-bottom-md"},"Build a stronger team spirit with your co-workers."),c.a.createElement("p",{className:"font-md text-content"},"Teamwork is an internal social network specifically designed for companies to aid the communication strength among employees and the administrator.")),c.a.createElement("div",{className:"d-inline-block btn",onClick:u},"Sign in")),c.a.createElement("div",{className:"desc d-flex align-items--center"},c.a.createElement("img",{src:"https://res.cloudinary.com/dx5lp5drd/image/upload/v1574682959/avatar-2191932_1280-removebg-preview_wqs7ev.png",alt:"",style:{width:"100%",height:"auto"}}),c.a.createElement("div",{className:"bckgr-white border-r-10 padding-md",style:{width:"100%",height:"auto"}},c.a.createElement("p",{className:"font-md text-content color2 font-weight-600",style:{fontStyle:"italic"}},"Learn, share ideas... Collaborate with your team and build a stronger connectivity that will surely reveal the hidden success. Teamwork!!!")))),f)})),Y=function(e){return c.a.createElement("div",null)},$=function(){return c.a.createElement("div",null)},Q=(a(86),function(e){var t=e.match.path;return c.a.createElement(E.a,null,c.a.createElement(v.d,null,c.a.createElement(v.b,{exact:!0,path:"".concat(t,"/messages"),component:Y}),c.a.createElement(v.b,{exact:!0,path:"".concat(t,"/groups"),component:$})))}),X=(a(25),function(e){var t=e.target,a=document.querySelector(".aside.left");t.classList.contains("close")?a.classList.remove("show"):a.classList.add("show"),console.log(a.classList),console.log(t)}),Z=function(e){var t=e.target,a=document.querySelector(".aside.right");t.classList.contains("close")?a.classList.remove("show"):a.classList.add("show"),console.log(a.classList),console.log(t)},ee=function(e){var t=e.userData,a=t.photoDetails,n=t.interests,r=t.accountType,o=S().logout;return c.a.createElement("aside",{className:"aside left padding-top-sm"},c.a.createElement("div",{className:"position-relative"},c.a.createElement("i",{className:"fas fa-times close color-white font-sm cursor-pointer",onClick:function(e){return X(e)}})),c.a.createElement("div",{className:"padding-top-md"},c.a.createElement("div",{className:"about-user border-line--h d-flex justify-content--center column align-items--center padding-bottom-sm"},c.a.createElement(E.b,{to:"/user/profile",className:"user_avatar avatar--lg"},c.a.createElement("img",{src:a[0],alt:"user avatar"})),c.a.createElement("div",{className:"interests margin-top-md d-flex padding-md"},null!==n?n.map((function(e,t){return c.a.createElement("span",{key:t,className:"margin-right-sm margin-bottom-sm btn font-sm padding-sm"},e)})):null)),c.a.createElement("div",{className:"content-wrapper"},c.a.createElement("ul",{className:"margin-bottom-md"},"admin"===r?c.a.createElement(E.b,{to:"/admin/dashboard"},c.a.createElement("li",{className:"sidebar-link padding-bottom-md margin-bottom-sm cursor-pointer"},c.a.createElement("i",{className:"fas fa-cogs color-white padding-right-sm font-sm"}),c.a.createElement("span",{className:"sidebar--link-text font-sm"},"Admin Panel"))):null,c.a.createElement("li",{className:"sidebar-link padding-bottom-md margin-bottom-sm cursor-pointer"},c.a.createElement("i",{className:"fas fa-newspaper color-white padding-right-sm font-md"}),c.a.createElement("span",{className:"sidebar--link-text font-md"},"Dashboard")),c.a.createElement("li",{className:"sidebar-link padding-bottom-md margin-bottom-sm cursor-pointer cursor-pointer",onClick:o},c.a.createElement("i",{className:"fas fa-sign-out-alt color-white padding-right-sm font-sm"}),c.a.createElement("span",{className:"sidebar--link-text font-md"},"Log out"))))))},te=a(11),ae=Object(n.createContext)(),ne=(ae.Consumer,function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e)))._isMounted=!1,a.addUser=function(e){a.setState({users:Object(te.a)(e)})},a.state={users:[],addUser:function(e){return a.addUser(e)}},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return console.log(this.state),c.a.createElement(ae.Provider,{value:this.state},this.props.children)}}]),t}(c.a.Component)),ce=function(e){var t=e.userId,a=Object(n.useContext)(ae).users;return a=a.map((function(e){return{photoDetails:e.photoDetails,firstName:e.firstName,lastName:e.lastName,employeeId:e.employeeId}})),c.a.createElement("aside",{className:"aside right bckgr-white padding-top-md"},c.a.createElement("div",{className:"position-relative"},c.a.createElement("i",{className:"fas fa-times close font-sm cursor-pointer",onClick:function(e){return Z(e)}}),c.a.createElement("div",{className:"accordion"},c.a.createElement("div",{className:"accordion--btn d-flex justify-content--center"},c.a.createElement("span",{className:"font-md font-weight-600"},"All Colleagues")),c.a.createElement("div",{className:"content-wrapper"},c.a.createElement("ul",{className:"online--users"},a.map((function(e,a){var n=e.photoDetails,r=e.firstName,o=e.lastName,s=e.employeeId;return c.a.createElement(E.b,{to:"".concat(t===s?"/user/profile":"/user/".concat(r,"_").concat(o)),key:a},c.a.createElement("li",{className:"user d-flex align-items--center margin-bottom-md nowrap action",key:a},c.a.createElement("div",{className:"position-relative"},c.a.createElement("img",{className:"avatar--sm icon",src:n[0],alt:"poster avatar"}),c.a.createElement("span",{className:"online"})),c.a.createElement("span",{className:"font-sm username"},"".concat(r," ").concat(o," ").concat(t===s?"(You)":""))))})))))))},re=Object(n.createContext)(),oe=re.Consumer,se=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).updateFeed=function(e){a.setState({feed:Object(te.a)(e)})},a.state={feed:[],updateFeed:function(e){return a.updateFeed(e)}},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return console.log(this.state),c.a.createElement(re.Provider,{value:this.state},this.props.children)}}]),t}(c.a.Component),le=(a(32),function(e){var t=new Date(e),a=new Date,n=t.getDay(),c=a.getDay(),r=(a.getTime()-t.getTime())/864e5;switch(r){case 1===r&&c-n===1:return"yesterday at ".concat(de(t));case 0===r&&c===n:return"today at ".concat(de(t));case r>1:return"".concat(me(t));default:return"".concat(ie(t)," ").concat(t.getDate()," at ").concat(de(t))}}),ie=function(e){return["Jan","Feb","Mar","April","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]},me=function(e){return["Sun","Mon","Tues","Wed","Thur","Fri","Sat"][e.getDay()]},de=function(e){var t=e.getHours(),a=e.getMinutes(),n=t>=12?"pm":"am";return t=t%12?t%12:12,a=a<10?"0".concat(a):a,"".concat(t,":").concat(a," ").concat(n)},ue=function(e){var t=e.handleInput,a=e.value;return c.a.createElement("form",{className:"form d-flex position-relative",style:{width:"100%"}},c.a.createElement("textarea",{className:"textarea padding-md padding-bottom-lg padding-right-lg font-md margin-bottom-sm",onChange:function(e){return t(e)},name:"comment",value:a,placeholder:"Write Comment"}),e.button&&e.action?c.a.createElement("i",{className:"fas fa-paper-plane color2 font-lg",style:{position:"absolute",bottom:"20px",right:"25px"},onClick:function(t){return e.action(t)}}):null)};ue.defaultProps={button:!0};var fe=ue,pe=function(e){var t=Object(n.useState)("comment"),a=Object(k.a)(t,2),r=a[0],o=a[1],s=R(),l=s.updateAjaxStatus,m=s.HttpStatusComponent,d=e.feedId,u=e.feedType,f=e.users,p=e.userData,g=p.userId,h=p.token,b=e.comment,v=b.id,N=b.comment,y=b.userid,j=b.createdon,x=f.find((function(e){return e.employeeId===y})),w=x.photoDetails,O=x.firstName,C=x.lastName,I=x.employeeId,D=P(N),S=D.state,U=D.onChange,M=D.resetValue,A=Object(n.useState)([]),T=Object(k.a)(A,2),L=T[0],_=T[1],K=ye("delete").deleteComment,H=ye("edit").modifyComment,W=Object(n.useCallback)((function(){var e="article"===u?"articles":"gifs";Object(F.getData)("".concat(F.apiKey,"/").concat(e,"/").concat(d,"/comment/").concat(parseInt(v,10),"/flagStats"),g,h).then((function(e){var t=e.data.flagStats;_(t),console.log(t)})).catch((function(e){console.log(e)}))}),[d,u,v,h,g]);Object(n.useEffect)((function(){W()}),[W]);return c.a.createElement(n.Fragment,null,"comment"===r?c.a.createElement("article",{className:"margin-bottom-sm border-line--h"},I===parseInt(g,10)?c.a.createElement("div",{className:"d-flex",style:{justifyContent:"flex-end"}},c.a.createElement("div",{className:"padding-bottom-sm trigger-more-action cursor-pointer position-relative"},c.a.createElement("i",{className:"fas fa-ellipsis-h font-md font-weight-bold color-dark tooltip"}),c.a.createElement("div",{className:"more-option sm padding-md border-r-10"},c.a.createElement("div",{className:"d-flex align-items-end font-weight-bold margin-bottom-sm padding-sm padding-bottom-xsm",onClick:function(e){return function(e){e.preventDefault(),console.log(v),Object(i.trackPromise)(Object(F.deleteData)("".concat(F.apiKey,"/").concat(u,"s/").concat(d,"/comment/").concat(parseInt(v,10)),g,h).then((function(e){var t=e.status,a=e.message;l({show:!0,message:a,status:t}),K(d,v)})).catch((function(e){var t=e.status,a=e.error;l({show:!0,message:a.split(",")[0],status:t})})))}(e)}},c.a.createElement("i",{className:"fas fa-trash font-sm margin-right-sm"}),c.a.createElement("span",{className:"font-sm"},"Delete")),c.a.createElement("div",{className:"d-flex align-items-end font-weight-bold padding-sm padding-bottom-xsm",onClick:function(){return o("commentForm")}},c.a.createElement("i",{className:"fas fa-pen font-sm margin-right-sm"}),c.a.createElement("span",{className:"font-sm"},"Edit"))))):null,c.a.createElement("div",{className:"margin-bottom-sm"},c.a.createElement("div",{className:"d-flex justify-content--s-between align-items--center margin-bottom-sm"},c.a.createElement("div",{className:"poster--details"},c.a.createElement(E.b,{to:I===parseInt(g,10)?"/user/profile":"/user/".concat(O,"_").concat(C),style:{color:"#000"}},c.a.createElement("div",{className:"d-flex nowrap"},c.a.createElement("img",{className:"avatar--sm icon",src:w[0],alt:"poster avatar"}),c.a.createElement("div",{className:"d-flex column"},c.a.createElement("span",{className:"poster--username text-content font-weight-bold margin-bottom-xsm"},"".concat(O," ").concat(C)),c.a.createElement("div",{className:"margin-bottom-sm"},c.a.createElement("span",{className:"d-block font-sm gray-color"},j)))))),c.a.createElement("div",{className:"flag-stats "},c.a.createElement("i",{className:"fas fa-flag margin-right-sm cursor-pointer ".concat(xe(L,g)?"danger-text":""),onClick:function(e){return function(e){e.preventDefault();var t={isFlagged:!e.target.classList.contains("danger-text"),userId:g};Object(F.modifyData)("".concat(F.apiKey,"/").concat(u,"s/").concat(d,"/comment/").concat(parseInt(v,10),"/flag"),t,h).then((function(e){W()})).catch((function(e){console.log(e)}))}(e)}}),c.a.createElement("span",{className:"flag font-weight-bold font-sm padding-sm border-r-circle"},0===L.length?"":L.length)))),c.a.createElement("div",{className:"comment-content margin-bottom-sm"},c.a.createElement("div",{className:"text-content padding-bottom-sm"},c.a.createElement("p",null,N)))):c.a.createElement("div",{className:"d-flex column"},c.a.createElement(fe,{value:S,handleInput:U,button:!1}),c.a.createElement("div",{className:"d-flex align-self-end margin-top-sm"},c.a.createElement("button",{className:"border-r-5 padding-sm cursor-pointer font-sm margin-right-sm",onClick:function(){return o("comment")}},"Cancel"),c.a.createElement("button",{className:"border-r-5 padding-sm cursor-pointer font-sm bckgr-color2 color-white",onClick:function(e){return function(e){e.preventDefault(),console.log(v);var t={userId:g,comment:S};console.log(t),Object(i.trackPromise)(Object(F.modifyData)("".concat(F.apiKey,"/").concat(u,"s/").concat(d,"/comment/").concat(parseInt(v,10)),t,h).then((function(e){var t=e.status,a=e.data,n=a.message,c=a.commentDetails;console.log(c),H(d,v,c),M(),o("comment"),l({show:!0,message:n,status:t})})).catch((function(e){console.log(e);var t=e.status,a=e.error;l({show:!0,message:a.split(",")[0],status:t})})))}(e)}},"Update"))),m)},ge=function(e){var t=e.feedId,a=e.feedType,r=e.comments,o=e.users,s=P(),l=s.state,i=s.onChange,m=s.resetValue,d=R(),u=d.updateAjaxStatus,f=d.HttpStatusComponent,p=Object(n.useContext)(I).data,g=p.userId,h=p.token,b=ye("add").addComment;return c.a.createElement("div",{className:"comment--section"},r.map((function(e,n){return c.a.createElement(pe,{key:n,comment:e,feedId:t,feedType:a,users:o,userData:{userId:g,token:h}})})),c.a.createElement(fe,{handleInput:i,value:l,action:function(e){e.preventDefault();var n="article"===a?"articles":"gifs",c={comment:l,userId:parseInt(g,10)};Object(F.sendData)("".concat(F.apiKey,"/").concat(n,"/").concat(t,"/comment"),c,h).then((function(e){var a=e.status,n=e.data,c=n.commentDetails,r=n.message;b(t,c),m(),u({show:!0,message:r,status:a})})).catch((function(e){var t=e.error,a=e.status;console.log(e),u({show:!0,message:t.split(",")[0],status:a})}))}}),f)},he=function(e){var t=e.articleId,a=e.userData,r=a.userId,o=a.token,s=e.closeModal,l=Object(n.useContext)(re),m=l.feed,d=l.updateFeed,u=Object(n.useState)(e.category),f=u.category,p=u.setCategory,g=Object(n.useState)(!0),h=Object(k.a)(g,2),b=h[0],E=(h[1],P(e.title)),v=E.state,N=E.onChange,y=P(e.article),j=y.state,x=y.onChange,w=R(),O=w.updateAjaxStatus,C=w.HttpStatusComponent;return c.a.createElement(n.Fragment,null,c.a.createElement("form",{style:{width:"400px"},className:"form",method:"POST"},c.a.createElement("label",null," Title",c.a.createElement("input",{type:"text",name:"title",placeholder:"Enter title",className:"form-control",value:v,onChange:function(e){return N(e)}})),c.a.createElement("span",{className:"error-msg italic padding-sm"}),c.a.createElement("label",null," Category",c.a.createElement("input",{type:"text",name:"category",placeholder:"(Optional) separate every category with ','",className:"form-control",value:f,onChange:function(e){return function(e){var t=e.target.value;p(t.split(""))}(e)}})),c.a.createElement("span",{className:"error-msg italic padding-sm"}),c.a.createElement("label",null,"Content",c.a.createElement("textarea",{type:"text",name:"articleBody",placeholder:"What's happening?",className:"form-control textarea",value:j,onChange:function(e){return x(e)}})),c.a.createElement("span",{className:"error-msg italic padding-sm"}),c.a.createElement("button",{disabled:!b,className:"submit--btn ".concat(b?"":"isInvalid"),onClick:function(e){return function(e){e.preventDefault();var a={title:v,article:j,userId:parseInt(r,10),category:0===f.length?null:f};Object(i.trackPromise)(Object(F.modifyData)("".concat(F.apiKey,"/articles/").concat(t),a,o,!1).then((function(e){console.log(e.data);var a=e.status,n=e.data,c=n.message,r=n.title,o=n.article,l=n.category,i=m.map((function(e){return e.id===t&&(e.title=r,e.category=l,e.content=o),e}));d(i),O({show:!0,message:c,status:a}),s()})).catch((function(e){var t=e.status,a=e.error;O({show:!0,message:a.split(",")[0],status:t})})))}(e)}},"Update")),C)},be=function(e){var t=Object(n.useState)(e.feed.flagStat),a=Object(k.a)(t,2),r=a[0],o=a[1],s=Object(n.useContext)(ae).users,l=e.feed,m=l.id,d=l.type,u=l.content,f=l.title,p=l.category,g=l.userid,h=l.comments,b=l.createdon,v=e.allFeed,N=e.updateFeed,y=e.userData,j=y.userId,x=y.token,w=(s=s.map((function(e){return{employeeId:e.employeeId,photoDetails:e.photoDetails,firstName:e.firstName,lastName:e.lastName}}))).find((function(e){return e.employeeId===g})),O=w.photoDetails,C=w.firstName,I=w.lastName,D=w.employeeId,S={comments:h,feedId:m,users:s,feedType:d},U={title:f,article:u[0],category:p,articleId:m,userData:{userId:j,token:x}},M=q("Modify Article",he,U),A=M.openModal,T=M.ModalChild,P=q("View Comments",ge,S),L=P.openModal,_=P.ModalChild,K=function(e){e.preventDefault();var t={isFlagged:!e.target.classList.contains("danger-text"),userId:j};Object(F.modifyData)("".concat(F.apiKey,"/feed/").concat(m,"/flag"),t,x).then((function(){Object(F.getData)("".concat(F.apiKey,"/feed/").concat(m,"/flagStats"),j,x).then((function(e){var t=e.data.flagStats;o(t)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))};return c.a.createElement("article",{className:"story margin-bottom-md"},D===parseInt(j,10)?c.a.createElement("div",{className:"d-flex",style:{justifyContent:"flex-end"}},c.a.createElement("div",{className:"padding-bottom-sm trigger-more-action cursor-pointer position-relative"},c.a.createElement("i",{className:"fas fa-ellipsis-h font-md font-weight-bold color-dark tooltip"}),c.a.createElement("div",{className:"more-option padding-md border-r-10"},c.a.createElement("div",{className:"d-flex align-items-end font-weight-bold margin-bottom-sm padding-sm padding-bottom-xsm",onClick:function(e){return function(e){e.preventDefault();var t="article"===d?"articles/".concat(m):"gifs/".concat(m,"/").concat(u[1]);Object(i.trackPromise)(Object(F.deleteData)("".concat(F.apiKey,"/").concat(t),j,x).then((function(){var e=v.filter((function(e){return e.id!==m}));N(e)})).catch((function(e){return console.log(e)})))}(e)}},c.a.createElement("i",{className:"fas fa-trash font-sm margin-right-sm"}),c.a.createElement("span",{className:"font-sm"},"Delete ","article"===d?"article":"GIF")),"article"===d?c.a.createElement("div",{className:"d-flex align-items-end font-weight-bold padding-sm padding-bottom-xsm",onClick:A},c.a.createElement("i",{className:"fas fa-pen font-sm margin-right-sm"}),c.a.createElement("span",{className:"font-sm"},"Edit article")):null))):null,c.a.createElement("div",{className:"margin-bottom-sm"},c.a.createElement("div",{className:"d-flex justify-content--s-between margin-bottom-sm"},c.a.createElement("div",{className:"poster--details"},c.a.createElement(E.b,{to:D===parseInt(j,10)?"/user/profile":"/user/".concat(C,"_").concat(I),style:{color:"#000"}},c.a.createElement("div",{className:"d-flex nowrap"},c.a.createElement("img",{className:"avatar--sm icon",src:O[0],alt:"poster avatar"}),c.a.createElement("div",{className:"d-flex column"},c.a.createElement("span",{className:"poster--username text-content font-weight-bold margin-bottom-xsm"},"".concat(C," ").concat(I)),c.a.createElement("div",{className:"margin-bottom-sm"},c.a.createElement("span",{className:"d-block font-sm gray-color"},b)))))),c.a.createElement("div",{className:"flag-stats justify-self-end"},c.a.createElement("i",{className:"fas fa-flag margin-right-sm cursor-pointer ".concat(xe(r,j)?"danger-text":""),onClick:function(e){return K(e)}}),c.a.createElement("span",{className:"flag font-weight-bold font-sm padding-sm border-r-circle"},0===r.length?"":r.length)))),c.a.createElement("div",{className:"post-content margin-bottom-sm"},function(e,t,a,n){switch(e){case"article":return c.a.createElement("div",{className:"text-content padding-bottom-sm"},c.a.createElement("p",{className:"font-weight-bold font-md padding-bottom-sm"},n),c.a.createElement("p",{className:"font-sm",style:{overflowY:"hidden",maxHeight:"150px"}},a[0]),c.a.createElement(E.b,{to:"/user/dashboard/articles/".concat(t)},c.a.createElement("span",{className:"padding-sm paint-text font-weight-bold"},"...Read More")));case"gif":return c.a.createElement("div",{className:"padding-bottom-sm"},c.a.createElement("p",{className:"font-weight-bold font-sm padding-bottom-md"},n),c.a.createElement("div",{className:"d-flex justify-content--center align-items--center padding-bottom-md"},c.a.createElement("div",{className:"",style:{width:"70%",height:"150px",overflow:"hidden"}},c.a.createElement("img",{className:"",style:{width:"100%",height:"auto"},src:a[0],publicid:a[1],alt:"poster avatar"}))),c.a.createElement(E.b,{to:"/user/dashboard/gifs/".concat(t)},c.a.createElement("span",{className:"padding-md paint-text font-weight-bold"},"...View full size")))}}(d,m,u,f)),c.a.createElement("div",{className:"category"},p.map((function(e,t){return c.a.createElement("span",{key:t,className:"border-r-10 text-content italic font-sm bckgr-color2 color-white padding-sm margin-right-sm margin-bottom-sm"},e)}))),c.a.createElement("div",{className:"comment--flag--section padding-top-sm"},c.a.createElement("div",{className:"stats d-flex justify-content--s-between align-items--center margin-bottom-sm\r padding-bottom-sm"},c.a.createElement("div",{className:"comment-stats font-weight-bold cursor-pointer"},c.a.createElement("i",{className:"fas fa-comments margin-right-sm paint-text"}),c.a.createElement("span",{className:"value comment font-sm icon"},h.length)),c.a.createElement("div",{className:"action padding-sm",id:"add--comment",style:{border:"1px solid #a0a0a0",borderRadius:"10px",justifySelf:"flex-end"},onClick:L},c.a.createElement("i",{className:"fas fa-comment icon color2"}),c.a.createElement("span",{className:"font-weight-bold"},"Comment")))),T,_)},Ee=function(e){return c.a.createElement("div",{className:"d-flex justify-content--center align-items--center"},c.a.createElement("span",{className:"font-lg gray-color font-weight-600"},e))},ve=function(e,t,a){var n=t.map((function(e){return e.createdon=le(e.createdon),e.id=parseInt(e.id,10),e}));return e.map((function(e){var t=n.filter((function(t){return t.contentid===parseInt(e.id,10)}));console.log(t);var c=a.filter((function(t){return t.contentid===e.id})),r=e.createdon;return e.comments=t,e.createdon=le(r),e.id=parseInt(e.id,10),e.flagStat=c,e}))},Ne=function(e){return e.createdon=le(e.createdon),e.id=parseInt(e.id,10),e.comments=[],e.flagStats=[],e},ye=function(e){var t=Object(n.useContext)(re),a=t.feed,c=t.updateFeed;switch(e){case"add":return{addComment:function(e,t){console.log(t),t.createdon=le(t.createdon);var n=a.map((function(a){return a.id===e&&(a.comments=[].concat(Object(te.a)(a.comments),[t])),a}));c(n)}};case"delete":return{deleteComment:function(e,t){var n=a.map((function(a){return a.id===e&&(a.comments=a.comments.filter((function(e){return e.id!==t}))),a}));c(n)}};case"edit":return{modifyComment:function(e,t,n){console.log(n),t=parseInt(t,10);var r=a.map((function(a){return a.id===e&&(a.comments=a.comments.map((function(e){return e.id===t&&(n.createdon=le(n.createdon),n.id=parseInt(n.id,10),e=n),e}))),a}));c(r)}}}},je=function(e,t){var a=t.userId,n=t.token;return 0!==e.length?e.map((function(e,t){return c.a.createElement(be,{key:t,feed:e,userData:{userId:a,token:n}})})):Ee("No Content")},xe=function(e,t){return e.find((function(e){return parseInt(e.userid,10)===t}))},ke=function(e){var t=e.userData,a=t.userId,r=t.token,o=e.closeModal,s=Object(n.useContext)(re),l=s.feed,m=s.updateFeed,d=P(),u=d.state,f=d.onChange,p=P(),g=p.state,h=p.onChange,b=p.resetValue,E=P(),v=E.state,N=E.onChange,y=R(),j=y.updateAjaxStatus,x=y.HttpStatusComponent,k=function(e){return 0===(e=e.split(",")).length?null:e};return c.a.createElement(n.Fragment,null,c.a.createElement("form",{style:{width:"400px"},className:"form",method:"POST"},c.a.createElement("label",null," Title",c.a.createElement("input",{type:"text",name:"title",placeholder:"Enter title",className:"form-control",value:u,onChange:function(e){return f(e)}})),c.a.createElement("span",{className:"error-msg italic padding-sm"}),c.a.createElement("label",null," Category",c.a.createElement("input",{type:"text",name:"category",placeholder:"(Optional) separate every category with ','",className:"form-control",value:v,onChange:function(e){return N(e)}})),c.a.createElement("span",{className:"error-msg italic padding-sm"}),c.a.createElement("label",null,"Content",c.a.createElement("textarea",{type:"text",name:"articleBody",placeholder:"What's happening?",className:"form-control textarea",value:g,onChange:function(e){return h(e)}})),c.a.createElement("span",{className:"error-msg italic padding-sm"}),c.a.createElement("button",{disabled:!1,className:"submit--btn ".concat(""),onClick:function(e){return function(e){e.preventDefault();var t={title:u,article:g,userId:parseInt(a,10),category:k(v)};Object(i.trackPromise)(Object(F.sendData)("".concat(F.apiKey,"/articles"),t,r).then((function(e){console.log(e.data);var t=e.status,a=e.data,n=e.data.message;console.log(a),m([Ne(a.feed)].concat(Object(te.a)(l))),j({show:!0,message:n,status:t}),b(),o()})).catch((function(e){var t=e.error,a=e.status;j({show:!0,message:t.split(",")[0],status:a})})))}(e)}},"Publish")),x)},we=function(e){var t=e.userData,a=t.token,r=t.userId,o=Object(n.useContext)(re),s=o.feed,l=o.updateFeed,m=P(),d=m.state,u=m.onChange,f=P(),p=f.state,g=f.onChange,h=P(),b=h.state,E=h.handleFile,v=P(),N=v.state,y=v.handleFile,j=R(),x=j.updateAjaxStatus,k=j.HttpStatusComponent;return c.a.createElement(n.Fragment,null,c.a.createElement("form",{className:"form",method:"POST"},c.a.createElement("label",null," GIF title",c.a.createElement("input",{type:"text",name:"title",placeholder:"Enter title",className:"form-control",value:d,onChange:function(e){return u(e)}}),c.a.createElement("span",{className:"error-msg italic padding-sm"})),c.a.createElement("label",null," Category",c.a.createElement("input",{type:"text",name:"category",placeholder:"(Optional) separate every category with ','",className:"form-control",value:p,onChange:function(e){return g(e)}})),c.a.createElement("span",{className:"error-msg italic padding-sm"}),c.a.createElement("div",{className:"file_display padding-bottom-sm",style:{width:"150px",height:"auto",display:"".concat(null===N?"none":"inline-block")}},c.a.createElement("img",{src:N,alt:"",style:{width:"100%",height:"auto"}})),c.a.createElement("div",{className:"padding-bottom-md"},c.a.createElement("label",{className:"btn--file d-inline-block"},c.a.createElement("div",{className:"upload--icon"},c.a.createElement("i",{className:"far fa-image font-md d-inline-block"}),c.a.createElement("span",{className:"padding-left-sm font-sm"},"Upload GIF...")),c.a.createElement("input",{type:"file",name:"file",multiple:!1,onChange:function(e){return function(e){e.preventDefault();var t=e.target.files;y(URL.createObjectURL(t[0])),E(t[0])}(e)}})),c.a.createElement("span",{className:"error-msg italic padding-sm"})),c.a.createElement("input",{onClick:function(e){return function(e){var t=new FormData;t.append("files",b),t.append("title",d),t.append("category[]",function(e){return 0===(e=e.split(",")).length?null:e}(p)),t.append("userId",r),console.log(t),e.target.value="Publishing...",Object(i.trackPromise)(Object(F.sendData)("".concat(F.apiKey,"/gifs"),t,a,!0).then((function(e){var t=e.status,a=e.data,n=e.data.message;l([Ne(a.feed)].concat(Object(te.a)(s))),x({show:!0,message:n,status:t}),console.log(e)})).catch((function(e){var t=e.status,a=e.error;x({show:!0,message:a.split(",")[0],status:t}),console.log(e)})))}(e)},type:"submit",value:"Publish",className:"submit--btn"})),k)},Oe=function(e){var t=e.closeModal,a=Object(n.useState)("article"),r=Object(k.a)(a,2),o=r[0],s=r[1],l=Object(n.useContext)(I).data,i=l.token,m=l.userId,d=function(e){return s(e)};return console.log(o),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("div",{className:"control--btns position-relative margin-bottom-md"},c.a.createElement("span",{onClick:function(){return d("article")},className:"accordion--btn font-weight-600 ".concat("article"===o?"active":""," margin-right-sm")},"Article"),c.a.createElement("span",{onClick:function(){return d("gif")},className:"accordion--btn font-weight-600 ".concat("gif"===o?"active":""," margin-right-sm ")},"GIF")),c.a.createElement("h3",{className:"modal--heading"},"article"===o?"Write an article":"Share GIF")),c.a.createElement("div",null,"gif"===o?c.a.createElement(we,{userData:{token:i,userId:m},closeModal:t}):c.a.createElement(ke,{userData:{token:i,userId:m},closeModal:t})))},Ce=function(e){var t=e.updateFeed,a=e.feed,r=Object(n.useContext)(I).data,o=q("",Oe),s=o.openModal,l=o.ModalChild;return console.log(s,l),Object(n.useEffect)((function(){var a=r.token,n=r.userId,c=e.feed;0===c.length&&Object(i.trackPromise)(Object(F.getData)("".concat(F.apiKey,"/feed"),n,a).then((function(e){var a=e.data,n=a.content,r=a.comments,o=a.flags;c=[].concat(Object(te.a)(ve(n,r,o)),Object(te.a)(c)),t(c)})).catch((function(e){console.log(e)})))})),c.a.createElement("div",null,c.a.createElement("div",{className:"create--post margin-bottom-md"},c.a.createElement("i",{className:"fas fa-plus-circle font-xlg action",onClick:s})),c.a.createElement("section",null,function(e,t,a){var n=a.userId,r=a.firstName,o=a.lastName,s=a.token,l=t.feed,i=t.updateFeed;return 0!==e.length?e.map((function(e,t){return c.a.createElement(be,{key:t,feed:e,allFeed:l,updateFeed:i,userData:{userId:n,firstName:r,lastName:o,token:s}})})):Ee("No post to show!!! Why not be the first to own a content? Click the plus button above")}(a,e,r)),l)},Ie=function e(t){var a=t.allFeed,r=t.updateFeed,o=t.userData,s=o.token,l=o.userId,m=t.props.match,d=m.params,u=m.path,f=d.gifId||d.articleId,p=Object(n.useState)({}),g=Object(k.a)(p,2),h=g[0],b=g[1],v=Object(n.useState)(!0),N=Object(k.a)(v,2),y=N[0],j=N[1],x=Object(n.useContext)(ae).users,w=h.title,O=h.category,C=h.content,I=h.userid,D=h.type,S=h.comments,U=h.createdon,M=h.flagStats,A=x.find((function(e){return e.employeeId===I})),T={comments:S,feedId:f,users:x,feedType:D},P={title:w,article:C?C[0]:null,category:O,articleId:f,userData:{userId:l,token:s}},L=q("Modify Article",he,P),_=L.openModal,K=L.ModalChild,R=q("View Comments",ge,T),H=R.openModal,W=R.ModalChild,B=Object(n.useCallback)((function(){j(!0);var e=u.includes("articles")?"articles":"gifs";console.log("hey"),Object(i.trackPromise)(Object(F.getData)("".concat(F.apiKey,"/").concat(e,"/").concat(f),l,s).then((function(e){console.log(e);var t=e.data,a=t.content,n=t.comments,c=t.flags;b(function(e,t,a){var n=t.map((function(e){return e.createdon=le(e.createdon),e.id=parseInt(e.id,10),e}));return e.comments=n,e.flagStats=a,e.createdon=le(e.createdon),e.id=parseInt(e.id,10),e}(a,n,c)),j(!1)})).catch((function(e){console.log(e)})))}),[f,u,s,l]);Object(n.useEffect)((function(){B()}),[B]);var G=function(){Object(F.getData)("".concat(F.apiKey,"/feed/").concat(f,"/flagStats"),l,s).then((function(e){e.data.flagStats})).catch((function(e){console.log(e)}))};if(y)return null;var V=A.photoDetails,J=A.firstName,z=A.lastName,Y=A.employeeId;return c.a.createElement("article",{className:"story margin-bottom-md"},Y===parseInt(l,10)?c.a.createElement("div",{className:"d-flex",style:{justifyContent:"flex-end"}},c.a.createElement("div",{className:"padding-bottom-sm trigge5r-more-action cursor-pointer position-relative"},c.a.createElement("i",{className:"fas fa-ellipsis-h font-md font-weight-bold color-dark tooltip"}),c.a.createElement("div",{className:"more-option padding-md border-r-10"},c.a.createElement("div",{className:"d-flex align-items-end font-weight-bold margin-bottom-sm padding-sm padding-bottom-xsm",onClick:function(t){return function(t){t.preventDefault();var n=e.id,c=e.content,o="article"===e.type?"articles/".concat(n):"gifs/".concat(n,"/").concat(c[1]);Object(i.trackPromise)(Object(F.deleteData)("".concat(F.apiKey,"/").concat(o),l,s).then((function(){var e=a.filter((function(e){return e.id!==n}));r(e)})).catch((function(e){return console.log(e)})))}(t)}},c.a.createElement("i",{className:"fas fa-trash font-sm margin-right-sm"}),c.a.createElement("span",{className:"font-sm"},"Delete ","article"===D?"article":"GIF")),"article"===D?c.a.createElement("div",{className:"d-flex align-items-end font-weight-bold padding-sm padding-bottom-xsm",onClick:_},c.a.createElement("i",{className:"fas fa-pen font-sm margin-right-sm"}),c.a.createElement("span",{className:"font-sm"},"Edit article")):null))):null,c.a.createElement("div",{className:"margin-bottom-sm"},c.a.createElement("div",{className:"d-flex justify-content--s-between margin-bottom-sm"},c.a.createElement("div",{className:"poster--details"},c.a.createElement(E.b,{to:Y===parseInt(l,10)?"/user/profile":"/user/".concat(J,"_").concat(z),style:{color:"#000"}},c.a.createElement("div",{className:"d-flex nowrap"},c.a.createElement("img",{className:"avatar--sm icon",src:V[0],alt:"poster avatar"}),c.a.createElement("div",{className:"d-flex column"},c.a.createElement("span",{className:"poster--username text-content font-weight-bold margin-bottom-xsm"},"".concat(J," ").concat(z)),c.a.createElement("div",{className:"margin-bottom-sm"},c.a.createElement("span",{className:"d-block font-sm gray-color"},U)))))),c.a.createElement("div",{className:"flag-stats justify-self-end"},c.a.createElement("i",{"data-flag":!!xe(M,l),className:"fas fa-flag margin-right-sm cursor-pointer ".concat(xe(M,l)?"danger-text":""),onClick:function(e){return function(e){e.preventDefault();var t={isFlagged:e.target.dataset.flag,userId:l};Object(F.modifyData)("".concat(F.apiKey,"/feed/").concat(f,"/flag"),t,s).then((function(){G()})).catch((function(e){console.log(e)}))}(e)}}),c.a.createElement("span",{className:"flag font-weight-bold font-sm padding-sm border-r-circle"},0===M.length?"":M.length)))),c.a.createElement("div",{className:"post-content margin-bottom-sm"},function(e,t,a){switch(e){case"article":return c.a.createElement("div",{className:"text-content padding-bottom-sm"},c.a.createElement("p",{className:"font-weight-bold font-md padding-bottom-sm"},a),c.a.createElement("p",{className:"font-sm"},t[0]));case"gif":return c.a.createElement("div",{className:"padding-bottom-sm"},c.a.createElement("p",{className:"font-weight-bold font-sm padding-bottom-md"},a),c.a.createElement("div",{className:"d-flex justify-content--center align-items--center padding-bottom-md"},c.a.createElement("div",{className:""},c.a.createElement("img",{className:"",style:{width:"100%",height:"auto"},src:t[0],publicid:t[1],alt:"poster avatar"}))))}}(D,C,w)),c.a.createElement("div",{className:"category"},O.map((function(e,t){return c.a.createElement("span",{key:t,className:"border-r-10 text-content italic font-sm bckgr-color2 color-white padding-sm margin-right-sm margin-bottom-sm"},e)}))),c.a.createElement("div",{className:"comment--flag--section padding-top-sm"},c.a.createElement("div",{className:"stats d-flex justify-content--s-between align-items--center margin-bottom-sm\r padding-bottom-sm"},c.a.createElement("div",{className:"comment-stats font-weight-bold cursor-pointer"},c.a.createElement("i",{className:"fas fa-comments margin-right-sm paint-text"}),c.a.createElement("span",{className:"value comment font-sm icon"},S.length)),c.a.createElement("div",{className:"action padding-sm",id:"add--comment",style:{border:"1px solid #a0a0a0",borderRadius:"10px",justifySelf:"flex-end"},onClick:H},c.a.createElement("i",{className:"fas fa-comment icon color2"}),c.a.createElement("span",{className:"font-weight-bold"},"Comment")))),K,W)},De=function(e){var t=Object(n.useContext)(I).data,a=t.userId,r=t.token,o=e.match.path;return c.a.createElement("main",{className:"main"},c.a.createElement("div",{className:"content-wrapper"},c.a.createElement(E.a,null,c.a.createElement(oe,null,(function(e){var t=e.updateFeed,n=e.feed;return c.a.createElement(v.d,null,c.a.createElement(v.b,{exact:!0,path:"".concat(o),render:function(e){return c.a.createElement(Ce,{updateFeed:t,feed:n,props:Object(C.a)({},e)})}}),c.a.createElement(v.b,{path:"".concat(o,"/articles/:articleId"),render:function(e){return c.a.createElement(Ie,{userData:{userId:a,token:r},updateFeed:t,allFeed:n,props:Object(C.a)({},e)})}}),c.a.createElement(v.b,{path:"".concat(o,"/gifs/:gifId"),render:function(e){return c.a.createElement(Ie,{userData:{userId:a,token:r},updateFeed:t,allFeed:n,props:Object(C.a)({},e)})}}))})))))},Se=function(e){var t=e.match.path,a=e.updateAccount,n=e.userData.data,r=n.userId,o=n.photoDetails,s=n.interests;return c.a.createElement(E.a,null,c.a.createElement("section",{className:"page-section d-flex"},c.a.createElement(ee,{path:t,userData:{photoDetails:o,interests:s},updateAccount:a}),c.a.createElement(v.b,{path:t,component:De}),c.a.createElement(ce,{userId:r})))},Ue=(a(87),function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).renderNavLink=function(e,t){return"admin"===e?"/admin"===t?c.a.createElement(E.b,{to:{pathname:"/user/dashboard"}},c.a.createElement("li",{className:"cursor-pointer margin-right-md"},c.a.createElement("i",{className:"fas fa-newspaper font-lg"}))):c.a.createElement(E.b,{to:{pathname:"/admin/dashboard"}},c.a.createElement("li",{className:"cursor-pointer margin-right-md"},c.a.createElement("i",{className:"fas fa-user-shield font-lg"}))):null},a.checkPath=function(e){switch(console.log(e),e){case"/admin":case"/user/profile":case"/user/:username":return!1;default:return!0}},a.state={},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=document.querySelector(".top--navbar");window.addEventListener("scroll",(function(){window.scrollY>0?e.classList.add("sticky_nav"):e.classList.remove("sticky_nav")}))}},{key:"componentWillUnmount",value:function(){var e=document.querySelector(".top--navbar");window.removeEventListener("scroll",(function(){window.scrollY>0?e.classList.add("sticky_nav"):e.classList.remove("sticky_nav")}))}},{key:"render",value:function(){console.log(this.props);var e=this.context.data,t=e.accountType,a=e.photoDetails,n=this.props.match.path;return c.a.createElement("header",null,c.a.createElement(E.b,{to:"/",className:"cursor-pointer"},c.a.createElement("div",{className:"bckgr-white padding-left-sm color2 favicon"},c.a.createElement("div",{className:"d-inline-block"},c.a.createElement("span",{className:"paint-text italic font-sm"},"T"),c.a.createElement("span",{className:"font-xsm"},"eam"),c.a.createElement("span",{className:"paint-text italic font-sm"},"W"),c.a.createElement("span",{className:"font-xsm"},"ork")))),c.a.createElement("nav",{className:"top--navbar d-flex nowrap align-items--center justify-content--s-between position-relative"},this.checkPath(n)?c.a.createElement("i",{className:"fas fa-bars color2 mobile font-md",onClick:function(e){return X(e)}}):null,"/admin"===n?null:c.a.createElement("div",{className:"search-box d-flex align-items--center nowrap"},c.a.createElement("input",{type:"search",placeholder:"Search by category",className:"font-sm text-align-center font-weight-bold search"}),c.a.createElement("div",{className:"search-btn d-flex nowrap align-items--center justify-content--center cursor-pointer"},c.a.createElement("i",{className:"fas fa-search font-md"}))),c.a.createElement("ul",{className:"d-flex nowrap align-items--center"},this.renderNavLink(t,n),c.a.createElement("li",{className:"cursor-pointer margin-right-md"},c.a.createElement(E.b,{to:"/user/profile"},c.a.createElement("div",{className:"avatar--sm"},c.a.createElement("img",{className:"",src:a[0],alt:"your avatar"})))),"/admin"!==n?c.a.createElement("i",{className:"fas fa-users color2 mobile font-md",onClick:function(e){return Z(e)}}):null)))}}]),t}(n.Component));Ue.contextType=I;var Me=Ue,Ae=function(e){var t=Object(n.useState)([]),a=Object(k.a)(t,2),r=a[0],o=a[1],s=e.match,l=s.path,m=s.url,d=Object(n.useContext)(I).data,u=d.firstName,f=d.lastName,p=d.photoDetails,g=d.department,h=d.jobRole,b=d.gender,N=d.address,y=d.userId,j=d.token,x={userId:y,token:j};return Object(n.useEffect)((function(){Object(i.trackPromise)(Object(F.getData)("".concat(F.apiKey,"/feed/").concat(y),y,j).then((function(e){var t=e.data,a=t.content,n=t.comments,c=t.flags,r=Object(te.a)(ve(a,n,c));o(Object(te.a)(r))})).catch((function(e){return console.log(e)})))}),[j,y]),c.a.createElement(n.Fragment,null,c.a.createElement(v.b,{path:l,component:Me}),c.a.createElement("div",{className:"d-flex"},c.a.createElement("div",{className:"profileDetails main margin-right-md"},c.a.createElement("div",{className:"profileHeader bckgr-white padding-left-lg padding-right-lg padding-md margin-right-sm margin-left-sm position-relative"},c.a.createElement(E.b,{to:"".concat(m,"/edit#profile-pictire_username"),className:"position-relative",style:{position:"absolute",top:"25px",right:"30px"}},c.a.createElement("i",{className:"fas fa-pen font-lg color2 tooltip margin-bottom-sm cursor-pointer"}),c.a.createElement("div",{className:"view tooltip-text color-white bckgr-color2"},"Update avatar / username")),c.a.createElement("div",{className:"padding-md d-flex justify-content--s-between align-items--center"},c.a.createElement("div",{className:"avatar--lg cursor-pointer margin-bottom-sm"},c.a.createElement("img",{src:p[0],alt:"user avatar"})),c.a.createElement("div",{className:"align-self-end"},c.a.createElement("div",{className:"font-lg font-weight-bold",style:{lineHeight:"30px"}},"".concat(u," ").concat(f)),c.a.createElement("span",{className:"gray-color"},"@",h)))),c.a.createElement("div",{className:"padding-md d-flex justify-content--s-between details"},c.a.createElement("div",{className:"about-section bckgr-white margin-bottom-sm padding-md padding-left-md"},c.a.createElement("ul",{className:"user_info"},c.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},c.a.createElement("i",{className:"far fa-building font-md color2 margin-right-sm"}),c.a.createElement("span",{className:"font-sm font-weight-600 "}," ",g)),c.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},c.a.createElement("i",{className:"fas fa-briefcase font-md color2 margin-right-sm"}),c.a.createElement("span",{className:"font-sm font-weight-600 "}," ",h)),c.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},c.a.createElement("i",{className:"fas fa-user color2 font-md padding-right-sm"}),c.a.createElement("span",{className:"font-sm font-weight-600 "}," ",b)),c.a.createElement("li",{className:"margin-bottom-md d-flex nowrap align-items-end"},c.a.createElement("i",{className:"fas fa-map-marker-alt color2 font-md padding-right-sm"}),c.a.createElement("div",{className:"d-flex column"},c.a.createElement("span",{className:"font-sm font-weight-600 text-content"}," ",N)))),c.a.createElement(E.b,{to:"".concat(m,"/edit#about-info"),eventname:"Edit About info",className:"bckgr-color2 d-inline-block padding-sm color-white font-sm border-r-10 cursor-pointer"},c.a.createElement("i",{className:"fas fa-pen font-sm margin-right-sm"}),"Edit About Info")),c.a.createElement("div",{className:"user-posts"},je(r,x)))),c.a.createElement(ce,null)))},Te=a(21),Fe=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).handleUserInput=function(e){e.preventDefault();var t=e.target,n=t.name,c=t.value;"file"!==n?a.setState(Object(Te.a)({},n,c),(function(){console.log(a.state)})):a.setState({fileURL:URL.createObjectURL(e.target.files[0]),file:e.target.files[0]})},a.updateAvatar=function(e){e.preventDefault();var t=a.props,n=t.users,c=t.addUser,r=t.updateAccount,o=t.userData,s=t.userData,l=s.userId,m=s.token,d=t.history.push,u=a.state.file,f=new FormData;f.append("files",u),f.append("userId",l),e.target.value="Publishing...",Object(i.trackPromise)(Object(F.modifyData)("".concat(F.apiKey,"/auth/users/").concat(l),f,m,!0).then((function(e){var t=e.data.photoDetails;console.log(e),o.photoDetails=t,r(o),n=n.map((function(e){return e.employeeId===l&&(e.photoDetails=t),e})),c(n),d("/user/profile")})).catch((function(e){console.log(e)})))},a.userData=a.props.userData,a.state={email:a.userData.email,address:a.userData.address,gender:a.userData.gender,file:null,fileURL:a.userData.photoDetails[0]},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"linear-grad-bckgr d-flex justify-content--center align-items--center"},c.a.createElement("main",{className:"padding-lg"},c.a.createElement("div",{className:"wrapper d-flex"},c.a.createElement("aside",{className:"bckgr-white padding-lg margin-right-md margin-bottom-md"},c.a.createElement("section",{className:"",id:"profile-pictire_username"},c.a.createElement("h2",{className:"font-lg margin-bottom-md"},"Change Profile Picture"),c.a.createElement("form",{className:"form",encType:"multipart/form-data"},c.a.createElement("div",{className:"file_display padding-bottom-sm",style:{width:"200px",height:"auto",display:"".concat(null===this.state.fileURL?"none":"inline-block")}},c.a.createElement("img",{src:this.state.fileURL,alt:"",style:{width:"100%",height:"auto"}})),c.a.createElement("div",{className:"padding-bottom-md"},c.a.createElement("label",{className:"btn--file d-inline-block"},c.a.createElement("div",{className:"upload--icon"},c.a.createElement("i",{className:"far fa-image font-md d-inline-block"}),c.a.createElement("span",{className:"padding-left-sm font-sm"},"Upload")),c.a.createElement("input",{type:"file",name:"file",multiple:!1,onChange:function(t){return e.handleUserInput(t)}})),c.a.createElement("span",{className:"error-msg italic padding-sm"})),c.a.createElement("input",{onClick:function(t){return e.updateAvatar(t)},type:"submit",value:"Update",className:"submit--btn"})))),c.a.createElement("div",{className:"bckgr-white",id:"about-info"},c.a.createElement("section",{className:"padding-lg"},c.a.createElement("h2",{className:"font-lg margin-bottom-md"},"Update your info"),c.a.createElement("form",{className:"form",method:"POST",style:{width:"450px"}},c.a.createElement("label",null," Email",c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"email",name:"email",placeholder:"enter new email",className:"form-control",value:this.state.email})),c.a.createElement("div",{className:"padding-bottom-sm padding-top-sm"},c.a.createElement("h4",{className:"heading md padding-bottom-sm"},"Gender"),c.a.createElement("label",{className:"check radio position-relative padding-left-md margin-bottom-sm cursor-pointer font-md padding-bottom-xsm "}," ",c.a.createElement("span",null,"male"),c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"radio",value:"male",name:"gender",className:"form-control",id:"web_dev"}),c.a.createElement("span",{className:"checkmark border-r-circle"})),c.a.createElement("label",{className:"check radio position-relative padding-left-md margin-bottom-sm cursor-pointer font-md "},"female",c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"radio",value:"female",name:"gender",className:"form-control",id:"female"}),c.a.createElement("span",{className:"checkmark border-r-circle"}))),c.a.createElement("label",null," Address",c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"text",name:"address",placeholder:"Enter Address",className:"form-control",value:this.state.address})),c.a.createElement("input",{onClick:function(t){return e.handleSubmit(t)},type:"submit",value:"Create User",className:"submit--btn"})))))))}}]),t}(n.Component),Pe=Object(v.g)(Fe),Le=function(e){var t=e.match,a=t.params.username,r=t.path,o=e.userData,s=o.userId,l=o.token,m=Object(n.useState)([]),d=Object(k.a)(m,2),u=d[0],f=d[1],p=function(e){var t=Object(n.useContext)(ae).users,a=e.split("_"),c=a[0],r=a[1],o=t.find((function(e){return e.firstName===c&&e.lastName===r})),s=o.photoDetails,l=o.department,i=o.jobRole,m=o.gender,d=o.interests,u=o.address,f=o.employeeId;return{firstName:c,lastName:r,photoDetails:s,department:l,jobRole:i,gender:m,interests:d,address:u,employeeId:f}}(a),g=p.firstName,h=p.lastName,b=p.photoDetails,E=p.department,N=p.jobRole,y=p.gender,j=p.address,x=p.employeeId,w=Object(n.useCallback)((function(){Object(i.trackPromise)(Object(F.getData)("".concat(F.apiKey,"/feed/").concat(x),s,l).then((function(e){var t=e.data,a=t.content,n=t.comments,c=t.flags,r=Object(te.a)(ve(a,n,c));console.log(r),f(r)})).catch((function(e){return console.log(e)})))}),[x,l,s]);return Object(n.useEffect)((function(){w()}),[w]),c.a.createElement(n.Fragment,null,c.a.createElement(v.b,{path:r,component:Me}),c.a.createElement("div",{className:"d-flex"},c.a.createElement("div",{className:"profileDetails main"},c.a.createElement("div",{className:"profileHeader bckgr-white padding-left-lg padding-right-lg padding-md margin-right-sm position-relative"},c.a.createElement("div",{className:"padding-md d-flex justify-content--s-between align-items--center"},c.a.createElement("div",{className:"avatar--lg cursor-pointer"},c.a.createElement("img",{src:b[0],alt:"user avatar"})),c.a.createElement("div",{className:"align-self-end"},c.a.createElement("div",{className:"font-lg font-weight-bold",style:{lineHeight:"30px"}},"".concat(g," ").concat(h)),c.a.createElement("span",{className:"gray-color"},"@",N)))),c.a.createElement("div",{className:"padding-md d-flex justify-content--s-between details"},c.a.createElement("div",{className:"about-section bckgr-white margin-bottom-sm padding-md padding-left-md"},c.a.createElement("ul",{className:"user_info"},c.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},c.a.createElement("i",{className:"far fa-building font-md color2 margin-right-sm"}),c.a.createElement("span",{className:"font-sm font-weight-600 "}," ",E)),c.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},c.a.createElement("i",{className:"fas fa-briefcase font-md color2 margin-right-sm"}),c.a.createElement("span",{className:"font-sm font-weight-600 "}," ",N)),c.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},c.a.createElement("i",{className:"fas fa-user color2 font-md padding-right-sm"}),c.a.createElement("span",{className:"font-sm font-weight-600 "}," ",y)),c.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},c.a.createElement("i",{className:"fas fa-map-marker-alt color2 font-md padding-right-sm"}),c.a.createElement("span",{className:"font-sm font-weight-600 "}," ",j)))),c.a.createElement("div",{className:"user-posts"},je(u,e.userData)))),c.a.createElement(ce,null)))},_e=Object(v.g)((function(e){var t=e.users,a=e.addUser,r=e.history.push,o=e.match,s=o.path,l=o.params,m=Object(n.useContext)(I),d=m.updateAccount,u=m.data,f=m.data,p=f.userId,g=f.token;return Object(n.useEffect)((function(){0===t.length&&Object(i.trackPromise)(Object(F.getData)("".concat(F.apiKey,"/auth/users"),p,g).then((function(e){var t=e.data;t=t.map((function(e){return J(e)})),console.log(t),a(t),r("".concat(s,"/dashboard"))})).catch((function(e){console.log(e)})))}),[a,s,r,g,p,t.length]),c.a.createElement(c.a.Fragment,null,c.a.createElement(se,null,c.a.createElement(E.a,null,c.a.createElement(v.b,{path:"".concat(s,"/dashboard"),component:Me}),c.a.createElement(v.d,null,c.a.createElement(v.b,{exact:!0,path:"".concat(s,"/profile/edit"),render:function(e){return c.a.createElement(Pe,Object.assign({updateAccount:d,userData:u,users:t,addUser:a},e))}}),c.a.createElement(v.b,{exact:!0,path:"".concat(s,"/profile"),render:function(e){return c.a.createElement(Ae,Object.assign({updateAccount:d,userData:u},e))}}),c.a.createElement(v.b,{path:"".concat(s,"/dashboard"),render:function(e){return c.a.createElement(Se,Object.assign({userData:{data:u},updateAccount:d},e))}}),c.a.createElement(v.b,{exact:!0,path:"".concat(s,"/:username"),render:function(e){return c.a.createElement(Le,Object.assign({key:l.username,userData:{userId:p,token:g}},e))}})))))})),Ke=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).handleUserInput=function(e){e.preventDefault();var t=e.target;a.setState(Object(Te.a)({},t.name,t.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.context.data,n=t.token,c=t.userId,r=Object(C.a)({},a.state,{userId:parseInt(c,10)});console.log(r),Object(i.trackPromise)(Object(F.sendData)("".concat(F.apiKey,"/auth/create-user"),r,n).then((function(e){console.log(e)})).catch((function(e){console.log(e)})))},a.state={},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state),c.a.createElement("form",{className:"form",method:"POST"},c.a.createElement("label",null," First Name",c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"text",name:"firstName",placeholder:"Enter Firstname",className:"form-control"})),c.a.createElement("label",null," Last Name",c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"text",name:"lastName",placeholder:"Enter Lastname",className:"form-control"})),c.a.createElement("label",null," Email",c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"email",name:"email",placeholder:"Enter employee's email",className:"form-control"})),c.a.createElement("label",null," Password",c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"password",name:"password",placeholder:"Create employee's password",className:"form-control"})),c.a.createElement("div",{className:"padding-bottom-sm padding-top-sm"},c.a.createElement("h4",{className:"heading md padding-bottom-sm"},"Gender"),c.a.createElement("label",{className:"check radio position-relative padding-left-md margin-bottom-sm cursor-pointer font-md padding-bottom-xsm "}," ",c.a.createElement("span",null,"male"),c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"radio",value:"male",name:"gender",className:"form-control",id:"web_dev"}),c.a.createElement("span",{className:"checkmark border-r-circle"})),c.a.createElement("label",{className:"check radio position-relative padding-left-md margin-bottom-sm cursor-pointer font-md "},"female",c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"radio",value:"female",name:"gender",className:"form-control",id:"female"}),c.a.createElement("span",{className:"checkmark border-r-circle"}))),c.a.createElement("label",null," Job Role",c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"text",name:"jobRole",placeholder:"Job Role (e.x Frontend Web Developer)",className:"form-control"})),c.a.createElement("label",null," Department",c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"text",name:"department",placeholder:"Employee's department",className:"form-control"})),c.a.createElement("label",null," Address",c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"text",name:"address",placeholder:"Enter Address",className:"form-control"})),c.a.createElement("div",{className:"padding-bottom-sm padding-top-sm"},c.a.createElement("h4",{className:"heading md padding-bottom-xsm"},"Account type"),c.a.createElement("label",{className:"check radio position-relative padding-left-md margin-bottom-sm cursor-pointer font-md padding-bottom-xsm"},c.a.createElement("span",null,"Admin"),c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"radio",value:"admin",name:"accountType",className:"form-control"}),c.a.createElement("span",{className:"checkmark border-r-circle"})),c.a.createElement("label",{className:"check radio position-relative padding-left-md margin-bottom-sm cursor-pointer font-md"},"Regular",c.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"radio",value:"regular",name:"accountType",className:"form-control"}),c.a.createElement("span",{className:"checkmark border-r-circle"}))),c.a.createElement("input",{onClick:function(t){return e.handleSubmit(t)},type:"submit",value:"Create User",className:"submit--btn"}))}}]),t}(n.Component);Ke.contextType=I;var Re=Ke,He=(a(33),function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).toggleModal=function(e){e.preventDefault();var t=e.target;console.log(t);var n=Object(te.a)(t.classList);console.log(n),n.includes("close")?a.setState({isModalOpen:!1}):a.setState({isModalOpen:!0}),console.log(a.state.isModalOpen)},a.addUser=a.props.addUser,a.users=a.props.users,a.state={isModalOpen:!1},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;this.props.match;return console.log(this.props.match),c.a.createElement("section",{className:"add-bckgr--img d-flex justify-content--center align-items--center",style:{width:"100%",height:"88vh",overflow:"hidden"}},c.a.createElement("div",{className:"d-flex justify-content--center align-items--center"},c.a.createElement("div",{className:"link-wrap--box",onClick:function(t){return e.toggleModal(t)}},c.a.createElement("div",{className:"box cursor-pointer overflow--h border-r-10 padding-md bckgr-white d-flex justify-content--center align-items--center"},c.a.createElement("div",{className:"text-align-center color-dark"},c.a.createElement("i",{className:"fas fa-user-plus icon margin-bottom-sm font-lg color2"}),c.a.createElement("div",{className:"font-sm font-weight-bold"},"Create User Account")))),c.a.createElement(E.b,{to:"/admin/employees",className:"link-wrap--box"},c.a.createElement("div",{className:"box cursor-pointer overflow--h border-r-10 padding-md bckgr-white d-flex justify-content--center align-items--center"},c.a.createElement("div",{className:"text-align-center color-dark"},c.a.createElement("i",{className:"fas fa-users icon margin-bottom-sm font-lg color2"}),c.a.createElement("div",{className:"font-sm font-weight-bold"},"All Employees"))))),c.a.createElement(G,{toggleModal:this.toggleModal,isModalOpen:this.state.isModalOpen,contentTitle:"Create Employee Account",contentBody:c.a.createElement(Re,null)}))}}]),t}(n.Component)),We=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e)))._isMounted=!1,a.state={},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e,t=this.context,a=t.users,n=t.addUser;return console.log(this.props.match),c.a.createElement("section",{className:"d-flex justify-content--center align-items--center",style:{width:"100%",height:"80vh"}},c.a.createElement("div",{className:"d-flex justify-content--center align-items--center ".concat((e="991.98px",window.matchMedia("(max-width:".concat(e,")")).matches?"padding-md":"padding-lg"))},a.map((function(e,t){return c.a.createElement(Be,{key:t,user:e,addUser:n})}))))}}]),t}(n.Component);We.contextType=ae;var Be=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.user,t=e.photoDetails,a=(e.employeeId,e.firstName),n=e.lastName;return c.a.createElement("div",{className:"link-wrap--box"},c.a.createElement("div",{className:"employee--box cursor-pointer border-r-10 overflow--h"},c.a.createElement("div",{className:"user-avatar position-relative"},c.a.createElement("img",{src:t[0],alt:"user avatar"}),c.a.createElement("div",{class:"action-btns d-flex nowrap"},c.a.createElement("i",{class:"fas fa-trash margin-right-sm font-md border-r-circle danger-text"}),c.a.createElement(E.b,{to:"/user/".concat(a,"_").concat(n)},c.a.createElement("i",{class:"fas fa-eye margin-right-sm font-md border-r-circle color-white"})))),c.a.createElement("div",{className:"padding-sm color-dark bckgr-white"},c.a.createElement("div",{className:"font-sm padding-sm font-weight-bold color-dark"},"".concat(a," ").concat(n)))))}}]),t}(n.Component),Ge=(n.Component,We),Ve=Object(v.g)((function(e){var t=e.users,a=e.addUser,r=e.history.push,o=e.match.path,s=Object(n.useContext)(I).data,l=s.userId,m=s.token;return Object(n.useEffect)((function(){0===t.length&&Object(i.trackPromise)(Object(F.getData)("".concat(F.apiKey,"/auth/users"),l,m).then((function(e){var t=e.data;t=t.map((function(e){return J(e)})),console.log(t),a(t),r("".concat(o,"/dashboard"))})).catch((function(e){console.log(e)})))}),[a,o,r,m,l,t.length]),c.a.createElement(E.a,null,c.a.createElement(v.b,{path:"".concat(o),component:Me}),c.a.createElement(v.d,null,c.a.createElement(v.b,{exact:!0,path:"".concat(o,"/dashboard"),component:He}),c.a.createElement(v.b,{exact:!0,path:"".concat(o,"/employees"),render:function(e){return c.a.createElement(Ge,Object.assign({users:t,addUser:a,userData:{token:m,userId:l}},e))}})))})),qe=a(43),Je=function(e){var t=e.component,a=e.auth,r=e.path,o=Object(qe.a)(e,["component","auth","path"]),s=Object(n.useContext)(ae),l=s.users,i=s.addUser,m=a();return c.a.createElement(v.b,Object.assign({path:r},o,{render:function(e){return m?c.a.createElement(t,Object.assign({users:l,addUser:i},e)):c.a.createElement(v.a,{to:{pathName:"/",state:{prevLocation:r,error:"UnAuthorized Access!"}}})}}))};N.a.add(j.a,y.a,x.a);var ze=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement(E.a,null,c.a.createElement(D,null,c.a.createElement(ne,null,c.a.createElement(v.b,{path:"/",exact:!0,component:z}),c.a.createElement(v.d,null,c.a.createElement(Je,{path:"/user",auth:M,component:_e}),c.a.createElement(Je,{path:"/admin",auth:A,component:Ve}),c.a.createElement(Je,{path:"/chats",auth:M,component:Q})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.load({google:{families:["Pacifico","Ubuntu:400,700","Roboto"]}}),o.a.render(c.a.createElement("div",null,c.a.createElement(ze,null),c.a.createElement(u,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[44,1,2]]]);
//# sourceMappingURL=main.a7051e1b.chunk.js.map