(this["webpackJsonpteamwork---frontend"]=this["webpackJsonpteamwork---frontend"]||[]).push([[0],{18:function(e,t,a){},23:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},41:function(e,t,a){e.exports=a(81)},6:function(e,t){var a=function(e,t,a,n,r){return"GET"===e||"DELETE"===e?fetch(t,{method:e,mode:"cors",headers:{"Access-Control-Allow-Origin":"*",Authorization:n?"Bearer ".concat(n):""}}).then((function(e){return e.status>=400?e.json().then((function(e){throw e})):e.json()})):r?fetch(t,{method:e,mode:"cors",body:a,headers:{"Access-Control-Allow-Origin":"*",Authorization:n?"Bearer ".concat(n):""}}).then((function(e){return e.status>=400?e.json().then((function(e){throw e})):e.json()})):fetch(t,{method:e,mode:"cors",body:JSON.stringify(a),headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:n?"Bearer ".concat(n):""}}).then((function(e){return e.status>=400?e.json().then((function(e){throw e})):e.json()}))};t.apiKey="https://teamworkbycharles.herokuapp.com/api/v1",t.getData=function(e,t,n){return a("GET","".concat(e,"/").concat(t),null,n)},t.sendData=function(e,t,n,r){return a("POST",e,t,n,r)},t.modifyData=function(e,t,n,r){return a("PATCH",e,t,n,r)},t.deleteData=function(e,t,n){return a("DELETE","".concat(e,"/").concat(t),null,n)}},70:function(e,t,a){},71:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),c=a.n(o),l=a(33),s=a.n(l),i=a(9),m=a(34),d=a.n(m),u=(a(70),Object(i.promiseTrackerHoc)((function(e){return e.promiseInProgress&&r.a.createElement("div",{className:"spinner"},r.a.createElement(d.a,{type:"ThreeDots",color:"#690483",height:100,width:100}))}))),p=(a(71),a(1)),f=a(2),g=a(4),h=a(3),b=a(5),v=a(7),E=a(17),y=a(35),N=a(36),O=a(37),j=a(24),k=(a(75),a(8)),w=(a(76),document.querySelector("#modal")),x=function(e){var t=e.isModalOpen;return r.a.createElement("div",{className:t?"modalRoot":""},r.a.createElement("div",{className:"modal--box ".concat(t?"active":"")},r.a.createElement("div",{className:"d-flex justify-content--s-between position-relative"},r.a.createElement("div",{className:"modal-content--btn"},e.contentBtn?e.contentBtn:null),r.a.createElement("i",{className:"fas fa-times close font-md",onClick:function(t){return e.toggleModal(t)}})),r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("h4",{className:"modal--heading"},e.contentTitle),e.contentBody)))},I=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).state={},a.modalDiv=document.createElement("div"),a.modalDiv.classList.add("modal--wrapper"),a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){w.appendChild(this.modalDiv)}},{key:"componentWillUnmount",value:function(){w.removeChild(this.modalDiv)}},{key:"render",value:function(){return Object(o.createPortal)(r.a.createElement(x,this.props),this.modalDiv)}}]),t}(n.Component),D=a(11);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var U=Object(n.createContext)(),S=U.Consumer,M=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).updateAccount=function(e){a.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(D.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e))},a.state={data:{userId:null,token:null,account_type:null,jobRole:null,department:null,gender:null},updateAccount:function(e){return a.updateAccount(e)}},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidUpdate",value:function(){var e="https://res.cloudinary.com/dx5lp5drd/image/upload/v1574682959/businessman-310819_640_guvqva.png",t="https://res.cloudinary.com/dx5lp5drd/image/upload/v1574682959/user-310807_640_wgamok.png",a=JSON.parse(JSON.stringify(this.state.data)),n=a.photoDetails,r=a.gender;null===n&&(a.photoDetails="male"===r?[e,null]:[t,null],this.setState({data:a}))}},{key:"render",value:function(){return console.log(this.state),r.a.createElement(U.Provider,{value:this.state},this.props.children)}}]),t}(r.a.Component),F=a(6),T=(a(18),Object(n.createContext)(),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,r=t.password,o=a.props.history,c={email:n,password:r};Object(i.trackPromise)(Object(F.sendData)("".concat(F.apiKey,"/auth/signin"),c).then((function(e){var t={isLoggedIn:!0,data:e.data};a.props.updateAccount(t),"admin"===e.data.accountType?o.push("/admin/dashboard"):o.push("/user")})).catch((function(e){var t=e.error;console.log(t),console.log(e),a.setState({error:t.split(",")[0]})})))},a.onChange=function(e){e.preventDefault();var t=e.target;a.setState(Object(D.a)({},t.name,t.value))},a.state={email:"",password:"",error:""},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state),r.a.createElement("form",{className:"form",method:"POST",ref:"LoginForm"},r.a.createElement("label",null," Email",r.a.createElement("input",{type:"email",name:"email",placeholder:"Enter your email",className:"form-control",value:this.state.email,onChange:function(t){return e.onChange(t)}})),r.a.createElement("label",null," Password",r.a.createElement("input",{type:"password",name:"password",placeholder:"Enter Password",className:"form-control",value:this.state.password,onChange:function(t){return e.onChange(t)}})),r.a.createElement("span",{className:"d-block italic danger-text font-sm padding-bottom-sm font-weight-bold"},this.state.error),r.a.createElement("input",{onClick:function(t){return e.handleSubmit(t)},type:"submit",value:"Sign in",className:"submit--btn"}))}}]),t}(n.Component)),P=Object(E.g)(T),A=(a(79),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).toggleModal=function(e){e.preventDefault();var t=e.target;console.log(t);var n=Object(k.a)(t.classList);console.log(n),n.includes("close")?a.setState({isModalOpen:!1}):a.setState({isModalOpen:!0}),console.log(a.state.isModalOpen)},a.state={isModalOpen:!1},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.state.isModalOpen;return console.log(t),r.a.createElement("header",{className:"landingPage-header page-padding"},r.a.createElement("nav",{className:"padding-top-sm d-flex align-items--center justify-content--s-between"},r.a.createElement(v.b,{to:"/"},r.a.createElement("div",{className:"favicon color-white"},r.a.createElement("span",{className:"italic font-lg"},"T"),r.a.createElement("span",{className:"font-sm"},"eam"),r.a.createElement("span",{className:"italic font-lg"},"W"),r.a.createElement("span",{className:"font-sm"},"ork"))),r.a.createElement("div",{className:"d-inline-block btn",onClick:function(t){return e.toggleModal(t)}},"Sign in")),r.a.createElement("div",{className:"d-flex align-items--center justify-content--s-between margin-top-lg"},r.a.createElement("div",{className:"desc color-white"},r.a.createElement("div",{className:"padding-bottom-md"},r.a.createElement("h1",{className:"font-xlg padding-bottom-md"},"Build a stronger team spirit with your co-workers."),r.a.createElement("p",{className:"font-md text-content"},"Teamwork is an internal social network specifically designed for companies to aid the communication strength among employees and the administrator.")),r.a.createElement("div",{className:"d-inline-block btn",onClick:function(t){return e.toggleModal(t)}},"Sign in")),r.a.createElement("div",{className:"desc d-flex align-items--center"},r.a.createElement("img",{src:"https://res.cloudinary.com/dx5lp5drd/image/upload/v1574682959/avatar-2191932_1280-removebg-preview_wqs7ev.png",alt:"",style:{width:"100%",height:"auto"}}),r.a.createElement("div",{className:"bckgr-white border-r-10 padding-md",style:{width:"100%",height:"auto"}},r.a.createElement("p",{className:"font-md text-content color2 font-weight-600",style:{fontStyle:"italic"}},"Learn, share ideas... Collaborate with your team and build a stronger connectivity that will surely reveal the hidden success. Teamwork!!!")))),r.a.createElement(S,null,(function(a){var n=a.updateAccount;return r.a.createElement(I,{toggleModal:e.toggleModal,isModalOpen:t,contentTitle:" Sign in",contentBody:r.a.createElement(P,{updateAccount:n})})})))}}]),t}(n.Component)),L=(a(23),function(e){var t=e.target,a=document.querySelector(".aside.left");t.classList.contains("close")?a.classList.remove("show"):a.classList.add("show"),console.log(a.classList),console.log(t)}),_=function(e){var t=e.target,a=document.querySelector(".aside.right");t.classList.contains("close")?a.classList.remove("show"):a.classList.add("show"),console.log(a.classList),console.log(t)},G=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).handleLogout=function(){var e=a.props;(0,e.updateAccount)({isLoggedIn:!1,userData:e.userData})},a.state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props.userData,a=t.photoDetails,n=t.interests,o=t.accountType;return console.log(this.props.userAccount),r.a.createElement("aside",{className:"aside left padding-top-sm"},r.a.createElement("div",{className:"position-relative"},r.a.createElement("i",{className:"fas fa-times close color-white font-sm cursor-pointer",onClick:function(e){return L(e)}})),r.a.createElement("div",{className:"padding-top-md"},r.a.createElement("div",{className:"about-user border-line--h d-flex justify-content--center column align-items--center padding-bottom-sm"},r.a.createElement(v.b,{to:"/user/profile",className:"user_avatar avatar--lg"},r.a.createElement("img",{src:a[0],alt:"user avatar"})),r.a.createElement("div",{className:"interests margin-top-md d-flex padding-md"},null!==n?n.map((function(e,t){return r.a.createElement("span",{key:t,className:"margin-right-sm margin-bottom-sm btn font-sm padding-sm"},e)})):null)),r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("ul",{className:"margin-bottom-md"},"admin"===o?r.a.createElement(v.b,{to:"/admin/dashboard"},r.a.createElement("li",{className:"sidebar-link padding-bottom-md margin-bottom-sm cursor-pointer"},r.a.createElement("i",{className:"fas fa-cogs color-white padding-right-sm font-sm"}),r.a.createElement("span",{className:"sidebar--link-text font-sm"},"Admin Panel"))):null,r.a.createElement("li",{className:"sidebar-link padding-bottom-md margin-bottom-sm cursor-pointer"},r.a.createElement("i",{className:"fas fa-newspaper color-white padding-right-sm font-md"}),r.a.createElement("span",{className:"sidebar--link-text font-md"},"Dashboard")),r.a.createElement("li",{className:"sidebar-link padding-bottom-md margin-bottom-sm cursor-pointer cursor-pointer",onClick:function(){return e.handleLogout()}},r.a.createElement("i",{className:"fas fa-sign-out-alt color-white padding-right-sm font-sm"}),r.a.createElement("span",{className:"sidebar--link-text font-md"},"Log out"))))))}}]),t}(n.Component),R=Object(n.createContext)(),B=(R.Consumer,function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e)))._isMounted=!1,a.addUser=function(e){a.setState({users:Object(k.a)(e)})},a.state={users:[],addUser:function(e){return a.addUser(e)}},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return console.log(this.state),r.a.createElement(R.Provider,{value:this.state},this.props.children)}}]),t}(r.a.Component)),W=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.context.users;console.log(e),e=e.map((function(e){return{photoDetails:e.photoDetails,firstName:e.firstName,lastName:e.lastName,employeeId:e.employeeId}}));var t=this.props.userId;return console.log(e),r.a.createElement("aside",{className:"aside right bckgr-white padding-top-md"},r.a.createElement("div",{className:"position-relative"},r.a.createElement("i",{className:"fas fa-times close font-sm cursor-pointer",onClick:function(e){return _(e)}}),r.a.createElement("div",{className:"accordion"},r.a.createElement("div",{className:"accordion--btn d-flex justify-content--center"},r.a.createElement("span",{className:"font-md font-weight-600"},"All Colleagues")),r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("ul",{className:"online--users"},e.map((function(e,a){var n=e.photoDetails,o=e.firstName,c=e.lastName,l=e.employeeId;return r.a.createElement(v.b,{to:"".concat(t===l?"/user/profile":"/user/".concat(o,"_").concat(c)),key:a},r.a.createElement("li",{className:"user d-flex align-items--center margin-bottom-md nowrap action",key:a},r.a.createElement("div",{className:"position-relative"},r.a.createElement("img",{className:"avatar--sm icon",src:n[0],alt:"poster avatar"}),r.a.createElement("span",{className:"online"})),r.a.createElement("span",{className:"font-sm username"},"".concat(o," ").concat(c," ").concat(t===l?"(You)":""))))})))))))}}]),t}(n.Component);W.contextType=R;var K=W,J=Object(n.createContext)(),q=J.Consumer,H=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).updateFeed=function(e){a.setState({feed:Object(k.a)(e)})},a.state={feed:[],updateFeed:function(e){return a.updateFeed(e)}},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return console.log(this.state),r.a.createElement(J.Provider,{value:this.state},this.props.children)}}]),t}(r.a.Component),V=(a(31),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).checkIfUserFlagged=function(e,t){return e.find((function(e){return t===e.userId}))},a.state={flagStats:[]},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.feedId,n=t.feedType,r=t.userData,o=t.comment.id,c=r.userId,l=r.token,s="article"===n?"articles":"gifs";Object(F.getData)("".concat(F.apiKey,"/").concat(s,"/").concat(a,"/comment/").concat(parseInt(o,10),"/flagStats"),c,l).then((function(t){var a=t.data;e.setState({flagStats:Object(k.a)(a)}),console.log(t)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.props,t=e.comment,a=e.users,n=e.userData.userId,o=this.state.flagStats,c=a.find((function(e){return e.employeeId===t.userid})),l=c.photoDetails,s=c.firstName,i=c.lastName;return r.a.createElement("div",{className:"margin-bottom-sm border-line--h"},r.a.createElement("div",{className:"margin-bottom-sm"},r.a.createElement("div",{className:"d-flex justify-content--s-between align-items--center margin-bottom-sm"},r.a.createElement("div",{className:"poster--details"},r.a.createElement("img",{className:"avatar--sm icon",src:l[0],alt:"poster avatar"}),r.a.createElement("span",{className:"poster--username"},"".concat(s," ").concat(i))),r.a.createElement("div",{className:"flag-stats "},r.a.createElement("i",{className:"fas fa-flag margin-right-sm cursor-pointer ".concat(this.checkIfUserFlagged(o,n)?"danger-text":"")}),r.a.createElement("span",{className:"flag font-weight-bold padding-sm border-r-circle"},0===o.length?"":o.length))),r.a.createElement("div",{className:"post-time margin-bottom-sm"},r.a.createElement("span",null,t.createdon))),r.a.createElement("div",{className:"comment-content margin-bottom-sm"},r.a.createElement("div",{className:"text-content padding-bottom-sm"},r.a.createElement("p",null,t.comment))))}}]),t}(n.Component)),z=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).handleUserInput=function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value;a.setState(Object(D.a)({},n,r),(function(){console.log(a.state)}))},a.handleSubmit=function(e){e.preventDefault();var t=a.context.data,n=t.userId,r=t.token,o=a.props,c=o.feedId,l="article"===o.feedType?"articles":"gifs",s={comment:a.state.comment,userId:parseInt(n,10)};Object(F.sendData)("".concat(F.apiKey,"/").concat(l,"/").concat(c,"/comment"),s,r).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},a.state={comment:""},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.context.data,a=t.userId,n=t.token,o=this.props,c=o.feedId,l=o.comments,s=o.users,i=o.feedType;return console.log(l),r.a.createElement("div",{className:"comment--section"},l.map((function(e,t){return r.a.createElement(V,{key:t,comment:e,feedId:c,feedType:i,users:s,userData:{userId:a,token:n}})})),r.a.createElement("form",{className:"form d-flex position-relative",style:{width:"100%"}},r.a.createElement("textarea",{className:"textarea padding-md padding-bottom-lg padding-right-lg font-md margin-bottom-sm",onChange:function(t){return e.handleUserInput(t)},name:"comment",value:this.state.comment,placeholder:"Post Comment"}),r.a.createElement("i",{className:"fas fa-paper-plane color2 font-lg",style:{position:"absolute",bottom:"20px",right:"25px"},onClick:function(t){return e.handleSubmit(t)}})))}}]),t}(n.Component);z.contextType=U;var Y=z,$=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).handleUserInput=function(e){e.preventDefault();var t=e.target;console.log(t);var n=t.name,r=t.value;if("category"===n){var o=r.split(",");return a.setState(Object(D.a)({},n,Object(k.a)(o))),void console.log(a.state)}a.setState(Object(D.a)({},n,r)),console.log(a.state)},a.handleSubmit=function(e){e.preventDefault();var t=a.context,n=t.feed,r=t.updateFeed,o=a.props.userData,c=o.userId,l=o.token,s=a.state,m=s.title,d=s.articleBody,u=s.category,p=s.articleId,f={title:m,article:d,userId:parseInt(c,10),category:0===u.length?null:u};Object(i.trackPromise)(Object(F.modifyData)("".concat(F.apiKey,"/articles/").concat(p),f,l,!1).then((function(e){console.log(e.data);var t=e.data,o=t.title,c=t.article,l=t.category,s=n.map((function(e){return e.id===p&&(e.title=o,e.category=l,e.content=c),e}));r(s),a.props.closeModal()})).catch((function(e){console.log(e);var t=e.error;console.log(t)})))},a.state={title:a.props.title,articleBody:a.props.article,category:a.props.category,articleId:a.props.articleId,formIsValid:!0,error:{title:"title should not be empty",articleBody:"Content should not be empty",category:[]}},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.state.formIsValid;return r.a.createElement("form",{style:{width:"400px"},className:"form",method:"POST",ref:"createGif"},r.a.createElement("label",null," Title",r.a.createElement("input",{type:"text",name:"title",placeholder:"Enter title",className:"form-control",value:this.state.title,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement("span",{className:"error-msg italic padding-sm"}),r.a.createElement("label",null," Category",r.a.createElement("input",{type:"text",name:"category",placeholder:"(Optional) separate every category with ','",className:"form-control",value:this.state.category,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement("span",{className:"error-msg italic padding-sm"}),r.a.createElement("label",null,"Content",r.a.createElement("textarea",{type:"text",name:"articleBody",placeholder:"What's happening?",className:"form-control textarea",value:this.state.articleBody,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement("span",{className:"error-msg italic padding-sm"}),r.a.createElement("button",{disabled:!t,className:"submit--btn ".concat(t?"":"isInvalid"),onClick:function(t){return e.handleSubmit(t)}},"Update"))}}]),t}(n.Component);$.contextType=J;var Q=$,X=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).handleUserInput=function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value;"file"!==n?a.setState(Object(D.a)({},n,r),(function(){console.log(a.state)})):a.setState({fileURL:URL.createObjectURL(e.target.files[0]),file:e.target.files[0]})},a.assignArray=function(e){return(e=e.split(",")).length<=0?null:e},a.handleSubmit=function(e){e.preventDefault();var t=a.context,n=t.feed,r=t.updateFeed,o=a.props.userData,c=o.token,l=o.userId,s=a.state,m=s.title,d=s.category,u=s.file,p=s.gifId;d=a.assignArray(d);var f=new FormData;f.append("files",u),f.append("title",m),f.append("category",d),f.append("userId",l),e.target.value="Publishing...",Object(i.trackPromise)(Object(F.sendData)("".concat(F.apiKey,"/gifs/").concat(p),f,c).then((function(t){e.target.value="Publish";var a=t.data;n=[a].concat(Object(k.a)(n)),r(n),console.log(t)})).catch((function(e){console.log(e)})))},a.state={title:a.props.title,category:a.props.category,gifId:a.props.feedId,file:null,fileURL:a.props.publicUrl},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"form",method:"POST",ref:"ModifyGIF"},r.a.createElement("label",null," GIF title",r.a.createElement("input",{type:"text",name:"title",placeholder:"Enter title",className:"form-control",value:this.state.title,onChange:function(t){return e.handleUserInput(t)}}),r.a.createElement("span",{className:"error-msg italic padding-sm"})),r.a.createElement("label",null," Category",r.a.createElement("input",{type:"text",name:"category",placeholder:"(Optional) separate every category with ','",className:"form-control",value:this.state.category,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement("span",{className:"error-msg italic padding-sm"}),r.a.createElement("div",{className:"file_display",style:{width:"150px",height:"150px",display:"".concat(null===this.state.fileURL?"none":"inline-block")}},r.a.createElement("img",{src:this.state.fileURL,alt:""})),r.a.createElement("div",{className:"padding-bottom-md"},r.a.createElement("label",{className:"btn--file d-inline-block"},r.a.createElement("div",{className:"upload--icon"},r.a.createElement("i",{className:"far fa-image font-md d-inline-block"}),r.a.createElement("span",{className:"padding-left-sm font-sm"},"Upload GIF...")),r.a.createElement("input",{type:"file",name:"file",multiple:!1,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement("span",{className:"error-msg italic padding-sm"})),r.a.createElement("input",{onClick:function(t){return e.handleSubmit(t)},type:"submit",value:"Publish",className:"submit--btn"}))}}]),t}(n.Component);X.contextType=J;var Z=X,ee=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).closeModal=function(){return a.setState({isModalOpen:!1})},a.toggleModal=function(e){e.preventDefault();var t=e.target;console.log(t);var n=Object(k.a)(t.classList);console.log(n),n.includes("close")?a.setState({isModalOpen:!1}):a.setState({isModalOpen:!0}),console.log(a.state.isModalOpen)},a.checkIfUserFlagged=function(e,t){return e.find((function(e){return t===e.userId}))},a.modifyArticle=function(e){e.preventDefault();var t=e.target,n=Object(k.a)(t.classList);console.log(n),n.includes("close")?a.setState({renderArticleForm:!1}):a.setState({renderArticleForm:!0})},a.modifyGIF=function(e){e.preventDefault();var t=e.target,n=Object(k.a)(t.classList);console.log(n),n.includes("close")?a.setState({renderGIF:!1}):a.setState({renderGIF:!0})},a.handleDelete=function(e){e.preventDefault();var t=a.props,n=t.feed,r=n.type,o=n.id,c=t.allFeed,l=t.updateFeed,s=t.userData,m=s.token,d=s.userId,u="article"===r?"articles":"gifs";Object(i.trackPromise)(Object(F.deleteData)("".concat(F.apiKey,"/").concat(u,"/").concat(o),d,m).then((function(){var e=c.filter((function(e){return e.id!==o}));l(e)})).catch((function(e){return console.log(e)})))},a.contentType=function(e,t,a,n){switch(e){case"article":return r.a.createElement("div",{className:"text-content padding-bottom-sm"},r.a.createElement("p",{className:"font-weight-bold font-md padding-bottom-sm"},n),r.a.createElement("p",{className:"font-sm",style:{overflowY:"hidden",maxHeight:"150px"}},a[0]),r.a.createElement(v.b,{to:"/articles/".concat(t)},r.a.createElement("span",{className:"padding-sm paint-text font-weight-bold"},"...Read More")));case"gif":return r.a.createElement("div",{className:"padding-bottom-sm"},r.a.createElement("p",{className:"font-weight-bold font-sm padding-bottom-md"},n),r.a.createElement("div",{className:"d-flex justify-content--center align-items--center padding-bottom-md"},r.a.createElement("div",{className:"",style:{width:"70%",height:"150px",overflow:"hidden"}},r.a.createElement("img",{className:"",style:{width:"100%",height:"auto"},src:a[0],publicId:a[1],alt:"poster avatar"}))),r.a.createElement(v.b,{to:"/gifs/".concat(t)},r.a.createElement("span",{className:"padding-md paint-text font-weight-bold"},"...View full size")))}},a.state={isModalOpen:!1,renderArticleForm:!1,renderGIF:!1},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.context.users;t=t.map((function(e){return{employeeId:e.employeeId,photoDetails:e.photoDetails,firstName:e.firstName,lastName:e.lastName}}));var a=this.props.feed,n=a.id,o=a.title,c=a.category,l=a.content,s=a.userid,i=a.type,m=a.flagStat,d=a.comments,u=t.find((function(e){return e.employeeId===s}));console.log(u);var p=u.photoDetails,f=u.firstName,g=u.lastName,h=u.employeeId,b=this.props.feed.createdon;b=new Date(b).toUTCString();var E=this.props.userData,y=E.userId,N=E.token;return console.log(y),r.a.createElement("article",{className:"story margin-bottom-md"},h===parseInt(y,10)?r.a.createElement("div",{className:"d-flex",style:{justifyContent:"flex-end"}},r.a.createElement("div",{className:"padding-bottom-sm trigger-more-action cursor-pointer position-relative"},r.a.createElement("i",{className:"fas fa-ellipsis-h font-md font-weight-bold color-dark tooltip"}),r.a.createElement("div",{className:"more-option padding-md border-r-10"},r.a.createElement("div",{className:"d-flex align-items-end font-weight-bold margin-bottom-sm padding-sm padding-bottom-xsm",onClick:function(t){return e.handleDelete(t)}},r.a.createElement("i",{className:"fas fa-trash font-sm margin-right-sm"}),r.a.createElement("span",{className:"font-sm"},"Delete ","article"===i?"article":"GIF")),r.a.createElement("div",{className:"d-flex align-items-end font-weight-bold padding-sm padding-bottom-xsm",onClick:function(t){return"article"===i?e.modifyArticle(t):e.modifyGIF(t)}},r.a.createElement("i",{className:"fas fa-pen font-sm margin-right-sm"}),r.a.createElement("span",{className:"font-sm"},"Edit ","article"===i?"article":"GIF"))))):null,r.a.createElement("div",{className:"margin-bottom-sm"},r.a.createElement("div",{className:"d-flex justify-content--s-between margin-bottom-sm"},r.a.createElement("div",{className:"poster--details"},r.a.createElement(v.b,{to:h===parseInt(y,10)?"/user/profile":"/user/".concat(f,"_").concat(g),style:{color:"#000"}},r.a.createElement("div",{className:"d-flex nowrap"},r.a.createElement("img",{className:"avatar--sm icon",src:p[0],alt:"poster avatar"}),r.a.createElement("div",{className:"d-flex column"},r.a.createElement("span",{className:"poster--username text-content font-weight-bold margin-bottom-xsm"},"".concat(f," ").concat(g)),r.a.createElement("div",{className:"margin-bottom-sm"},r.a.createElement("span",{className:"d-block"},"2 minutes ago")))))),r.a.createElement("div",{className:"flag-stats justify-self-end"},r.a.createElement("i",{className:"fas fa-flag margin-right-sm cursor-pointer ".concat(this.checkIfUserFlagged(m,y)?"danger-text":"")}),r.a.createElement("span",{className:"flag font-weight-bold font-md padding-sm border-r-circle"},0===m.length?"":m.length)))),r.a.createElement("div",{className:"post-content margin-bottom-sm"},this.contentType(i,n,l,o)),r.a.createElement("div",{className:"category"},c.map((function(e,t){return r.a.createElement("span",{key:t,className:"border-r-10 text-content italic font-sm font-weight-600 bckgr-color2 color-white padding-sm margin-right-sm margin-bottom-sm"},e)}))),r.a.createElement("div",{className:"comment--flag--section padding-top-sm"},r.a.createElement("div",{className:"stats d-flex justify-content--s-between align-items--center margin-bottom-sm\r padding-bottom-sm"},r.a.createElement("div",{className:"comment-stats font-weight-bold cursor-pointer"},r.a.createElement("i",{className:"fas fa-comments margin-right-sm paint-text"}),r.a.createElement("span",{className:"value comment icon"},d.length)),r.a.createElement("div",{className:"action padding-sm",id:"add--comment",style:{border:"1px solid #a0a0a0",borderRadius:"10px",justifySelf:"flex-end"},onClick:function(t){return e.toggleModal(t)}},r.a.createElement("i",{className:"fas fa-comment icon color2"}),r.a.createElement("span",{className:"font-weight-bold"},"Comment")))),r.a.createElement(I,{toggleModal:this.toggleModal,isModalOpen:this.state.isModalOpen,contentTitle:"View Comments",contentBody:r.a.createElement(Y,{comments:d,feedId:n,users:t,feedType:i})}),r.a.createElement(I,{toggleModal:this.modifyArticle,isModalOpen:this.state.renderArticleForm,contentTitle:"Modify Article",contentBody:r.a.createElement(Q,{title:o,article:l[0],category:c,articleId:n,userData:{userId:y,token:N},closeModal:this.closeModal})}),r.a.createElement(I,{toggleModal:this.modifyGIF,isModalOpen:this.state.renderGIF,contentTitle:"Modify GIF",contentBody:r.a.createElement(Z,{title:o,publicUrl:l[0],category:c,gifId:n,userData:{userId:y,token:N},closeModal:this.closeModal})}))}}]),t}(n.Component);ee.contextType=R;var te=ee,ae=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).handleUserInput=function(e){e.preventDefault();var t=e.target;console.log(t);var n=t.name,r=t.value;if("category"!==n)a.setState(Object(D.a)({},n,r)),console.log(a.state);else{var o=r.split(",");a.setState(Object(D.a)({},n,o))}},a.handleSubmit=function(e){e.preventDefault();var t=a.context,n=t.feed,r=t.updateFeed,o=a.props.userData,c=o.userId,l=o.token,s=a.state,m=s.title,d=s.articleBody,u=s.category,p={title:m,article:d,userId:parseInt(c,10),category:0===u.length?null:u};console.log(p),Object(i.trackPromise)(Object(F.sendData)("".concat(F.apiKey,"/articles"),p,l).then((function(e){console.log(e.data);e.status;var t=e.data;r.apply(void 0,[t].concat(Object(k.a)(n)))})).catch((function(e){e.error;console.log(e)})))},a.state={title:"",articleBody:"",category:"",formIsValid:!0,error:{title:"title should not be empty",articleBody:"Content should not be empty",category:[]}},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.state.formIsValid;return r.a.createElement("form",{style:{width:"400px"},className:"form",method:"POST",ref:"createGif"},r.a.createElement("label",null," Title",r.a.createElement("input",{type:"text",name:"title",placeholder:"Enter title",className:"form-control",value:this.state.title,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement("span",{className:"error-msg italic padding-sm"}),r.a.createElement("label",null," Category",r.a.createElement("input",{type:"text",name:"category",placeholder:"(Optional) separate every category with ','",className:"form-control",value:this.state.category,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement("span",{className:"error-msg italic padding-sm"}),r.a.createElement("label",null,"Content",r.a.createElement("textarea",{type:"text",name:"articleBody",placeholder:"What's happening?",className:"form-control textarea",value:this.state.articleBody,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement("span",{className:"error-msg italic padding-sm"}),r.a.createElement("button",{disabled:!t,className:"submit--btn ".concat(t?"":"isInvalid"),onClick:function(t){return e.handleSubmit(t)}},"Publish"))}}]),t}(n.Component);ae.contextType=J;var ne=ae,re=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).handleUserInput=function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value;"file"!==n?a.setState(Object(D.a)({},n,r),(function(){console.log(a.state)})):a.setState({fileURL:URL.createObjectURL(e.target.files[0]),file:e.target.files[0]})},a.assignArray=function(e){return(e=e.split(",")).length<=0?null:e},a.handleSubmit=function(e){e.preventDefault();var t=a.context,n=t.feed,r=t.updateFeed,o=a.props.userData,c=o.token,l=o.userId,s=a.state,m=s.title,d=s.category,u=s.file;d=a.assignArray(d);var p=new FormData;p.append("files",u),p.append("title",m),p.append("category",d),p.append("userId",l),e.target.value="Publishing...",Object(i.trackPromise)(Object(F.sendData)("".concat(F.apiKey,"/gifs"),p,c,!0).then((function(t){e.target.value="Publish";var a=t.data;n=[a].concat(Object(k.a)(n)),r(n),console.log(t)})).catch((function(e){console.log(e)})))},a.state={title:"",category:"",file:null,fileURL:null},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"form",method:"POST",ref:"createGif"},r.a.createElement("label",null," GIF title",r.a.createElement("input",{type:"text",name:"title",placeholder:"Enter title",className:"form-control",value:this.state.title,onChange:function(t){return e.handleUserInput(t)}}),r.a.createElement("span",{className:"error-msg italic padding-sm"})),r.a.createElement("label",null," Category",r.a.createElement("input",{type:"text",name:"category",placeholder:"(Optional) separate every category with ','",className:"form-control",value:this.state.category,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement("span",{className:"error-msg italic padding-sm"}),r.a.createElement("div",{className:"file_display padding-bottom-sm",style:{width:"150px",height:"auto",display:"".concat(null===this.state.fileURL?"none":"inline-block")}},r.a.createElement("img",{src:this.state.fileURL,alt:"",style:{width:"100%",height:"auto"}})),r.a.createElement("div",{className:"padding-bottom-md"},r.a.createElement("label",{className:"btn--file d-inline-block"},r.a.createElement("div",{className:"upload--icon"},r.a.createElement("i",{className:"far fa-image font-md d-inline-block"}),r.a.createElement("span",{className:"padding-left-sm font-sm"},"Upload GIF...")),r.a.createElement("input",{type:"file",name:"file",multiple:!1,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement("span",{className:"error-msg italic padding-sm"})),r.a.createElement("input",{onClick:function(t){return e.handleSubmit(t)},type:"submit",value:"Publish",className:"submit--btn"}))}}]),t}(n.Component);re.contextType=J;var oe=re,ce=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).setArticleForm=function(){a.setState({activeComp:"article"})},a.setGIF=function(){a.setState({activeComp:"gif"})},a.state={activeComp:"article"},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.state.activeComp;return console.log(t),r.a.createElement(S,null,(function(a){var n=a.data,o=n.token,c=n.userId;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:"control--btns position-relative margin-bottom-md"},r.a.createElement("span",{type:"article",onClick:function(){return e.setArticleForm()},className:"accordion--btn font-weight-600 ".concat("article"===t?"active":""," margin-right-sm")},"Article"),r.a.createElement("span",{type:"gif",onClick:function(){return e.setGIF()},className:"accordion--btn font-weight-600 ".concat("gif"===t?"active":""," margin-right-sm ")},"GIF")),r.a.createElement("h3",{className:"modal--heading"},"article"===t?"Write an article":"Share GIF")),r.a.createElement("div",null,"gif"===t?r.a.createElement(oe,{userData:{token:o,userId:c}}):r.a.createElement(ne,{userData:{token:o,userId:c}})))}))}}]),t}(n.Component),le=function(e){return r.a.createElement("div",{className:"d-flex justify-content--center align-items--center"},r.a.createElement("span",{className:"font-lg gray-color font-weight-600"},e))},se=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).toggleModal=function(e){e.preventDefault();var t=e.target;console.log(t);var n=Object(k.a)(t.classList);console.log(n),n.includes("close")?a.setState({isModalOpen:!1}):a.setState({isModalOpen:!0}),console.log(a.state.isModalOpen)},a.assignProperties=function(e,t,a){var n=e.map((function(e){var n=t.filter((function(t){return t.contentid===parseInt(e.id,10)})),r=a.filter((function(t){return t.contentid===e.id}));return e.comments=n,e.flagStat=r,e}));return console.log(n),n},a.renderFeed=function(e){var t=a.context.data,n=t.userId,o=t.firstName,c=t.lastName,l=t.token,s=a.props,i=s.updateFeed,m=s.feed;return 0!==e.length?e.map((function(e,t){return r.a.createElement(te,{key:t,feed:e,allFeed:m,updateFeed:i,userData:{userId:n,firstName:o,lastName:c,token:l}})})):le("No post to show!!! Why not be the first to own a content? Click the plus button above")},a.state={isModalOpen:!1},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.context.data,a=t.token,n=t.userId,r=this.props,o=r.updateFeed,c=r.feed;0===c.length&&Object(i.trackPromise)(Object(F.getData)("".concat(F.apiKey,"/feed"),n,a).then((function(t){console.log(t);var a=t.data,n=a.content,r=a.comments,l=a.flags;c=[].concat(Object(k.a)(e.assignProperties(n,r,l)),Object(k.a)(c)),console.log(c),o(c),console.log(t)})).catch((function(e){console.log(e)})))}},{key:"render",value:function(){var e=this,t=this.props.feed;return r.a.createElement("div",null,r.a.createElement("div",{className:"create--post margin-bottom-md"},r.a.createElement("i",{className:"fas fa-plus-circle font-xlg action",onClick:function(t){return e.toggleModal(t)}})),r.a.createElement("section",null,this.renderFeed(t)),r.a.createElement(I,{toggleModal:this.toggleModal,isModalOpen:this.state.isModalOpen,contentTitle:"",contentBody:r.a.createElement(ce,null)}))}}]),t}(n.Component);se.contextType=U;var ie=se,me=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).toggleModal=function(e){e.preventDefault();var t=e.target;console.log(t);var n=Object(k.a)(t.classList);console.log(n),n.includes("close")?a.setState({isModalOpen:!1}):a.setState({isModalOpen:!0}),console.log(a.state.isModalOpen)},a.checkIfUserFlagged=function(e,t){return e.find((function(e){return t===e.userId}))},a.modifyArticle=function(e){e.preventDefault();var t=e.target,n=Object(k.a)(t.classList);console.log(n),n.includes("close")?a.setState({renderArticleForm:!1}):a.setState({renderArticleForm:!0})},a.modifyGIF=function(e){e.preventDefault();var t=e.target,n=Object(k.a)(t.classList);console.log(n),n.includes("close")?a.setState({renderGIF:!1}):a.setState({renderGIF:!0})},a.contentType=function(e,t,a,n){switch(e){case"article":return r.a.createElement("div",{className:"text-content padding-bottom-sm"},r.a.createElement("p",{className:"gif-title font-weight-bold font-lg padding-bottom-md"},n),r.a.createElement("p",null,a[0]));case"gif":return r.a.createElement("div",{className:"padding-bottom-sm"},r.a.createElement("p",{className:"gif-title font-weight-bold font-lg padding-bottom-md"},n),r.a.createElement("div",{className:"d-flex justify-content--center align-items--center padding-bottom-md"},r.a.createElement("div",{className:"",style:{width:"70%",height:"150px",overflow:"hidden"}},r.a.createElement("img",{className:"",style:{width:"100%",height:"auto"},src:a[0],publicId:a[1],alt:"poster avatar"}))))}},a.state={isModalOpen:!1,renderArticleForm:!1,renderGIF:!1},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.context.users,a=this.props.match.params,n=a.gifId||a.articleId;t=t.map((function(e){return{employeeId:e.employeeId,photoDetails:e.photoDetails,firstName:e.firstName,lastName:e.lastName}}));var o=this.props.feed,c=o=o.find((function(e){return e.id===parseInt(n,10)})),l=c.id,s=c.title,i=c.category,m=c.content,d=c.userid,u=c.type,p=c.flagStat,f=c.comments,g=t.find((function(e){return e.employeeId===d}));console.log(g);var h=g.photoDetails,b=g.firstName,v=g.lastName,E=g.employeeId,y=o.createdon;y=new Date(y).toUTCString();var N=this.props.userData.userId;return console.log(N),r.a.createElement("article",{className:"story margin-bottom-md cursor-pointer"},E===parseInt(N,10)?r.a.createElement("div",{className:"d-flex",style:{justifyContent:"flex-end"}},r.a.createElement("div",{className:"padding-bottom-sm trigger-more-action cursor-pointer position-relative"},r.a.createElement("i",{className:"fas fa-ellipsis-h font-md font-weight-bold color-dark tooltip"}),r.a.createElement("div",{className:"more-option padding-md border-r-10"},r.a.createElement("div",{className:"d-flex align-items-end font-weight-bold margin-bottom-sm padding-bottom-xsm border-line--h"},r.a.createElement("i",{className:"fas fa-trash font-sm padding-right-sm"}),r.a.createElement("span",{className:"font-sm"},"Delete ","article"===u?"article":"GIF")),r.a.createElement("div",{className:"d-flex align-items-end font-weight-bold padding-bottom-xsm"},r.a.createElement("i",{className:"fas fa-pen font-sm padding-right-sm"}),r.a.createElement("span",{className:"font-sm",onClick:function(t){return"article"===u?e.modifyArticle(t):e.modifyGIF(t)}},"Edit ","article"===u?"article":"GIF"))))):null,r.a.createElement("div",{className:"margin-bottom-sm"},r.a.createElement("div",{className:"d-flex justify-content--s-between align-items--center margin-bottom-sm"},r.a.createElement("div",{className:"poster--details"},r.a.createElement("img",{className:"avatar--sm icon",src:h[0],alt:"poster avatar"}),r.a.createElement("span",{className:"poster--username"},"".concat(b," ").concat(v))),r.a.createElement("div",{className:"flag-stats justify-self-end"},r.a.createElement("i",{className:"fas fa-flag margin-right-sm cursor-pointer ".concat("danger-text")}),r.a.createElement("span",{className:"flag font-weight-bold font-md padding-sm danger-text border-r-circle"},p.length))),r.a.createElement("div",{className:"post-time margin-bottom-sm"},r.a.createElement("span",null,y))),r.a.createElement("div",{className:"post-content margin-bottom-sm"},this.contentType(u,l,m,s)),r.a.createElement("div",{className:"category"},r.a.createElement("div",{className:""},i.map((function(e,t){return r.a.createElement("span",{key:t,className:"border-r-10 font-sm font-weight-500 bckgr-color2 color-white padding-sm margin-right-sm margin-bottom-sm"},e)})))),r.a.createElement("div",{className:"comment--flag--section padding-top-sm"},r.a.createElement("div",{className:"stats d-flex justify-content--s-between align-items--center margin-bottom-sm\r padding-bottom-sm"},r.a.createElement("div",{className:"comment-stats font-weight-bold cursor-pointer"},r.a.createElement("i",{className:"fas fa-comments margin-right-sm paint-text"}),r.a.createElement("span",{className:"value comment icon"},f.length)),r.a.createElement("div",{className:"action padding-sm",id:"add--comment",style:{border:"1px solid #a0a0a0",borderRadius:"10px",justifySelf:"flex-end"},onClick:function(t){return e.toggleModal(t)}},r.a.createElement("i",{className:"fas fa-comment icon color2"}),r.a.createElement("span",{className:"font-weight-bold"},"Comment")))),r.a.createElement(I,{toggleModal:this.toggleModal,isModalOpen:this.state.isModalOpen,contentTitle:"View Comments",contentBody:r.a.createElement(Y,{comments:f,feedId:l,users:t,feedType:u})}),r.a.createElement(I,{toggleModal:this.modifyArticle,isModalOpen:this.state.renderArticleForm,contentTitle:"Modify Article",contentBody:r.a.createElement(Q,{title:s,article:m[0],category:i,articleId:l})}),r.a.createElement(I,{toggleModal:this.modifyGIF,isModalOpen:this.state.renderGIF,contentTitle:"Modify GIF",contentBody:r.a.createElement(Z,{title:s,publicUrl:m[0],category:i,gifId:l})}))}}]),t}(n.Component);me.contextType=R;var de=me;function ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ue(a,!0).forEach((function(t){Object(D.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ue(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var fe=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement("main",{className:"main"},r.a.createElement("div",{className:"content-wrapper"},r.a.createElement(v.a,null,r.a.createElement(H,null,r.a.createElement(q,null,(function(e){var t=e.updateFeed,a=e.feed;return r.a.createElement(E.d,null,r.a.createElement(E.b,{render:function(e){return r.a.createElement(ie,{path:"".concat(e.match.path),updateFeed:t,feed:a,props:pe({},e)})}}),r.a.createElement(E.b,{render:function(e){return r.a.createElement(de,{path:"/articles/:articleId",updateFeed:t,feed:a,props:pe({},e)})}}))}))))))}}]),t}(n.Component);fe.contextType=R;var ge=fe,he=function(e){var t="https://res.cloudinary.com/dx5lp5drd/image/upload/v1574682959/businessman-310819_640_guvqva.png",a="https://res.cloudinary.com/dx5lp5drd/image/upload/v1574682959/user-310807_640_wgamok.png";return e=JSON.parse(JSON.stringify(e)).map((function(e){console.log(e);var n=e.photoDetails,r=e.gender;return null===n&&(e.photoDetails="male"===r?[t,null]:[a,null]),e}))},be=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e)))._isMounted=!1,a.state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){this._isMounted=!0;var e=this.context,t=e.users,a=e.addUser;if(t.length<=0){var n=this.props.userData.data,r=n.userId,o=n.token;Object(F.getData)("".concat(F.apiKey,"/auth/users"),r,o).then((function(e){var t=e.data;t=he(t),a(t)})).catch((function(e){console.log(e)}))}}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props,t=e.updateAccount,a=e.userData.data,n=a.photoDetails,o=a.interests,c=a.userId;return r.a.createElement(v.a,null,r.a.createElement("section",{className:"page-section d-flex"},r.a.createElement(G,{path:this.props.match.path,userData:{photoDetails:n,interests:o},updateAccount:t}),r.a.createElement(E.b,{path:this.props.match.path,component:ge}),r.a.createElement(K,{userId:c})))}}]),t}(n.Component);be.contextType=R;var ve=be,Ee=(a(80),function(e,t,a){var n=e.map((function(e){var n=t.filter((function(t){return t.contentid===parseInt(e.id,10)})),r=a.filter((function(t){return t.contentid===e.id}));return e.comments=n,e.flagStat=r,e}));return console.log(n),n}),ye=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).renderFeed=function(e){var t=a.context.data,n=t.userId,o=t.firstName,c=t.lastName;return 0!==e.length?e.map((function(e,t){return r.a.createElement(te,{key:t,feed:e,userData:{userId:n,firstName:o,lastName:c}})})):le("No Content")},a.state={feed:[]},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.context.data,a=t.userId,n=t.token;Object(i.trackPromise)(Object(F.getData)("".concat(F.apiKey,"/feed/").concat(a),a,n).then((function(t){var a=t.data,n=a.content,r=a.comments,o=a.flags,c=Object(k.a)(Ee(n,r,o));e.setState({feed:Object(k.a)(c)})})).catch((function(e){return console.log(e)})))}},{key:"render",value:function(){var e=this.context.data,t=e.firstName,a=e.lastName,n=e.photoDetails,o=e.department,c=e.jobRole,l=e.gender,s=(e.interests,e.address),i=(e.userId,this.props.match);console.log(this.state.feed);var m=this.state.feed;return r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"profileDetails main margin-right-md"},r.a.createElement("div",{className:"profileHeader bckgr-white padding-left-lg padding-right-lg padding-md margin-right-sm position-relative"},r.a.createElement(v.b,{to:"".concat(i.url,"/edit#profile-pictire_username"),className:"position-relative",style:{position:"absolute",top:"25px",right:"30px"}},r.a.createElement("i",{className:"fas fa-pen font-lg color2 tooltip margin-bottom-sm cursor-pointer"}),r.a.createElement("div",{className:"view tooltip-text color-white bckgr-color2"},"Update avatar / username")),r.a.createElement("div",{className:"padding-md d-flex justify-content--s-between align-items--center"},r.a.createElement("div",{className:"avatar--lg cursor-pointer"},r.a.createElement("img",{src:n[0],alt:"user avatar"})),r.a.createElement("div",{className:"align-self-end"},r.a.createElement("div",{className:"font-lg font-weight-bold",style:{lineHeight:"30px"}},"".concat(t," ").concat(a)),r.a.createElement("span",{className:"gray-color"},"@",c)))),r.a.createElement("div",{className:"padding-md d-flex justify-content--s-between details"},r.a.createElement("div",{className:"about-section bckgr-white margin-bottom-sm padding-md padding-left-md"},r.a.createElement("ul",{className:"user_info"},r.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},r.a.createElement("i",{className:"far fa-building font-md color2 margin-right-sm"}),r.a.createElement("span",{className:"font-md font-weight-600"}," ",o)),r.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},r.a.createElement("i",{className:"fas fa-briefcase font-md color2 margin-right-sm"}),r.a.createElement("span",{className:"font-md font-weight-600"}," ",c)),r.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},r.a.createElement("i",{className:"fas fa-user, color2, font-md, padding-right-sm"}),r.a.createElement("span",{className:"font-md font-weight-600"}," ",l)),r.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},r.a.createElement("i",{className:"fas font-md fa-map-marker-alt"}),r.a.createElement("span",{className:"font-md font-weight-600"}," ",s))),r.a.createElement(v.b,{to:"".concat(i.url,"/edit#about-info"),eventname:"Edit About info",className:"bckgr-color2 d-inline-block padding-sm color-white border-r-10 cursor-pointer"},r.a.createElement("i",{className:"fas fa-pen font-sm margin-right-sm"}),"Edit About Info")),r.a.createElement("div",{className:"user-posts"},this.renderFeed(m)))),r.a.createElement(K,null))}}]),t}(n.Component);ye.contextType=U;var Ne=ye,Oe=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).handleUserInput=function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value;"file"!==n?a.setState(Object(D.a)({},n,r),(function(){console.log(a.state)})):a.setState({fileURL:URL.createObjectURL(e.target.files[0]),file:e.target.files[0]})},a.updateAvatar=function(e){e.preventDefault();var t=a.props,n=t.users,r=t.addUser,o=t.updateAccount,c=t.userData,l=t.userData,s=l.userId,m=l.token,d=t.history.push,u=a.state.file,p=new FormData;p.append("files",u),p.append("userId",s),e.target.value="Publishing...",Object(i.trackPromise)(Object(F.modifyData)("".concat(F.apiKey,"/auth/users/").concat(s),p,m,!0).then((function(e){var t=e.data.photoDetails;console.log(e),c.photoDetails=t,o(c),n=n.map((function(e){return e.employeeId===s&&(e.photoDetails=t),e})),r(n),d("/user/profile")})).catch((function(e){console.log(e)})))},a.userData=a.props.userData,a.state={email:a.userData.email,address:a.userData.address,gender:a.userData.gender,file:null,fileURL:a.userData.photoDetails[0]},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"linear-grad-bckgr d-flex justify-content--center align-items--center"},r.a.createElement("main",{className:"padding-lg"},r.a.createElement("div",{className:"wrapper d-flex"},r.a.createElement("aside",{className:"bckgr-white padding-lg margin-right-md margin-bottom-md"},r.a.createElement("section",{className:"",id:"profile-pictire_username"},r.a.createElement("h2",{className:"font-lg margin-bottom-md"},"Change Profile Picture"),r.a.createElement("form",{className:"form",encType:"multipart/form-data"},r.a.createElement("div",{className:"file_display padding-bottom-sm",style:{width:"200px",height:"auto",display:"".concat(null===this.state.fileURL?"none":"inline-block")}},r.a.createElement("img",{src:this.state.fileURL,alt:"",style:{width:"100%",height:"auto"}})),r.a.createElement("div",{className:"padding-bottom-md"},r.a.createElement("label",{className:"btn--file d-inline-block"},r.a.createElement("div",{className:"upload--icon"},r.a.createElement("i",{className:"far fa-image font-md d-inline-block"}),r.a.createElement("span",{className:"padding-left-sm font-sm"},"Upload")),r.a.createElement("input",{type:"file",name:"file",multiple:!1,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement("span",{className:"error-msg italic padding-sm"})),r.a.createElement("input",{onClick:function(t){return e.updateAvatar(t)},type:"submit",value:"Update",className:"submit--btn"})))),r.a.createElement("div",{className:"bckgr-white",id:"about-info"},r.a.createElement("section",{className:"padding-lg"},r.a.createElement("h2",{className:"font-lg margin-bottom-md"},"Update your info"),r.a.createElement("form",{className:"form",method:"POST",style:{width:"450px"}},r.a.createElement("label",null," Email",r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"email",name:"email",placeholder:"enter new email",className:"form-control",value:this.state.email})),r.a.createElement("div",{className:"padding-bottom-sm padding-top-sm"},r.a.createElement("h4",{className:"heading md padding-bottom-sm"},"Gender"),r.a.createElement("label",{className:"check radio position-relative padding-left-md margin-bottom-sm cursor-pointer font-md padding-bottom-xsm "}," ",r.a.createElement("span",null,"male"),r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"radio",value:"male",name:"gender",className:"form-control",id:"web_dev"}),r.a.createElement("span",{className:"checkmark border-r-circle"})),r.a.createElement("label",{className:"check radio position-relative padding-left-md margin-bottom-sm cursor-pointer font-md "},"female",r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"radio",value:"female",name:"gender",className:"form-control",id:"female"}),r.a.createElement("span",{className:"checkmark border-r-circle"}))),r.a.createElement("label",null," Address",r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"text",name:"address",placeholder:"Enter Address",className:"form-control",value:this.state.address})),r.a.createElement("input",{onClick:function(t){return e.handleSubmit(t)},type:"submit",value:"Create User",className:"submit--btn"})))))))}}]),t}(n.Component),je=Object(E.g)(Oe),ke=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).fetchFeed=function(){var e=a.findUser(a.username).employeeId;console.log(e);var t=a.props,n=t.userId,r=t.authToken.token;Object(i.trackPromise)(Object(F.getData)("".concat(F.apiKey,"/feed/").concat(e),n,r).then((function(e){var t=e.data,n=t.content,r=t.comments,o=t.flags,c=Object(k.a)(Ee(n,r,o));console.log(c),a.setState({feed:Object(k.a)(c)})})).catch((function(e){return console.log(e)})))},a.findUser=function(e){var t=e.split("_"),n=t[0],r=t[1],o=a.context.users.find((function(e){return e.firstName===n&&e.lastName===r})),c=o.photoDetails,l=o.department,s=o.jobRole,i=o.gender,m=o.interests,d=o.address,u=o.employeeId;return{firstName:n,lastName:r,photoDetails:c,department:l,jobRole:s,gender:i,interests:m,address:d,employeeId:u}},a.renderFeed=function(e){var t=a.props,n=t.userId,o=t.authToken.token;return 0!==e.length?e.map((function(e,t){return r.a.createElement(te,{key:t,feed:e,userData:{userId:n,token:o}})})):le("No Content")},a.username=a.props.match.params.username,a._isMounted=!1,a.state={feed:[]},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.fetchFeed()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props.match.params.username,t=this.findUser(e),a=t.firstName,n=t.lastName,o=t.photoDetails,c=t.department,l=t.jobRole,s=t.gender,i=(t.interests,t.address),m=this.state.feed;return console.log(m),r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"profileDetails main"},r.a.createElement("div",{className:"profileHeader bckgr-white padding-left-lg padding-right-lg padding-md margin-right-sm position-relative"},r.a.createElement("div",{className:"padding-md d-flex justify-content--s-between align-items--center"},r.a.createElement("div",{className:"avatar--lg cursor-pointer"},r.a.createElement("img",{src:o[0],alt:"user avatar"})),r.a.createElement("div",{className:"align-self-end"},r.a.createElement("div",{className:"font-lg font-weight-bold",style:{lineHeight:"30px"}},"".concat(a," ").concat(n)),r.a.createElement("span",{className:"gray-color"},"@",l)))),r.a.createElement("div",{className:"padding-md d-flex justify-content--s-between details"},r.a.createElement("div",{className:"about-section bckgr-white margin-bottom-sm padding-md padding-left-md"},r.a.createElement("ul",{className:"user_info"},r.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},r.a.createElement("i",{className:"far fa-building font-md color2 margin-right-sm"}),r.a.createElement("span",{className:"font-md font-weight-600"}," ",c)),r.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},r.a.createElement("i",{className:"fas fa-briefcase font-md color2 margin-right-sm"}),r.a.createElement("span",{className:"font-md font-weight-600"}," ",l)),r.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},r.a.createElement("i",{className:"fas fa-user, color2, font-md, padding-right-sm"}),r.a.createElement("span",{className:"font-md font-weight-600"}," ",s)),r.a.createElement("li",{className:"margin-bottom-md d-flex align-items-end"},r.a.createElement("i",{className:"fas font-md fa-map-marker-alt"}),r.a.createElement("span",{className:"font-md font-weight-600"}," ",i)))),r.a.createElement("div",{className:"user-posts"},this.renderFeed(m)))),r.a.createElement(K,null))}}]),t}(n.Component);ke.contextType=R;var we=ke,xe=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).renderNavLink=function(e,t){return"admin"===e?"/admin"===t?r.a.createElement(v.b,{to:{pathname:"/user/dashboard"}},r.a.createElement("li",{className:"cursor-pointer margin-right-md"},r.a.createElement("i",{className:"fas fa-newspaper font-lg"}))):r.a.createElement(v.b,{to:{pathname:"/admin/dashboard"}},r.a.createElement("li",{className:"cursor-pointer margin-right-md"},r.a.createElement("i",{className:"fas fa-user-shield font-lg"}))):null},a.state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=document.querySelector(".top--navbar");window.addEventListener("scroll",(function(){window.scrollY>0?e.classList.add("sticky_nav"):e.classList.remove("sticky_nav")}))}},{key:"componentWillUnmount",value:function(){var e=document.querySelector(".top--navbar");window.removeEventListener("scroll",(function(){window.scrollY>0?e.classList.add("sticky_nav"):e.classList.remove("sticky_nav")}))}},{key:"render",value:function(){var e=this.context.data,t=e.accountType,a=e.photoDetails,n=this.props.match.path;return r.a.createElement("header",null,r.a.createElement(v.b,{to:"/",className:"cursor-pointer"},r.a.createElement("div",{className:"bckgr-white padding-left-sm color2 favicon"},r.a.createElement("div",{className:"d-inline-block"},r.a.createElement("span",{className:"paint-text italic font-sm"},"T"),r.a.createElement("span",{className:"font-xsm"},"eam"),r.a.createElement("span",{className:"paint-text italic font-sm"},"W"),r.a.createElement("span",{className:"font-xsm"},"ork")))),r.a.createElement("nav",{className:"top--navbar d-flex nowrap align-items--center justify-content--s-between position-relative"},"/admin"!==n?r.a.createElement("i",{className:"fas fa-bars color2 mobile font-md",onClick:function(e){return L(e)}}):null,"/admin"===n?null:r.a.createElement("div",{className:"search-box d-flex align-items--center nowrap"},r.a.createElement("input",{type:"search",placeholder:"Search by category",className:"font-sm text-align-center font-weight-bold search"}),r.a.createElement("div",{className:"search-btn d-flex nowrap align-items--center justify-content--center cursor-pointer"},r.a.createElement("i",{className:"fas fa-search font-md"}))),r.a.createElement("ul",{className:"d-flex nowrap align-items--center"},this.renderNavLink(t,n),r.a.createElement("li",{className:"cursor-pointer margin-right-md"},r.a.createElement(v.b,{to:"/user/profile"},r.a.createElement("div",{className:"avatar--sm"},r.a.createElement("img",{className:"",src:a[0],alt:"your avatar"})))),"/admin"!==n?r.a.createElement("i",{className:"fas fa-users color2 mobile font-md",onClick:function(e){return _(e)}}):null)))}}]),t}(n.Component);xe.contextType=U;var Ie=xe,De=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){this._isMounted=!0;var e=this.props,t=e.users,a=e.addUser,n=e.history.push,r=e.match.path;if(console.log(this.props),0===t.length){var o=this.context.data,c=o.userId,l=o.token;Object(F.getData)("".concat(F.apiKey,"/auth/users"),c,l).then((function(e){var t=e.data;t=he(t),a(t),n("".concat(r,"/dashboard"))})).catch((function(e){console.log(e)}))}}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.context,t=e.updateAccount,a=e.data,n=e.data,o=n.userId,c=n.token,l=this.props,s=l.match,i=l.users,m=l.addUser;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null,r.a.createElement(E.b,{path:"".concat(s.path),component:Ie}),r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"".concat(s.path,"/profile/edit"),render:function(e){return r.a.createElement(je,Object.assign({updateAccount:t,userData:a,users:i,addUser:m},e))}}),r.a.createElement(E.b,{exact:!0,path:"".concat(s.path,"/profile"),render:function(e){return r.a.createElement(Ne,Object.assign({updateAccount:t,userData:a},e))}}),r.a.createElement(E.b,{exact:!0,path:"".concat(s.path,"/dashboard"),render:function(e){return r.a.createElement(ve,Object.assign({userData:{data:a},updateAccount:t},e))}}),r.a.createElement(E.b,{exact:!0,path:"".concat(s.path,"/:username"),key:"".concat(s.path,"/:username"),render:function(e){return r.a.createElement(we,Object.assign({authToken:{token:c},userId:o},e))}}))))}}]),t}(n.Component);De.contextType=U;var Ce=Object(E.g)(De);function Ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Se=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).handleUserInput=function(e){e.preventDefault();var t=e.target;a.setState(Object(D.a)({},t.name,t.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.context.data,n=t.token,r=t.userId,o=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ue(a,!0).forEach((function(t){Object(D.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ue(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a.state,{userId:parseInt(r,10)});console.log(o),Object(i.trackPromise)(Object(F.sendData)("".concat(F.apiKey,"/auth/create-user"),o,n).then((function(e){console.log(e)})).catch((function(e){console.log(e)})))},a.state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state),r.a.createElement("form",{className:"form",method:"POST"},r.a.createElement("label",null," First Name",r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"text",name:"firstName",placeholder:"Enter Firstname",className:"form-control"})),r.a.createElement("label",null," Last Name",r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"text",name:"lastName",placeholder:"Enter Lastname",className:"form-control"})),r.a.createElement("label",null," Email",r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"email",name:"email",placeholder:"Enter employee's email",className:"form-control"})),r.a.createElement("label",null," Password",r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"password",name:"password",placeholder:"Create employee's password",className:"form-control"})),r.a.createElement("div",{className:"padding-bottom-sm padding-top-sm"},r.a.createElement("h4",{className:"heading md padding-bottom-sm"},"Gender"),r.a.createElement("label",{className:"check radio position-relative padding-left-md margin-bottom-sm cursor-pointer font-md padding-bottom-xsm "}," ",r.a.createElement("span",null,"male"),r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"radio",value:"male",name:"gender",className:"form-control",id:"web_dev"}),r.a.createElement("span",{className:"checkmark border-r-circle"})),r.a.createElement("label",{className:"check radio position-relative padding-left-md margin-bottom-sm cursor-pointer font-md "},"female",r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"radio",value:"female",name:"gender",className:"form-control",id:"female"}),r.a.createElement("span",{className:"checkmark border-r-circle"}))),r.a.createElement("label",null," Job Role",r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"text",name:"jobRole",placeholder:"Job Role (e.x Frontend Web Developer)",className:"form-control"})),r.a.createElement("label",null," Department",r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"text",name:"department",placeholder:"Employee's department",className:"form-control"})),r.a.createElement("label",null," Address",r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"text",name:"address",placeholder:"Enter Address",className:"form-control"})),r.a.createElement("div",{className:"padding-bottom-sm padding-top-sm"},r.a.createElement("h4",{className:"heading md padding-bottom-xsm"},"Account type"),r.a.createElement("label",{className:"check radio position-relative padding-left-md margin-bottom-sm cursor-pointer font-md padding-bottom-xsm"},r.a.createElement("span",null,"Admin"),r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"radio",value:"admin",name:"accountType",className:"form-control"}),r.a.createElement("span",{className:"checkmark border-r-circle"})),r.a.createElement("label",{className:"check radio position-relative padding-left-md margin-bottom-sm cursor-pointer font-md"},"Regular",r.a.createElement("input",{onChange:function(t){return e.handleUserInput(t)},type:"radio",value:"regular",name:"accountType",className:"form-control"}),r.a.createElement("span",{className:"checkmark border-r-circle"}))),r.a.createElement("input",{onClick:function(t){return e.handleSubmit(t)},type:"submit",value:"Create User",className:"submit--btn"}))}}]),t}(n.Component);Se.contextType=U;var Me=Se,Fe=(a(32),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).toggleModal=function(e){e.preventDefault();var t=e.target;console.log(t);var n=Object(k.a)(t.classList);console.log(n),n.includes("close")?a.setState({isModalOpen:!1}):a.setState({isModalOpen:!0}),console.log(a.state.isModalOpen)},a.addUser=a.props.addUser,a.users=a.props.users,a.state={isModalOpen:!1},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;this.props.match;return console.log(this.props.match),r.a.createElement("section",{className:"add-bckgr--img d-flex justify-content--center align-items--center",style:{width:"100%",height:"88vh",overflow:"hidden"}},r.a.createElement("div",{className:"d-flex justify-content--center align-items--center"},r.a.createElement("div",{className:"link-wrap--box",onClick:function(t){return e.toggleModal(t)}},r.a.createElement("div",{className:"box cursor-pointer overflow--h border-r-10 padding-md bckgr-white d-flex justify-content--center align-items--center"},r.a.createElement("div",{className:"text-align-center color-dark"},r.a.createElement("i",{className:"fas fa-user-plus icon margin-bottom-sm font-lg color2"}),r.a.createElement("div",{className:"font-sm font-weight-bold"},"Create User Account")))),r.a.createElement(v.b,{to:"/admin/employees",className:"link-wrap--box"},r.a.createElement("div",{className:"box cursor-pointer overflow--h border-r-10 padding-md bckgr-white d-flex justify-content--center align-items--center"},r.a.createElement("div",{className:"text-align-center color-dark"},r.a.createElement("i",{className:"fas fa-users icon margin-bottom-sm font-lg color2"}),r.a.createElement("div",{className:"font-sm font-weight-bold"},"All Employees"))))),r.a.createElement(I,{toggleModal:this.toggleModal,isModalOpen:this.state.isModalOpen,contentTitle:"Create Employee Account",contentBody:r.a.createElement(Me,null)}))}}]),t}(n.Component)),Te=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e)))._isMounted=!1,a.state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e,t=this.context,a=t.users,n=t.addUser;return console.log(this.props.match),r.a.createElement("section",{className:"d-flex justify-content--center align-items--center",style:{width:"100%",height:"80vh"}},r.a.createElement("div",{className:"d-flex justify-content--center align-items--center ".concat((e="991.98px",window.matchMedia("(max-width:".concat(e,")")).matches?"padding-md":"padding-lg"))},a.map((function(e,t){return r.a.createElement(Pe,{key:t,user:e,addUser:n})}))))}}]),t}(n.Component);Te.contextType=R;var Pe=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.user,t=e.photoDetails,a=(e.employeeId,e.firstName),n=e.lastName;return r.a.createElement("div",{className:"link-wrap--box"},r.a.createElement("div",{className:"employee--box cursor-pointer border-r-10 overflow--h"},r.a.createElement("div",{className:"user-avatar position-relative"},r.a.createElement("img",{src:t[0],alt:"user avatar"}),r.a.createElement("div",{class:"action-btns d-flex nowrap"},r.a.createElement("i",{class:"fas fa-trash margin-right-sm font-md border-r-circle danger-text"}),r.a.createElement(v.b,{to:"/user/".concat(a,"_").concat(n)},r.a.createElement("i",{class:"fas fa-eye margin-right-sm font-md border-r-circle color-white"})))),r.a.createElement("div",{className:"padding-sm color-dark bckgr-white"},r.a.createElement("div",{className:"font-sm padding-sm font-weight-bold color-dark"},"".concat(a," ").concat(n)))))}}]),t}(n.Component),Ae=(n.Component,Te),Le=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){this._isMounted=!0;var e=this.props,t=e.users,a=e.addUser,n=e.history.push,r=e.match.path;if(console.log(this.props),0===t.length){var o=this.context.data,c=o.userId,l=o.token;Object(F.getData)("".concat(F.apiKey,"/auth/users"),c,l).then((function(e){var t=e.data;t=he(t),a(t),n("".concat(r,"/dashboard"))})).catch((function(e){console.log(e)}))}}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.context.data,t=e.token,a=e.userId,n=this.props,o=n.match,c=n.users,l=n.addUser;return r.a.createElement(v.a,null,r.a.createElement(E.b,{path:"".concat(o.path),component:Ie}),r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"".concat(o.path,"/dashboard"),component:Fe}),r.a.createElement(E.b,{exact:!0,path:"".concat(o.path,"/employees"),render:function(e){return r.a.createElement(Ae,Object.assign({users:c,addUser:l,userData:{token:t,userId:a}},e))}})))}}]),t}(n.Component);Le.contextType=U;var _e=Object(E.g)(Le),Ge=a(40),Re=function(e){var t=e.component,a=e.auth,o=e.path,c=Object(Ge.a)(e,["component","auth","path"]),l=Object(n.useContext)(R),s=l.users,i=l.addUser,m=a();return r.a.createElement(E.b,Object.assign({path:o},c,{render:function(e){return m?r.a.createElement(t,Object.assign({users:s,addUser:i},e)):r.a.createElement(E.a,{to:{pathName:"/",state:{prevLocation:o,error:"UnAuthorized Access!"}}})}}))},Be=function(){var e=Object(n.useContext)(U),t=e.isLoggedIn,a=e.data;return{isLoggedIn:t,userId:a.userId,token:a.token,accountType:a.accountType}},We=function(){var e=Be(),t=e.isLoggedIn,a=e.userId,n=e.token;return!!(t&&a&&n)},Ke=function(){var e=Be(),t=e.accountType,a=e.isLoggedIn,n=e.userId,r=e.token;return!!(a&&n&&r&&"admin"===t)};y.a.add(O.a,N.a,j.a,j.b);var Je=function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement(v.a,null,r.a.createElement(M,null,r.a.createElement(B,null,r.a.createElement(E.b,{path:"/",exact:!0,component:A}),r.a.createElement(E.d,null,r.a.createElement(Re,{path:"/user",auth:We,component:Ce}),r.a.createElement(Re,{path:"/admin",auth:Ke,component:_e})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.load({google:{families:["Pacifico","Ubuntu:400,700","Roboto"]}}),c.a.render(r.a.createElement("div",null,r.a.createElement(Je,null),r.a.createElement(u,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.3a2dff34.chunk.js.map